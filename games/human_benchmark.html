<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ§ </text></svg>">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Human Benchmark</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <style>
        #color-area, #click-color-area {
            width: 100%;
            margin: 0;
            padding: 0;
        }

        .chimp-button-container {
            text-align: center;
            margin-top: 50px;
        }
        .chimp-button {
            font-size: 24px;
            font-weight: bold;
            padding: 10px 20px;
            margin: 10px;
            border-radius: 5px;
            line-height: 30px;
            height: 50px;
            vertical-align: middle;
        }
        .chimp-grid .chimp-button {
            height: 75px;
            width: 75px;
            line-height: 50px;
            font-size: 50px;
            padding: 10px 0;
        }
        .chimp-grid .chimp-button.covered:before {
            height: 75px;
            width: 75px;
            position: relative;
            display: block;
            top: -10px;
            left: -20px;
            content: ' ';
        }
        .chimp-grid {
            margin: 50px auto;
            display: grid;
            grid-gap: 5px;
            max-height: 50vh;
        }

        @media (max-width: 600px) {
            .chimp-grid .chimp-button {
                height: 35px;
                width: 35px;
                line-height: 25px;
                font-size: 25px;
                padding: 5px 0;
            }
        }

        #aim-area {
            max-width: 100vw;
            max-height: 66vh;
        }
        .w-1000 {
            width: 1000px;
        }
        .h-500 {
            height: 500px;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-100 text-xl text-center">
<div class="py-8">
    <h1 class="text-4xl font-bold text-center mb-6">Human Benchmark Tests</h1>
    <ul class="tabs flex space-x-4 mb-6 border-b">
        <li class="tab flex-1 text-center pb-2">
            <a class="text-blue-600 active font-semibold" href="#reaction-time-test">Reaction Time</a>
        </li>
        <li class="tab flex-1 text-center pb-2">
            <a class="text-blue-600 font-semibold" href="#number-memory-test">Number Memory</a>
        </li>
        <li class="tab flex-1 text-center pb-2">
            <a class="text-blue-600 font-semibold" href="#verbal-memory-test">Verbal Memory</a>
        </li>
        <li class="tab flex-1 text-center pb-2">
            <a class="text-blue-600 font-semibold" href="#chimp-test">Chimp Test</a>
        </li>
        <li class="tab flex-1 text-center pb-2">
            <a class="text-blue-600 font-semibold" href="#aim-test">Aim Test</a>
        </li>
    </ul>

    <div id="reaction-time-test" class="test-screen active">
        <h2 class="text-3xl font-bold mb-4">Reaction Time Test</h2>
        <div id="wait-area" class="mb-4 relative">
            <div id="color-dummy" class="w-full h-60 bg-red-500"></div>
            <div id="color-area" class="cursor-pointer w-full absolute top-0 h-60 bg-red-500"></div>
            <p class="mb-2 absolute w-full top-8 text-white pointer-events-none">After clicking "Start Test" wait until the color turns green and click here</p>
        </div>
        <div id="click-area" class="hidden relative">
            <div id="click-color-area" class="cursor-pointer w-full absolute h-60 bg-green-500"></div>
            <p class="mb-2 text-4xl text-bold absolute w-full top-8 text-white pointer-events-none">NOW! CLICK!!!</p>
        </div>
        <div id="results-area" class="hidden">
            <p>Reaction Time ðŸ•‘</p>
            <span id="reaction-time"></span>
        </div>
        <button id="start-reaction-time-test" class="text-2xl waves-effect waves-light mt-4 font-bold bg-green-500 text-white rounded px-8 py-4">Start Test</button>
    </div>

    <div id="number-memory-test" class="test-screen hidden">
        <h2 class="text-3xl font-bold mb-4">Number Memory Test</h2>
        <div id="number-area" class="card-panel bg-gray-200 text-7xl font-extrabold flex items-center justify-center min-h-[200px]"></div>
        <div id="progress-bar-container" class="w-1/2 h-5 bg-gray-300 rounded-full mx-auto my-4">
            <div id="progress-bar" class="w-full h-full bg-blue-700 rounded-full"></div>
        </div>
        <div id="answer-area" class="flex flex-col container items-center">
            <input id="answer-input" class="hidden" type="number" placeholder="Enter numbers here...">
            <button id="submit-answer" class="hidden text-2xl bg-blue-500 px-8 py-4 waves-effect waves-light">Submit</button>
        </div>
        <div id="results-area" class="hidden flex flex-col items-center">
            <p class="mb-2">Your Level:</p>
            <span id="number-level" class="text-xl"></span>
        </div>
        <button id="start-number-memory-test" class="text-2xl waves-effect waves-light mt-4 font-bold bg-green-500 text-white rounded px-8 py-4">Start Test</button>
    </div>

    <div id="verbal-memory-test" class="test-screen hidden">
        <h2 class="text-3xl font-bold mb-4">Verbal Memory Test</h2>
        <div id="word-area" class="card-panel grey lighten-2 center-align p-4 min-h-[200px] text-5xl font-bold"></div>
        <div id="buttons-area" class="hidden flex justify-around mt-4">
            <button id="seen-button" class="text-2xl waves-effect waves-light px-8 py-4 font-bold bg-blue-500 text-white rounded">SEEN</button>
            <button id="new-button" class="text-2xl waves-effect waves-light px-8 py-4 font-bold bg-blue-500 text-white rounded">NEW</button>
        </div>
        <div id="results-area" class="hidden mt-4">
            <p class="text-xl">Your Score:</p>
            <span id="verbal-score" class="text-2xl font-bold"></span>
        </div>
        <button id="start-verbal-memory-test" class="text-2xl waves-effect waves-light mt-4 font-bold bg-green-500 text-white rounded px-8 py-4">Start Test</button>
    </div>

    <div id="chimp-test" class="test-screen hidden">
        <h2 class="text-3xl font-bold mb-4">Chimp Test</h2>
        <div class="chimp-button-container flex justify-center mt-12">
            <button id="start-chimp-test" class="text-2xl waves-effect waves-light mt-4 font-bold bg-green-500 text-white rounded px-8 py-4">Start Test</button>
        </div>
        <div class="chimp-grid grid gap-2.5 max-w-2xl mx-auto mt-12 grid-cols-5 md:grid-cols-8 grid-rows-5"></div>
    </div>

    <div id="aim-test" class="test-screen hidden">
        <h2 class="text-3xl font-bold mb-4">Aim Test</h2>
        <div class="aim-button-container flex justify-center mt-12">
            <button id="start-aim-test" class="text-2xl waves-effect waves-light mt-4 font-bold bg-green-500 text-white rounded px-8 py-4">
                Start Test
            </button>
        </div>
        <div id="aim-area" class="relative w-1000 h-500 bg-gray-100 m-auto hidden">
            <div id="target" class="absolute w-20 h-20 bg-red-500 rounded-full m-auto hidden cursor-pointer"></div>
        </div>
        <div id="target-counter" class="mt-12 text-2xl">Targets left: 30</div>
        <div id="average-time" class="mt-12 text-2xl"></div>
    </div>
</div>
<div id="disclaimer" class="text-center mt-6 py-3 text-sm text-gray-600 bg-white">
    Thank you for using this Human Benchmark Tests tool! This free and open-source variant was inspired by the online tool available at <a href="https://humanbenchmark.com/" target="_blank" rel="noopener noreferrer" class="text-blue-600 underline">Human Benchmark</a>.

    <br><br>

    The code for this website has been supplied by ChatGPT based on the GPT-4 architecture. To learn more or to check out the code, visit our <a href="https://github.com/TobiasMue91/tobiasmue91.github.io" target="_blank" rel="noopener noreferrer" class="text-blue-600 underline">GitHub page</a>. We value your feedback and suggestions to help us improve. Enjoy testing!
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script>
    $(document).ready(function () {
        $('.tabs').tabs();
    });

    // REACTION TIME
    $(function () {
        var startTime;
        var endTime;

        $("#start-reaction-time-test").click(function () {
            $(this).hide();
            $("#wait-area").show();
            $('#wait-area').click(function () {
                $("#results-area").show();
                $("#reaction-time").text(`FAILED`);
                $("#start-reaction-time-test").show();
                clearTimeout(showTimeout);
            })
            $("#results-area").hide();
            let showTimeout = setTimeout(function () {
                $("#wait-area").hide();
                $("#click-area").show();
                startTime = new Date();
            }, Math.floor(Math.random() * 6000) + 2000);
        });

        $("#click-color-area").mousedown(function () {
            endTime = new Date();
            $("#click-area").hide();
            $("#reaction-time-test #results-area").show();
            $("#reaction-time").text(`${endTime - startTime} ms`);
            $("#start-reaction-time-test").show();
        });
    });

    // NUMBER MEMORY
    $(function () {
        var numbers = [];
        var numberIndex = 0;
        var answer = "";
        var level = 1;
        var timer;
        let $progressBar = $('#progress-bar');

        $("#start-number-memory-test").click(function () {
            $(this).hide();
            $("#answer-input").prop("disabled", false);
            $("#submit-answer").show();
            $("#number-memory-test #results-area").hide();
            generateNumber();
        });

        $("#submit-answer").click(function () {
            clearTimeout(timer);
            if ($("#answer-input").val() === answer) {
                $("#answer-input").val("");
                numberIndex = 0;
                level++;
                numbers = [];
                generateNumber();
            } else {
                lose();
            }
        });

        document.querySelector('#answer-input').addEventListener('keypress', (e) => e.key === 'Enter' && (e.preventDefault(), document.querySelector('#submit-answer').click()));

        function lose() {
            $("#answer-input").prop("disabled", true);
            $("#submit-answer").hide();
            $("#number-memory-test #results-area").show();
            $("#number-level").text(level - 1);
            $("#start-number-memory-test").show();
            numbers = [];
            numberIndex = 0;
            level = 1;
        }

        function generateNumber() {
            $("#answer-input").hide();
            $("#submit-answer").hide();
            $("#number-area").text("Memorize the numbers...");
            // Reset the progress bar animation for the next level (if applicable)
            $progressBar.stop();
            $progressBar.width('100%');
            setTimeout(() => {
                $("#number-area").text("");
                for (var i = 0; i < level; i++) {
                    var number = Math.floor(Math.random() * 10);
                    numbers.push(number);
                    $("#number-area").append(`<span class="number-box">${number}</span>`);
                }

                answer = numbers.join('');
                const duration = 3000 + (level * 500);

                // Start the progress bar animation
                $progressBar.width('100%');
                $progressBar.animate({ width: '0%' }, duration, 'linear');
                timer = setTimeout(() => {
                    $("#number-area").empty();
                    $("#answer-input").show().focus();
                    $("#submit-answer").show();
                }, duration);
            }, 1000);
        }
    });

    // VERBAL MEMORY
    $(function () {
        var wordIndex = 0;
        var score = 0;
        let lastWordIndex = 0;
        let currentWord, wordRotation, wordList, shownWords;

        $("#start-verbal-memory-test").click(function () {
            wordRotation = [];
            wordList = ["apple", "banana", "car", "dog", "elephant", "fish", "guitar", "house", "ice cream", "jacket", "kangaroo", "lemon", "moon", "nose", "orange", "pizza", "queen", "rainbow", "sun", "tree", "umbrella", "violin", "water", "xylophone", "yellow", "zebra", "book", "cat", "desk", "egg", "fire", "goose", "hat", "island", "jungle", "kite", "lion", "mango", "nest", "ocean", "pencil", "quilt", "river", "snake", "table", "unicorn", "volcano", "window", "yacht", "zeppelin", "atom", "butterfly", "cloud", "diamond", "feather", "giraffe", "helicopter", "internet", "jellyfish", "kayak", "leopard", "mushroom", "nutmeg", "ostrich", "peacock", "quicksilver", "rhinoceros", "sandwich", "telephone", "vampire", "waterfall", "yogurt", "zealous"];
            shownWords = [];
            for (let i = 0; i < 5; i++) {
                addWordToRotation();
            }
            $(this).hide();
            $("#word-area").show();
            $("#buttons-area").show();
            $("#verbal-memory-test #results-area").hide();
            displayWord();
        });

        function displayWord() {
            let randomIndex = Math.floor(Math.random() * wordRotation.length);
            while (randomIndex === lastWordIndex) {
                randomIndex = Math.floor(Math.random() * wordRotation.length);
            }
            currentWord = wordRotation[randomIndex];
            lastWordIndex = randomIndex;
            $("#word-area").text(currentWord);
        }

        function addWordToRotation() {
            const randomIndex = Math.floor(Math.random() * wordList.length);
            wordList.splice(randomIndex, 1);
            wordRotation.push(wordList[randomIndex]);
        }

        function correct() {
            score++;
            wordIndex++;
            if (score % 5 === 0) {
                addWordToRotation();
            }
            displayWord();
            $("#verbal-score").text(score);
        }

        function wrong() {
            $("#verbal-memory-test #buttons-area").hide();
            $("#verbal-memory-test #results-area").show();
            $("#start-verbal-memory-test").show();
            $("#verbal-score").text(score);
            score = 0;
            shownWords = [];
        }

        $("#new-button").click(function () {
            if (shownWords.includes(currentWord)) {
                wrong();
                return;
            }
            shownWords.push(currentWord);
            correct();
        });

        $("#seen-button").click(function () {
            if (!shownWords.includes(currentWord)) {
                wrong();
                return;
            }
            correct();
        });
    });

    // CHIMP TEST
    $(function (){
        var level = 1;
        var grid;
        const columns = (window.matchMedia('(max-width: 600px)').matches) ? 5 : 8;

        $("#start-chimp-test").click(function (){
            $(this).hide();
            $("#chimp-test .chimp-button-container").hide();
            generateGrid();
        });

        function generateGrid(){
            var numbers = [];
            for (var i = 1; i <= level + 3; i++){
                numbers.push(i);
            }
            numbers = shuffleArray(numbers);
            grid = [];
            for (var i = 0; i < 5; i++){
                var row = [];
                for (var j = 0; j < columns; j++){
                    row.push(0);
                }
                grid.push(row);
            }

            const numberCount = numbers.length;

            for (var j = 0; j < numberCount; j++) {
                let columnIndex = Math.floor(Math.random() * columns);
                let rowIndex = Math.floor(Math.random() * 5);
                if (grid[rowIndex][columnIndex] === 0) {
                    grid[rowIndex][columnIndex] = numbers.pop();
                } else {
                    j--;
                }
            }
            displayGrid();
        }

        function displayGrid(){
            $("#chimp-test .chimp-grid").empty();
            for (var i = 0; i < 5; i++){
                for (var j = 0; j < columns; j++){
                    var value = grid[i][j];
                    if (value > 0){
                        $("#chimp-test .chimp-grid").append(`<div class="chimp-button waves-effect waves-light btn">${value}</div>`);
                    } else {
                        $("#chimp-test .chimp-grid").append(`<div class="chimp-button empty"></div>`);
                    }
                }
            }
            $('.chimp-grid').find(".chimp-button:not(.empty)").click(checkButton);
        }

        function hideNumbers() {
            $('.chimp-grid').find('.chimp-button.waves-effect').each(function() {
                $(this).addClass('covered');
            })
        }

        let expectedClickedValue = 1;

        function checkButton(event){
            const $clickedButton = $(event.target);
            var clickedValue = parseInt($clickedButton.text());
            $clickedButton.html('');
            $clickedButton.removeClass(['waves-effect', 'waves-light', 'btn']);
            $clickedButton.addClass('empty');

            if (clickedValue !== expectedClickedValue) {
                alert(`You lost. You have reached level ${level}`);
                $("#start-chimp-test").show();
                $("#chimp-test .chimp-button-container").show();
                $("#chimp-test .chimp-grid").html('');
                level = 1;
                expectedClickedValue = 1;
                return;
            } else {
                expectedClickedValue++;
            }

            if (clickedValue === level + 3){
                level++;
                expectedClickedValue = 1;
                generateGrid();
            } else if(clickedValue === 1 && level > 1) {
                hideNumbers();
            }
        }

        function shuffleArray(array){
            var currentIndex = array.length, temporaryValue, randomIndex;
            while (0 !== currentIndex){
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex -= 1;
                temporaryValue = array[currentIndex];
                array[currentIndex] = array[randomIndex];
                array[randomIndex] = temporaryValue;
            }
            return array;
        }
    });

    // AIM TEST
    $(function () {
        var startTime;
        var hitTimes = [];
        var targetCount = 0;

        $("#start-aim-test").click(function () {
            $(this).hide();
            $("#average-time").text('');
            $("#aim-area").removeClass('hidden');
            targetCount = 0;
            hitTimes = [];
            showNextTarget();
        });

        $("#target").click(function () {
            var hitTime = new Date().getTime() - startTime;
            hitTimes.push(hitTime);
            targetCount++;
            $("#target-counter").text(`Targets left: ${30 - targetCount}`);
            if (targetCount < 30) {
                showNextTarget();
            } else {
                var totalHitTime = hitTimes.reduce((a, b) => a + b, 0);
                var averageHitTime = totalHitTime / hitTimes.length;
                $("#average-time").text(`Average Time ðŸ•‘: ${averageHitTime.toFixed(2)} ms`);
                $("#start-aim-test").show();
                $("#aim-area").addClass('hidden');
                $("#target-counter").text('');
                $(this).hide();
            }
        });

        function showNextTarget() {
            var viewportWidth = Math.min(window.innerWidth, 1000);
            var viewportHeight = Math.min(window.innerHeight - 60, 500);
            var randomX = Math.random() * (viewportWidth - 20);
            var randomY = Math.random() * (viewportHeight - 20);
            $("#target").css({
                top: `${randomY}px`,
                left: `${randomX}px`
            });
            $("#target").show();
            startTime = new Date().getTime();
        }
    });
</script>
<script src="../sidebar.js"></script>
</body>
</html>