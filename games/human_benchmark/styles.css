:root{--primary:#3b82f6;--primary-hover:#2563eb;--secondary:#8b5cf6;--secondary-hover:#7c3aed;--success:#10b981;--success-hover:#059669;--danger:#ef4444;--danger-hover:#dc2626;--warning:#f59e0b;--bg-dark:#0f172a;--bg-card:#1e293b;--bg-hover:#334155;--text-primary:#f1f5f9;--text-secondary:#cbd5e1;--border:#334155;--shadow:0 10px 15px -3px rgba(0,0,0,0.3),0 4px 6px -2px rgba(0,0,0,0.2);--shadow-lg:0 20px 25px -5px rgba(0,0,0,0.3),0 10px 10px -5px rgba(0,0,0,0.2);}
*{box-sizing:border-box;}
.hb-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.75);display:flex;align-items:center;justify-content:center;z-index:9999;opacity:0;transition:opacity 0.3s ease;backdrop-filter:blur(4px);}
.hb-modal-overlay.active{opacity:1;}
.hb-modal{background:var(--bg-card);border-radius:16px;max-width:500px;width:90%;margin:20px;box-shadow:var(--shadow-lg);transform:scale(0.9);transition:transform 0.3s ease;border:1px solid var(--border);}
.hb-modal-overlay.active .hb-modal{transform:scale(1);}
.hb-modal-content{padding:2rem;text-align:center;color:var(--text-primary);}
.hb-modal-btn{padding:0.75rem 2rem;border-radius:8px;font-weight:600;font-size:1rem;cursor:pointer;transition:all 0.2s ease;border:none;outline:none;min-width:120px;}
.hb-btn-primary{background:var(--primary);color:white;}
.hb-btn-primary:hover{background:var(--primary-hover);transform:translateY(-2px);box-shadow:0 4px 12px rgba(59,130,246,0.4);}
.hb-btn-secondary{background:var(--secondary);color:white;}
.hb-btn-secondary:hover{background:var(--secondary-hover);transform:translateY(-2px);box-shadow:0 4px 12px rgba(139,92,246,0.4);}
.hb-btn-ghost{background:transparent;color:var(--text-secondary);border:1px solid var(--border);}
.hb-btn-ghost:hover{background:var(--bg-hover);color:var(--text-primary);}
.hb-toast{position:fixed;bottom:20px;right:20px;padding:1rem 1.5rem;border-radius:8px;background:var(--bg-card);color:var(--text-primary);box-shadow:var(--shadow);z-index:9998;transform:translateX(400px);transition:transform 0.3s ease;border-left:4px solid var(--primary);}
.hb-toast.active{transform:translateX(0);}
.hb-toast-success{border-left-color:var(--success);}
.hb-toast-error{border-left-color:var(--danger);}
.confetti-particle{position:fixed;width:10px;height:10px;top:-10px;z-index:9997;pointer-events:none;animation:confetti-fall linear forwards;}
@keyframes confetti-fall{to{transform:translateY(100vh) rotate(360deg);opacity:0;}}
.hb-progress-bar{width:100%;height:6px;background:var(--bg-hover);border-radius:3px;overflow:hidden;margin:1rem 0;}
.hb-progress-fill{height:100%;background:linear-gradient(90deg,var(--primary),var(--secondary));width:100%;transition:width 1s linear;border-radius:3px;}
.game-card{background:var(--bg-card);transition:all 0.3s ease;border-color:var(--border)!important;}
.game-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg);border-color:var(--primary)!important;}
.game-card a{color:var(--text-primary);text-decoration:none;}
.game-card h2{color:var(--text-primary);}
.game-card p{color:var(--text-secondary);}
.btn-game{padding:1rem 2.5rem;border-radius:12px;font-size:1.25rem;font-weight:700;cursor:pointer;transition:all 0.2s ease;border:none;outline:none;background:var(--primary);color:white;box-shadow:0 4px 6px rgba(59,130,246,0.3);}
.btn-game:hover:not(:disabled){background:var(--primary-hover);transform:translateY(-2px);box-shadow:0 6px 12px rgba(59,130,246,0.5);}
.btn-game:disabled{opacity:0.5;cursor:not-allowed;}
.btn-success{background:var(--success);}
.btn-success:hover:not(:disabled){background:var(--success-hover);box-shadow:0 6px 12px rgba(16,185,129,0.5);}
.btn-danger{background:var(--danger);}
.btn-danger:hover:not(:disabled){background:var(--danger-hover);box-shadow:0 6px 12px rgba(239,68,68,0.5);}
.score-display{font-size:3rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--secondary));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:1rem 0;}
.level-badge{display:inline-block;padding:0.5rem 1.5rem;background:var(--bg-hover);border-radius:20px;font-weight:600;color:var(--text-primary);border:2px solid var(--primary);margin:0.5rem;}
.stat-card{background:var(--bg-card);padding:1.5rem;border-radius:12px;border:1px solid var(--border);margin:1rem 0;}
.stat-label{color:var(--text-secondary);font-size:0.875rem;margin-bottom:0.25rem;}
.stat-value{color:var(--text-primary);font-size:1.5rem;font-weight:700;}
@keyframes pulse-glow{0%,100%{box-shadow:0 0 20px rgba(59,130,246,0.5);}50%{box-shadow:0 0 30px rgba(139,92,246,0.8);}}
.new-record{animation:pulse-glow 1s ease-in-out infinite;}
.loading{display:flex;justify-content:center;align-items:center;height:200px;font-size:18px;font-weight:bold;color:var(--text-primary);}
.loading::after{content:'...';animation:dots 1.5s steps(4,end) infinite;}
@keyframes dots{0%,20%{content:'';}40%{content:'.';}60%{content:'..';}80%,100%{content:'...';}}
#color-area,#click-color-area{width:100%;margin:0;padding:0;}
.chimp-button-container{text-align:center;margin-top:50px;}

.chimp-button{font-size:24px;font-weight:bold;padding:10px 20px;margin:10px;border-radius:8px;line-height:30px;height:50px;vertical-align:middle;transition:all 0.2s ease;}
.chimp-grid .chimp-button{height:75px;width:75px;line-height:50px;font-size:50px;padding:10px 0;border-radius:12px;}
.chimp-grid .chimp-button.covered{background-color:#718096!important;color:transparent!important;}
.chimp-grid .chimp-button.covered:before{height:75px;width:75px;position:relative;display:block;top:-10px;left:-20px;content:' ';}
.chimp-grid{margin:50px auto;display:grid;grid-gap:8px;max-height:50vh;}
@media (max-width:600px){.chimp-grid .chimp-button{height:35px;width:35px;line-height:25px;font-size:25px;padding:5px 0;}}
#aim-area{max-width:100vw;max-height:66vh;position:relative;}
.w-1000{width:1000px;max-width:100%;}
.h-500{height:500px;max-height:66vh;}
.hidden{display:none;}
#text::-webkit-scrollbar{display:none;}
.letter{position:relative;display:inline-block;}
.incorrect{color:#ef4444;}
.correct{color:#10b981;}
.letter.cursor::before{content:"|";display:inline-block;position:absolute;margin:-2px -3px;color:var(--text-primary);animation:blink .85s infinite linear;}
@keyframes blink{0%,100%{opacity:1;}50%{opacity:0;}}
.fade{position:relative;top:25px;left:0;width:100%;text-align:center;margin:0;padding:15px 0;z-index:1;background-image:linear-gradient(to top,transparent,var(--bg-dark));}

@media (prefers-color-scheme:dark){body,.card-panel,.game-card,#disclaimer{background-color:var(--bg-dark);color:var(--text-primary);}
nav,.navbar,.bg-gray-800,.bg-gray-50,#aim-area,.square,#math-answer{background-color:#1A1A1A;}
.game-card,.test-screen,.card-panel{border-color:var(--border);}
a,.text-white,#scoresContent,.points,#emo-score,#math-score,#verbal-score,#reaction-time,#number-level{color:var(--secondary);}
.bg-red-500,#color-dummy,#color-area{background-color:#B71C1C;}
.bg-green-500,#click-color-area{background-color:#1B5E20;}
.bg-blue-500{background-color:#0D47A1;}
.text-gray-500{color:#9E9E9E;}
.text-gray-900{color:var(--text-primary);}
.text-gray-800{color:var(--text-secondary);}
.fade{background-image:linear-gradient(to top,transparent,#082f49);}}
.bg-stripes{background-image:repeating-linear-gradient(45deg,transparent,transparent 10px,rgba(255,255,255,.3) 10px,rgba(255,255,255,.3) 20px);}
#progress-bar{transition:width 1s linear,background-color 0.5s ease;}
#stroop-word{border-radius:8px;background:white;border:solid 3px #333;padding:2rem 3rem;display:inline-block;box-shadow:0 4px 6px rgba(0,0,0,0.1);min-width:240px;letter-spacing:1px;}
.color-button{transition:background-color 0.2s ease;}
.square{width:100px;height:100px;border:2px solid var(--border);border-radius:8px;cursor:pointer;transition:all 0.2s ease;background:var(--bg-card);}
.square:hover{transform:scale(1.05);border-color:var(--primary);}