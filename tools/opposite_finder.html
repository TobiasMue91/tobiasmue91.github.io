<!DOCTYPE html>
<html lang="de">
<head>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ”„</text></svg>">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Opposite Finder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Roboto', sans-serif; background-color: #f0f2f5; color: #333; display: flex; justify-content: center; align-items: center; min-height: 100vh; padding: 20px; }
        .container { background-color: #fff; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); padding: 40px; width: 100%; max-width: 400px; }
        .title { margin-bottom: 20px; text-align: center; }
        .input-group { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .label { font-weight: bold; }
        .generate-button { background-color: #4caf50; border: none; border-radius: 5px; color: #fff; cursor: pointer; font-size: 16px; padding: 10px 20px; width: 100%; }
        .generate-button:hover { background-color: #45a049; }
        .output { margin-top: 20px; font-style: italic; text-align: center; }
        #output { padding: 10px; }
    </style>
</head>
<body>
<div class="container">
    <h1 class="title">Opposite Finder</h1>
    <div class="input-group">
        <label for="creativity" class="label">KreativitÃ¤t:</label>
        <span id="creativity-value">50%</span>
        <input type="range" id="creativity" name="creativity" min="0" max="100" step="5" value="50">
    </div>
    <div class="input-group">
        <label for="text" class="label">Text:</label>
        <input type="text" id="text" name="text" placeholder="Gib einen Text ein">
    </div>
    <button class="generate-button" onclick="generateOpposite()">Finde Gegenteil</button>
    <div class="output" id="output" style="display:none;"></div>
</div>
<script>
    async function generateOpposite() {
        const creativitySlider = document.getElementById('creativity');
        const textInput = document.getElementById('text');
        const outputElement = document.getElementById('output');
        toggleButtonState();
        const creativity = creativitySlider.value / 100;
        const text = textInput.value.trim();
        let botMessage = `Ich bin der Opposite Finder API. Ich erkenne die Sprache des eingegebenen Textes und finde bis zu drei semantische Gegenteile.`;
        let userMessage = `Text:${text}`;
        const response = await fetch('https://chatgpt.tobiasmue91.workers.dev/', {
            method: 'POST',
            headers: {
                "Content-Type": "application/json",
                "Accept": "*/*"
            },
            body: JSON.stringify({
                model: "gpt-3.5-turbo",
                max_tokens: 100,
                temperature: creativity * 2,
                messages: [
                    { role: "assistant", content: botMessage },
                    { role: "user", content: userMessage },
                ],
            })
        });
        try {
            const data = await response.json();
            if (response.ok) {
                outputElement.textContent = data.choices[0].message.content;
                outputElement.style.display = 'block';
            } else {
                outputElement.textContent = 'Fehler: ' + (data.error.message || 'Unbekannter Fehler');
                outputElement.style.display = 'block';
            }
            toggleButtonState();
        } catch (error) {
            console.error(error);
            outputElement.textContent = 'Fehler beim Erstellen des Gegenteils. Bitte versuche es erneut.';
            outputElement.style.display = 'block';
            toggleButtonState();
        }
    }

    function toggleButtonState() {
        const button = document.querySelector('[onclick="generateOpposite()"]');
        if (button.disabled) {
            button.disabled = false;
            button.innerText = "Finde Gegenteil";
        } else {
            button.disabled = true;
            button.innerText = "Suche...";
        }
    }

    document.getElementById("creativity").addEventListener("input", function (event) {
        document.getElementById("creativity-value").textContent = Number(event.target.value) + '%';
    });
</script>
</body>
</html>
