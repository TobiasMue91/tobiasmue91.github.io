<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Prompt Optimizer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js"></script>
</head>
<body class="bg-gray-100 dark:bg-gray-900 transition-colors duration-200">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <h1 class="text-3xl font-bold text-gray-800 dark:text-white mb-6">Prompt Optimizer</h1>
        
        <div class="flex justify-end mb-4">
            <button id="themeToggle" class="px-4 py-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white">
                Toggle Theme
            </button>
        </div>

        <div class="grid gap-4 md:grid-cols-2">
            <div class="space-y-2">
                <label class="block text-gray-700 dark:text-gray-300 font-medium">Input Prompt</label>
                <textarea 
                    id="input" 
                    class="w-full h-64 p-3 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-white" 
                    placeholder="Paste your prompt here..."
                ></textarea>
            </div>

            <div class="space-y-2">
                <label class="block text-gray-700 dark:text-gray-300 font-medium">Optimized Output</label>
                <textarea 
                    id="output" 
                    class="w-full h-64 p-3 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-white" 
                    readonly
                ></textarea>
                <button id="copyBtn" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors">
                    Copy to Clipboard
                </button>
            </div>
        </div>
    </div>

    <script>
        const abbreviations = {
            'about': 'abt', 'between': 'btw', 'could': 'cld', 'without': 'w/o', 'with': 'w/',
            'would': 'wld', 'should': 'shld', 'because': 'bc', 'through': 'thru', 'please': 'pls',
            'language': 'lang', 'example': 'ex', 'information': 'info', 'response': 'resp',
            'assistant': 'asst', 'human': 'usr', 'context': 'ctx', 'understand': 'undst',
            'generate': 'gen', 'output': 'out', 'message': 'msg', 'system': 'sys'
            // Add more abbreviations as needed
        };

        function optimizePrompt(text) {
            let optimized = text.replace(/\s+/g, ' ').trim();
            Object.entries(abbreviations).forEach(([word, abbr]) => {
                const regex = new RegExp(`\\b${word}\\b`, 'gi');
                optimized = optimized.replace(regex, abbr);
            });
            return optimized + ' Note:Use abbrev&short resp.No formatting/line breaks unless req.Be concise.';
        }

        document.addEventListener('DOMContentLoaded', () => {
            const inputArea = document.getElementById('input');
            const outputArea = document.getElementById('output');

            inputArea.addEventListener('input', function() {
                outputArea.value = optimizePrompt(this.value);
            });

            new ClipboardJS('#copyBtn', {
                text: () => outputArea.value
            }).on('success', () => {
                const btn = document.getElementById('copyBtn');
                btn.textContent = 'Copied!';
                setTimeout(() => btn.textContent = 'Copy to Clipboard', 2000);
            });

            document.getElementById('themeToggle').addEventListener('click', () => 
                document.documentElement.classList.toggle('dark')
            );
        });
    </script>
</body>
</html>
