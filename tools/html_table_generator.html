<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <link rel="icon"
          href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>📊</text></svg>">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML Table Generator</title>
    <meta name="description"
          content="Create beautiful HTML tables with this easy-to-use generator. Customize styles, colors, and download the code.">
    <meta name="author" content="ChatGPT 3.5 and Claude 3.7 Sonnet prompted by Tobias Müller">
    <meta name="keywords" content="HTML, table, generator, CSS, web development, HTML table, code generator">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>tailwind.config = {
        darkMode: 'class',
        theme: {
            extend: {
                colors: {'gray-750': '#2a2f3a'}
            }
        }
    }</script>
    <style>
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltip-text {
            visibility: hidden;
            width: 200px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        .copy-animation {
            animation: copy-pulse 1s;
        }

        @keyframes copy-pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
            }
        }

        .tg-loader {
            border: 3px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 3px solid #3498db;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            display: inline-block;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        .dark .tg-loader {
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-top: 3px solid #3498db;
        }

        .hljs-container pre {
            tab-size: 2;
        }

        /* Table preview border */
        .preview-container {
            background-image: linear-gradient(45deg, #f0f0f0 25%, transparent 25%),
            linear-gradient(-45deg, #f0f0f0 25%, transparent 25%),
            linear-gradient(45deg, transparent 75%, #f0f0f0 75%),
            linear-gradient(-45deg, transparent 75%, #f0f0f0 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
        }

        .dark .preview-container {
            background-image: linear-gradient(45deg, #2d3748 25%, transparent 25%),
            linear-gradient(-45deg, #2d3748 25%, transparent 25%),
            linear-gradient(45deg, transparent 75%, #2d3748 75%),
            linear-gradient(-45deg, transparent 75%, #2d3748 75%);
        }

        @media (max-width: 640px) {
            .tooltip .tooltip-text {
                width: 150px;
                margin-left: -75px;
            }
        }

        /* Keyboard shortcut style */
        kbd {
            background-color: #eee;
            border-radius: 3px;
            border: 1px solid #b4b4b4;
            box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2), 0 2px 0 0 rgba(255, 255, 255, 0.7) inset;
            color: #333;
            display: inline-block;
            font-size: 0.85em;
            font-weight: 700;
            line-height: 1;
            padding: 2px 4px;
            white-space: nowrap;
        }

        .dark kbd {
            background-color: #4a5568;
            border-color: #718096;
            box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2), 0 2px 0 0 rgba(255, 255, 255, 0.1) inset;
            color: #e2e8f0;
        }

        .shortcut-list li {
            margin-bottom: 8px;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 font-sans transition-colors duration-200 dark:bg-gray-900 dark:text-gray-200">
<div class="container mx-auto px-4 py-8 max-w-6xl">
    <header class="flex flex-col md:flex-row md:justify-between md:items-center mb-8 gap-4">
        <div class="flex items-center">
            <svg class="w-10 h-10 mr-2 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor"
                 viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M4 6h16M4 10h16M4 14h16M4 18h16"></path>
            </svg>
            <h1 class="text-3xl md:text-4xl font-bold text-blue-600 dark:text-blue-400">Table Generator</h1>
        </div>
        <div class="flex items-center space-x-3">
            <a href="#shortcuts"
               class="text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 text-sm flex items-center">
                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                </svg>
                Shortcuts
            </a>
            <button id="theme-toggle" aria-label="Toggle dark mode"
                    class="p-2 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">
                <svg id="light-icon" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"></path>
                </svg>
                <svg id="dark-icon" class="w-5 h-5 hidden" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                </svg>
            </button>
        </div>
    </header>

    <div class="grid grid-cols-1 lg:grid-cols-5 gap-6">
        <!-- Left panel: Configuration -->
        <div class="lg:col-span-2">
            <form id="table-form" class="bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden">
                <div class="tabs flex border-b border-gray-200 dark:border-gray-700 overflow-x-auto">
                    <button type="button"
                            class="tab-btn active px-4 py-3 text-blue-600 dark:text-blue-400 border-b-2 border-blue-500 focus:outline-none whitespace-nowrap"
                            data-tab="basic">Basic
                    </button>
                    <button type="button"
                            class="tab-btn px-4 py-3 text-gray-600 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-300 focus:outline-none whitespace-nowrap"
                            data-tab="style">Style
                    </button>
                    <button type="button"
                            class="tab-btn px-4 py-3 text-gray-600 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-300 focus:outline-none whitespace-nowrap"
                            data-tab="advanced">Advanced
                    </button>
                    <button type="button"
                            class="tab-btn px-4 py-3 text-gray-600 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-300 focus:outline-none whitespace-nowrap"
                            data-tab="templates">Templates
                    </button>
                    <button type="button"
                            class="tab-btn px-4 py-3 text-gray-600 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-300 focus:outline-none whitespace-nowrap"
                            data-tab="content">Content
                    </button>
                </div>

                <!-- Basic Tab -->
                <div id="basic-tab" class="tab-content p-6 space-y-6">
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-200">Structure</h2>
                            <div class="tooltip">
                                <svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                          d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z"
                                          clip-rule="evenodd"></path>
                                </svg>
                                <span class="tooltip-text">Set the number of rows and columns for your table structure</span>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="rows">Rows</label>
                                <input class="shadow-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md w-full py-2 px-3 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                       id="rows" type="number" min="1" max="50" value="3">
                            </div>
                            <div>
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="columns">Columns</label>
                                <input class="shadow-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md w-full py-2 px-3 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                       id="columns" type="number" min="1" max="20" value="3">
                            </div>
                        </div>

                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-200">Dimensions</h2>
                            <div class="tooltip">
                                <svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                          d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z"
                                          clip-rule="evenodd"></path>
                                </svg>
                                <span class="tooltip-text">Set size and spacing of table cells</span>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="cell-width">Cell Width (px)</label>
                                <input class="shadow-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md w-full py-2 px-3 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                       id="cell-width" type="number" min="0" max="500" value="100">
                            </div>
                            <div>
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="cell-height">Cell Height (px)</label>
                                <input class="shadow-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md w-full py-2 px-3 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                       id="cell-height" type="number" min="0" max="200" value="50">
                            </div>
                            <div>
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="border-width">Border Width (px)</label>
                                <input class="shadow-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md w-full py-2 px-3 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                       id="border-width" type="number" min="0" max="10" value="1">
                            </div>
                            <div>
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="padding">Cell Padding (px)</label>
                                <input class="shadow-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md w-full py-2 px-3 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                       id="padding" type="number" min="0" max="30" value="8">
                            </div>
                        </div>

                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-200">Options</h2>
                            <div class="tooltip">
                                <svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                          d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1a1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z"
                                          clip-rule="evenodd"></path>
                                </svg>
                                <span class="tooltip-text">Configure basic table elements</span>
                            </div>
                        </div>
                        <div class="space-y-3">
                            <div class="flex items-center">
                                <input id="header" type="checkbox"
                                       class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600"
                                       checked>
                                <label for="header" class="ml-2 text-gray-700 dark:text-gray-300">Include Header
                                    Row</label>
                            </div>
                            <div class="flex items-center">
                                <input id="caption" type="checkbox"
                                       class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600">
                                <label for="caption" class="ml-2 text-gray-700 dark:text-gray-300">Add Table
                                    Caption</label>
                            </div>
                            <div id="caption-text-container" class="ml-6 hidden">
                                <input class="mt-1 shadow-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md w-full py-2 px-3 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                       id="caption-text" type="text" placeholder="Table Caption" value="Table Caption">
                            </div>
                            <div class="flex items-center">
                                <input id="footer" type="checkbox"
                                       class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600">
                                <label for="footer" class="ml-2 text-gray-700 dark:text-gray-300">Add Footer Row</label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Style Tab -->
                <div id="style-tab" class="tab-content p-6 space-y-6 hidden">
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-200">Colors</h2>
                            <div class="tooltip">
                                <svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                          d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z"
                                          clip-rule="evenodd"></path>
                                </svg>
                                <span class="tooltip-text">Customize colors for your table elements</span>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="border-color">Border Color</label>
                                <div class="flex">
                                    <input class="w-12 h-10 rounded-l-md border border-gray-300 dark:border-gray-600"
                                           type="color" id="border-color" value="#dddddd">
                                    <input class="flex-1 rounded-r-md border border-l-0 border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 py-2 px-3 text-gray-700 dark:text-gray-200"
                                           type="text" id="border-color-text" value="#dddddd">
                                </div>
                            </div>
                            <div>
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="bg-color">Background Color</label>
                                <div class="flex">
                                    <input class="w-12 h-10 rounded-l-md border border-gray-300 dark:border-gray-600"
                                           type="color" id="bg-color" value="#ffffff">
                                    <input class="flex-1 rounded-r-md border border-l-0 border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 py-2 px-3 text-gray-700 dark:text-gray-200"
                                           type="text" id="bg-color-text" value="#ffffff">
                                </div>
                            </div>
                            <div>
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="text-color">Text Color</label>
                                <div class="flex">
                                    <input class="w-12 h-10 rounded-l-md border border-gray-300 dark:border-gray-600"
                                           type="color" id="text-color" value="#333333">
                                    <input class="flex-1 rounded-r-md border border-l-0 border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 py-2 px-3 text-gray-700 dark:text-gray-200"
                                           type="text" id="text-color-text" value="#333333">
                                </div>
                            </div>
                            <div>
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="header-bg-color">Header BG Color</label>
                                <div class="flex">
                                    <input class="w-12 h-10 rounded-l-md border border-gray-300 dark:border-gray-600"
                                           type="color" id="header-bg-color" value="#f3f4f6">
                                    <input class="flex-1 rounded-r-md border border-l-0 border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 py-2 px-3 text-gray-700 dark:text-gray-200"
                                           type="text" id="header-bg-color-text" value="#f3f4f6">
                                </div>
                            </div>
                            <div>
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="footer-bg-color">Footer BG Color</label>
                                <div class="flex">
                                    <input class="w-12 h-10 rounded-l-md border border-gray-300 dark:border-gray-600"
                                           type="color" id="footer-bg-color" value="#f8f9fa">
                                    <input class="flex-1 rounded-r-md border border-l-0 border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 py-2 px-3 text-gray-700 dark:text-gray-200"
                                           type="text" id="footer-bg-color-text" value="#f8f9fa">
                                </div>
                            </div>
                        </div>

                        <div class="space-y-3">
                            <div class="flex items-center">
                                <input id="striped" type="checkbox"
                                       class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600">
                                <label for="striped" class="ml-2 text-gray-700 dark:text-gray-300">Striped Rows</label>
                            </div>
                            <div id="stripe-color-container" class="ml-6 hidden">
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="stripe-color">Stripe Color</label>
                                <div class="flex">
                                    <input class="w-12 h-10 rounded-l-md border border-gray-300 dark:border-gray-600"
                                           type="color" id="stripe-color" value="#f9fafb">
                                    <input class="flex-1 rounded-r-md border border-l-0 border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 py-2 px-3 text-gray-700 dark:text-gray-200"
                                           type="text" id="stripe-color-text" value="#f9fafb">
                                </div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-200">Typography</h2>
                            <div class="tooltip">
                                <svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                          d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z"
                                          clip-rule="evenodd"></path>
                                </svg>
                                <span class="tooltip-text">Adjust font settings</span>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="font-family">Font Family</label>
                                <select class="shadow-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md w-full py-2 px-3 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        id="font-family">
                                    <option value="system-ui, sans-serif">System UI</option>
                                    <option value="Arial, sans-serif">Arial</option>
                                    <option value="Helvetica, sans-serif">Helvetica</option>
                                    <option value="Times New Roman, serif">Times New Roman</option>
                                    <option value="Georgia, serif">Georgia</option>
                                    <option value="Courier New, monospace">Courier New</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="font-size">Font Size (px)</label>
                                <input class="shadow-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md w-full py-2 px-3 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                       id="font-size" type="number" min="8" max="36" value="14">
                            </div>
                        </div>

                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-200">Borders & Alignment</h2>
                            <div class="tooltip">
                                <svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                          d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z"
                                          clip-rule="evenodd"></path>
                                </svg>
                                <span class="tooltip-text">Configure border styles and text alignment</span>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="border-style">Border Style</label>
                                <select class="shadow-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md w-full py-2 px-3 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        id="border-style">
                                    <option value="solid">Solid</option>
                                    <option value="dashed">Dashed</option>
                                    <option value="dotted">Dotted</option>
                                    <option value="double">Double</option>
                                    <option value="none">None</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="text-align">Text Alignment</label>
                                <select class="shadow-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md w-full py-2 px-3 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        id="text-align">
                                    <option value="left">Left</option>
                                    <option value="center">Center</option>
                                    <option value="right">Right</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="border-collapse">Border Collapse</label>
                                <select class="shadow-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md w-full py-2 px-3 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        id="border-collapse">
                                    <option value="collapse">Collapse</option>
                                    <option value="separate">Separate</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="border-spacing">Border Spacing (px)</label>
                                <input class="shadow-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md w-full py-2 px-3 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                       id="border-spacing" type="number" min="0" max="20" value="2">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Advanced Tab -->
                <div id="advanced-tab" class="tab-content p-6 space-y-6 hidden">
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-200">Effects & Behavior</h2>
                            <div class="tooltip">
                                <svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                          d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z"
                                          clip-rule="evenodd"></path>
                                </svg>
                                <span class="tooltip-text">Add interactive elements and responsive behavior</span>
                            </div>
                        </div>
                        <div class="space-y-3">
                            <div class="flex items-center">
                                <input id="hover-effect" type="checkbox"
                                       class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600">
                                <label for="hover-effect" class="ml-2 text-gray-700 dark:text-gray-300">Row Hover
                                    Effect</label>
                            </div>
                            <div id="hover-color-container" class="ml-6 hidden">
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="hover-color">Hover Color</label>
                                <div class="flex">
                                    <input class="w-12 h-10 rounded-l-md border border-gray-300 dark:border-gray-600"
                                           type="color" id="hover-color" value="#f0f4f8">
                                    <input class="flex-1 rounded-r-md border border-l-0 border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 py-2 px-3 text-gray-700 dark:text-gray-200"
                                           type="text" id="hover-color-text" value="#f0f4f8">
                                </div>
                            </div>
                            <div class="flex items-center mt-2">
                                <input id="responsive" type="checkbox"
                                       class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600">
                                <label for="responsive" class="ml-2 text-gray-700 dark:text-gray-300">Responsive
                                    Table</label>
                            </div>
                            <div class="flex items-center mt-2">
                                <input id="auto-update" type="checkbox"
                                       class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600"
                                       checked>
                                <label for="auto-update" class="ml-2 text-gray-700 dark:text-gray-300">Auto-update
                                    Preview</label>
                            </div>
                            <div class="flex items-center mt-2">
                                <input id="fixed-header" type="checkbox"
                                       class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600">
                                <label for="fixed-header" class="ml-2 text-gray-700 dark:text-gray-300">Fixed
                                    Header</label>
                            </div>
                        </div>

                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-200">Accessibility</h2>
                            <div class="tooltip">
                                <svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                          d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z"
                                          clip-rule="evenodd"></path>
                                </svg>
                                <span class="tooltip-text">Improve accessibility for screen readers and assistive technologies</span>
                            </div>
                        </div>
                        <div class="space-y-3">
                            <div>
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="table-summary">Table Summary <span class="text-xs text-gray-500">(for screen readers)</span></label>
                                <input class="shadow-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md w-full py-2 px-3 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                       id="table-summary" type="text" placeholder="Brief description of table contents">
                            </div>
                            <div class="flex items-center mt-2">
                                <input id="scope-headers" type="checkbox"
                                       class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600"
                                       checked>
                                <label for="scope-headers" class="ml-2 text-gray-700 dark:text-gray-300">Add scope
                                    attribute to headers</label>
                            </div>
                            <div class="flex items-center mt-2">
                                <input id="add-aria-label" type="checkbox"
                                       class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600">
                                <label for="add-aria-label" class="ml-2 text-gray-700 dark:text-gray-300">Add ARIA
                                    label</label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Templates Tab -->
                <div id="templates-tab" class="tab-content p-6 space-y-4 hidden">
                    <div class="flex items-center justify-between">
                        <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-200">Table Templates</h2>
                        <div class="tooltip">
                            <svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd"
                                      d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z"
                                      clip-rule="evenodd"></path>
                            </svg>
                            <span class="tooltip-text">Pre-designed table styles for quick use</span>
                        </div>
                    </div>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">Click on a template to apply its settings
                        instantly</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="template-card cursor-pointer p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors"
                             data-template="simple">
                            <h3 class="font-medium mb-1">Simple</h3>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Clean minimal design</p>
                        </div>
                        <div class="template-card cursor-pointer p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors"
                             data-template="modern">
                            <h3 class="font-medium mb-1">Modern</h3>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Contemporary style with hover
                                effects</p>
                        </div>
                        <div class="template-card cursor-pointer p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors"
                             data-template="professional">
                            <h3 class="font-medium mb-1">Professional</h3>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Business-ready formatting</p>
                        </div>
                        <div class="template-card cursor-pointer p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors"
                             data-template="colorful">
                            <h3 class="font-medium mb-1">Colorful</h3>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Vibrant design with accent colors</p>
                        </div>
                        <div class="template-card cursor-pointer p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors"
                             data-template="accessible">
                            <h3 class="font-medium mb-1">Accessible</h3>
                            <p class="text-sm text-gray-500 dark:text-gray-400">High contrast, WCAG compliant</p>
                        </div>
                        <div class="template-card cursor-pointer p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors"
                             data-template="compact">
                            <h3 class="font-medium mb-1">Compact</h3>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Dense layout for data-heavy tables</p>
                        </div>
                    </div>
                </div>

                <!-- Content Tab -->
                <div id="content-tab" class="tab-content p-6 space-y-6 hidden">
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-200">Table Content</h2>
                            <div class="tooltip">
                                <svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                          d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z"
                                          clip-rule="evenodd"></path>
                                </svg>
                                <span class="tooltip-text">Customize the content of your table</span>
                            </div>
                        </div>

                        <div class="space-y-3">
                            <div>
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="content-type">Content Type</label>
                                <select class="shadow-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md w-full py-2 px-3 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        id="content-type">
                                    <option value="default">Default (Cell 1,1)</option>
                                    <option value="empty">Empty</option>
                                    <option value="custom">Custom</option>
                                    <option value="sample-data">Sample Data</option>
                                </select>
                            </div>

                            <div id="custom-header-container" class="hidden">
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="custom-header">Custom Header Content <span class="text-xs text-gray-500">(comma separated)</span></label>
                                <input class="shadow-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md w-full py-2 px-3 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                       id="custom-header" type="text" placeholder="ID, Name, Email, etc.">
                            </div>

                            <div id="sample-data-container" class="hidden">
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2"
                                       for="sample-data-type">Sample Data Type</label>
                                <select class="shadow-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md w-full py-2 px-3 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        id="sample-data-type">
                                    <option value="people">People</option>
                                    <option value="products">Products</option>
                                    <option value="countries">Countries</option>
                                    <option value="companies">Companies</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="px-6 py-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600">
                    <button id="generate-btn"
                            class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors"
                            type="button">
                        Generate Table
                    </button>
                </div>
            </form>
        </div>

        <!-- Right panel: Preview and Code -->
        <div class="lg:col-span-3 space-y-6">
            <!-- Preview Section -->
            <div class="bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden">
                <div class="flex justify-between items-center border-b border-gray-200 dark:border-gray-700">
                    <div class="px-6 py-3 font-medium">Live Preview</div>
                    <div class="flex items-center space-x-2 px-6 py-3">
                        <span id="preview-status" class="text-sm text-gray-500 dark:text-gray-400"></span>
                        <button id="refresh-preview"
                                class="text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors text-sm">
                            Refresh
                        </button>
                    </div>
                </div>
                <div class="p-6 overflow-x-auto preview-container">
                    <div id="table-preview" class="min-h-[200px]"></div>
                </div>
            </div>

            <!-- Code Section -->
            <div class="bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden">
                <div class="flex justify-between items-center border-b border-gray-200 dark:border-gray-700">
                    <div class="px-6 py-3 font-medium">Generated HTML</div>
                    <div class="px-6 py-3 flex space-x-3">
                        <button id="format-btn"
                                class="text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors text-sm">
                            Format
                        </button>
                        <button id="minify-btn"
                                class="text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors text-sm">
                            Minify
                        </button>
                    </div>
                </div>
                <div class="p-6 bg-gray-50 dark:bg-gray-750 overflow-x-auto hljs-container">
                    <pre class="text-sm m-0"><code id="generated-code" class="language-html"></code></pre>
                </div>
                <div class="px-6 py-3 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600 flex justify-end space-x-3">
                    <button id="copy-btn"
                            class="bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors flex items-center">
                        <span>Copy HTML</span>
                    </button>
                    <button id="download-btn"
                            class="bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-colors">
                        Download HTML
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Keyboard Shortcuts -->
    <div id="shortcuts" class="mt-12 bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden">
        <div class="px-6 py-3 border-b border-gray-200 dark:border-gray-700">
            <h2 class="text-xl font-semibold">Keyboard Shortcuts</h2>
        </div>
        <div class="p-6">
            <ul class="grid grid-cols-1 md:grid-cols-2 gap-4 shortcut-list">
                <li><kbd>Ctrl</kbd> + <kbd>G</kbd> - Generate table</li>
                <li><kbd>Ctrl</kbd> + <kbd>C</kbd> - Copy HTML</li>
                <li><kbd>Ctrl</kbd> + <kbd>D</kbd> - Download HTML</li>
                <li><kbd>Ctrl</kbd> + <kbd>F</kbd> - Format code</li>
                <li><kbd>Ctrl</kbd> + <kbd>M</kbd> - Minify code</li>
                <li><kbd>Ctrl</kbd> + <kbd>R</kbd> - Refresh preview</li>
                <li><kbd>Ctrl</kbd> + <kbd>1-5</kbd> - Switch tabs</li>
                <li><kbd>Esc</kbd> - Clear notifications</li>
            </ul>
        </div>
    </div>
</div>

<footer class="mt-12 py-6 border-t border-gray-200 dark:border-gray-700">
    <div class="container mx-auto px-4 text-center text-gray-500 dark:text-gray-400 text-sm">
        <p class="mb-2">HTML Table Generator — Created with ❤️ for web developers</p>
        <p>Version 1.0.1</p>
    </div>
</footer>

<script>
    // Templates
    const templates = {
        simple: {
            rows: 3,
            columns: 3,
            cellWidth: 100,
            cellHeight: 50,
            borderWidth: 1,
            padding: 8,
            header: true,
            striped: false,
            caption: false,
            footer: false,
            borderColor: "#dddddd",
            bgColor: "#ffffff",
            textColor: "#333333",
            headerBgColor: "#f8f9fa",
            stripeColor: "#f3f4f6",
            footerBgColor: "#f8f9fa",
            fontFamily: "Arial, sans-serif",
            fontSize: 14,
            borderStyle: "solid",
            textAlign: "left",
            hoverEffect: false,
            hoverColor: "#f9fafb",
            responsive: false,
            tableSummary: "",
            scopeHeaders: true,
            borderCollapse: "collapse",
            borderSpacing: 2,
            fixedHeader: false,
            contentType: "default",
            addAriaLabel: false
        },
        modern: {
            rows: 4,
            columns: 4,
            cellWidth: 120,
            cellHeight: 60,
            borderWidth: 1,
            padding: 12,
            header: true,
            striped: true,
            caption: true,
            footer: true,
            borderColor: "#e5e7eb",
            bgColor: "#ffffff",
            textColor: "#374151",
            headerBgColor: "#f9fafb",
            stripeColor: "#f3f4f6",
            footerBgColor: "#f9fafb",
            fontFamily: "system-ui, sans-serif",
            fontSize: 14,
            borderStyle: "solid",
            textAlign: "left",
            hoverEffect: true,
            hoverColor: "#eef2ff",
            responsive: true,
            tableSummary: "Modern table design with responsive features",
            scopeHeaders: true,
            captionText: "Modern Table Example",
            borderCollapse: "collapse",
            borderSpacing: 2,
            fixedHeader: false,
            contentType: "default",
            addAriaLabel: true
        },
        professional: {
            rows: 5,
            columns: 4,
            cellWidth: 150,
            cellHeight: 50,
            borderWidth: 1,
            padding: 10,
            header: true,
            striped: true,
            caption: true,
            footer: true,
            borderColor: "#cbd5e1",
            bgColor: "#ffffff",
            textColor: "#334155",
            headerBgColor: "#f1f5f9",
            stripeColor: "#f8fafc",
            footerBgColor: "#f1f5f9",
            fontFamily: "Arial, sans-serif",
            fontSize: 14,
            borderStyle: "solid",
            textAlign: "left",
            hoverEffect: true,
            hoverColor: "#f1f5f9",
            responsive: true,
            tableSummary: "Professional data table",
            scopeHeaders: true,
            captionText: "Professional Data Table",
            borderCollapse: "collapse",
            borderSpacing: 2,
            fixedHeader: true,
            contentType: "default",
            addAriaLabel: true
        },
        colorful: {
            rows: 4,
            columns: 4,
            cellWidth: 120,
            cellHeight: 60,
            borderWidth: 1,
            padding: 10,
            header: true,
            striped: true,
            caption: true,
            footer: false,
            borderColor: "#8b5cf6",
            bgColor: "#ffffff",
            textColor: "#4c1d95",
            headerBgColor: "#c4b5fd",
            stripeColor: "#ede9fe",
            footerBgColor: "#c4b5fd",
            fontFamily: "system-ui, sans-serif",
            fontSize: 14,
            borderStyle: "solid",
            textAlign: "center",
            hoverEffect: true,
            hoverColor: "#ddd6fe",
            responsive: false,
            tableSummary: "Colorful presentation table",
            scopeHeaders: true,
            captionText: "Colorful Presentation",
            borderCollapse: "collapse",
            borderSpacing: 2,
            fixedHeader: false,
            contentType: "default",
            addAriaLabel: false
        },
        accessible: {
            rows: 4,
            columns: 3,
            cellWidth: 120,
            cellHeight: 60,
            borderWidth: 2,
            padding: 12,
            header: true,
            striped: true,
            caption: true,
            footer: true,
            borderColor: "#1e40af",
            bgColor: "#ffffff",
            textColor: "#1e3a8a",
            headerBgColor: "#dbeafe",
            stripeColor: "#eff6ff",
            footerBgColor: "#dbeafe",
            fontFamily: "Arial, sans-serif",
            fontSize: 16,
            borderStyle: "solid",
            textAlign: "left",
            hoverEffect: true,
            hoverColor: "#bfdbfe",
            responsive: true,
            tableSummary: "Accessible table with high contrast colors",
            scopeHeaders: true,
            captionText: "Accessible Data Table",
            borderCollapse: "collapse",
            borderSpacing: 2,
            fixedHeader: false,
            contentType: "default",
            addAriaLabel: true
        },
        compact: {
            rows: 6,
            columns: 5,
            cellWidth: 90,
            cellHeight: 40,
            borderWidth: 1,
            padding: 6,
            header: true,
            striped: true,
            caption: false,
            footer: false,
            borderColor: "#e2e8f0",
            bgColor: "#ffffff",
            textColor: "#475569",
            headerBgColor: "#f1f5f9",
            stripeColor: "#f8fafc",
            footerBgColor: "#f1f5f9",
            fontFamily: "system-ui, sans-serif",
            fontSize: 12,
            borderStyle: "solid",
            textAlign: "center",
            hoverEffect: false,
            hoverColor: "#f1f5f9",
            responsive: false,
            tableSummary: "Compact data table for dense information",
            scopeHeaders: true,
            borderCollapse: "collapse",
            borderSpacing: 2,
            fixedHeader: false,
            contentType: "default",
            addAriaLabel: false
        }
    };

    // Sample content data
    const sampleData = {
        people: {
            headers: ["ID", "Name", "Email", "Role", "Department"],
            rows: [
                ["1", "John Smith", "john@example.com", "Developer", "Engineering"],
                ["2", "Sarah Johnson", "sarah@example.com", "Designer", "Product"],
                ["3", "Michael Brown", "michael@example.com", "Manager", "Operations"],
                ["4", "Emily Davis", "emily@example.com", "Analyst", "Finance"],
                ["5", "Robert Wilson", "robert@example.com", "Marketer", "Marketing"]
            ]
        },
        products: {
            headers: ["ID", "Product", "Category", "Price", "Stock"],
            rows: [
                ["101", "Laptop Pro", "Electronics", "$1299.99", "45"],
                ["102", "Wireless Earbuds", "Audio", "$89.99", "120"],
                ["103", "Smart Watch", "Wearables", "$249.99", "78"],
                ["104", "Desk Chair", "Furniture", "$179.99", "32"],
                ["105", "Coffee Maker", "Appliances", "$69.99", "54"]
            ]
        },
        countries: {
            headers: ["ID", "Country", "Capital", "Population", "Area (km²)"],
            rows: [
                ["1", "United States", "Washington, D.C.", "331 million", "9,833,520"],
                ["2", "Japan", "Tokyo", "126 million", "377,975"],
                ["3", "Germany", "Berlin", "83 million", "357,114"],
                ["4", "Brazil", "Brasília", "213 million", "8,515,767"],
                ["5", "Australia", "Canberra", "25 million", "7,692,024"]
            ]
        },
        companies: {
            headers: ["ID", "Company", "Industry", "Founded", "Employees"],
            rows: [
                ["1", "Acme Corp", "Technology", "1992", "2,500"],
                ["2", "Global Solutions", "Consulting", "2005", "1,800"],
                ["3", "Eco Systems", "Renewable Energy", "2010", "650"],
                ["4", "FashionHub", "Retail", "1985", "12,000"],
                ["5", "MetroBuild", "Construction", "1978", "4,200"]
            ]
        }
    };

    // State management
    const state = {
        lastGeneratedTable: '',
        currentFormat: 'formatted',
        loading: false,
        notifications: []
    };

    // Initialize app on load
    document.addEventListener('DOMContentLoaded', () => {
        setupEventListeners();
        initializeApp();
        setupKeyboardShortcuts();
    });

    // DOM Elements
    function getElement(id) {
        const el = document.getElementById(id);
        if (!el) console.warn(`Element with ID "${id}" not found`);
        return el;
    }

    function getElements(selector) {
        return document.querySelectorAll(selector);
    }

    // Setup initial state of the application
    function initializeApp() {
        // Set initial tab
        getElements('.tab-btn')[0].click();

        // Generate initial table preview
        generateTableAndUpdate();

        // Setup conditional displays based on initial values
        setupConditionalDisplays();

        // Set theme based on system preference or saved preference
        initializeTheme();
    }

    // Set up all conditional display elements
    function setupConditionalDisplays() {
        toggleConditionalDisplay('striped', 'stripe-color-container');
        toggleConditionalDisplay('caption', 'caption-text-container');
        toggleConditionalDisplay('hover-effect', 'hover-color-container');

        // Content type specific options
        const contentType = getElement('content-type').value;
        toggleContentTypeOptions(contentType);
    }

    // Initialize theme based on preferences
    function initializeTheme() {
        if (localStorage.getItem('theme') === 'dark' ||
            (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
            getElement('light-icon').classList.add('hidden');
            getElement('dark-icon').classList.remove('hidden');
        }
    }

    // Setup event listeners
    function setupEventListeners() {
        // Tab Navigation
        getElements('.tab-btn').forEach(button => {
            button.addEventListener('click', () => switchTab(button));
        });

        // Theme Toggle
        getElement('theme-toggle').addEventListener('click', toggleTheme);

        // Conditional display toggles
        setupToggleEvents();

        // Color input syncing
        const colorInputs = ['border-color', 'bg-color', 'text-color', 'header-bg-color', 'footer-bg-color', 'stripe-color', 'hover-color'];
        colorInputs.forEach(id => setupColorInputSync(id));

        // Content type change
        getElement('content-type').addEventListener('change', e => {
            toggleContentTypeOptions(e.target.value);
            updatePreviewIfEnabled();
        });

        // Templates
        getElements('.template-card').forEach(card => {
            card.addEventListener('click', () => applyTemplate(card.getAttribute('data-template')));
        });

        // Form input change events for live preview
        setupFormChangeEvents();

        // Buttons
        getElement('generate-btn').addEventListener('click', generateTableAndUpdate);
        getElement('refresh-preview').addEventListener('click', generateTableAndUpdate);
        getElement('copy-btn').addEventListener('click', copyHtmlToClipboard);
        getElement('download-btn').addEventListener('click', downloadHtml);
        getElement('format-btn').addEventListener('click', () => formatCode('formatted'));
        getElement('minify-btn').addEventListener('click', () => formatCode('minified'));
    }

    // Setup keyboard shortcuts
    function setupKeyboardShortcuts() {
        document.addEventListener('keydown', function (e) {
            // Don't trigger shortcuts when in input fields
            if (document.activeElement.tagName === 'INPUT' || document.activeElement.tagName === 'TEXTAREA' || document.activeElement.tagName === 'SELECT') {
                return;
            }

            // Ctrl/Cmd + Key combinations
            if (e.ctrlKey || e.metaKey) {
                switch (e.key) {
                    case 'g':
                        e.preventDefault();
                        generateTableAndUpdate();
                        break;
                    case 'c':
                        e.preventDefault();
                        copyHtmlToClipboard();
                        break;
                    case 'd':
                        e.preventDefault();
                        downloadHtml();
                        break;
                    case 'f':
                        e.preventDefault();
                        formatCode('formatted');
                        break;
                    case 'm':
                        e.preventDefault();
                        formatCode('minified');
                        break;
                    case 'r':
                        e.preventDefault();
                        generateTableAndUpdate();
                        break;
                    case '1':
                    case '2':
                    case '3':
                    case '4':
                    case '5':
                        e.preventDefault();
                        const tabIndex = parseInt(e.key) - 1;
                        const tabs = getElements('.tab-btn');
                        if (tabs[tabIndex]) tabs[tabIndex].click();
                        break;
                }
            }

            // Escape key to clear notifications
            if (e.key === 'Escape') {
                clearAllNotifications();
            }
        });
    }

    // Toggle content type specific options
    function toggleContentTypeOptions(contentType) {
        const customHeaderContainer = getElement('custom-header-container');
        const sampleDataContainer = getElement('sample-data-container');

        if (customHeaderContainer) {
            customHeaderContainer.classList.toggle('hidden', contentType !== 'custom');
        }

        if (sampleDataContainer) {
            sampleDataContainer.classList.toggle('hidden', contentType !== 'sample-data');
        }
    }

    // Setup toggle events for conditional displays
    function setupToggleEvents() {
        const toggles = [
            {toggle: 'striped', target: 'stripe-color-container'},
            {toggle: 'caption', target: 'caption-text-container'},
            {toggle: 'hover-effect', target: 'hover-color-container'}
        ];

        toggles.forEach(item => {
            const toggleEl = getElement(item.toggle);
            if (toggleEl) {
                toggleEl.addEventListener('change', e => {
                    toggleConditionalDisplay(item.toggle, item.target);
                    updatePreviewIfEnabled();
                });
            }
        });
    }

    // Toggle conditional display containers
    function toggleConditionalDisplay(toggleId, targetId) {
        const toggleEl = getElement(toggleId);
        const targetEl = getElement(targetId);

        if (toggleEl && targetEl) {
            targetEl.classList.toggle('hidden', !toggleEl.checked);
        }
    }

    // Setup form change events
    function setupFormChangeEvents() {
        const formInputs = getElements('#table-form input, #table-form select');
        formInputs.forEach(input => {
            input.addEventListener('input', debounce(updatePreviewIfEnabled, 300));
        });
    }

    // Switch active tab
    function switchTab(button) {
        getElements('.tab-btn').forEach(btn => {
            btn.classList.remove('active', 'text-blue-600', 'dark:text-blue-400', 'border-b-2', 'border-blue-500');
            btn.classList.add('text-gray-600', 'dark:text-gray-400', 'hover:text-blue-500', 'dark:hover:text-blue-300');
        });

        button.classList.remove('text-gray-600', 'dark:text-gray-400', 'hover:text-blue-500', 'dark:hover:text-blue-300');
        button.classList.add('active', 'text-blue-600', 'dark:text-blue-400', 'border-b-2', 'border-blue-500');

        const tabName = button.getAttribute('data-tab');
        getElements('.tab-content').forEach(content => {
            content.classList.add('hidden');
            if (content.id === `${tabName}-tab`) {
                content.classList.remove('hidden');
            }
        });
    }

    // Toggle theme between light and dark
    function toggleTheme() {
        if (document.documentElement.classList.contains('dark')) {
            document.documentElement.classList.remove('dark');
            localStorage.setItem('theme', 'light');
            getElement('light-icon').classList.remove('hidden');
            getElement('dark-icon').classList.add('hidden');
        } else {
            document.documentElement.classList.add('dark');
            localStorage.setItem('theme', 'dark');
            getElement('light-icon').classList.add('hidden');
            getElement('dark-icon').classList.remove('hidden');
        }
    }

    // Setup color input sync between color picker and hex text input
    function setupColorInputSync(baseId) {
        const colorInput = getElement(baseId);
        const textInput = getElement(`${baseId}-text`);

        if (colorInput && textInput) {
            colorInput.addEventListener('input', () => {
                textInput.value = colorInput.value;
                updatePreviewIfEnabled();
            });

            textInput.addEventListener('input', () => {
                // Validate hex color format
                if (/^#([0-9A-F]{3}){1,2}$/i.test(textInput.value)) {
                    colorInput.value = textInput.value;
                    updatePreviewIfEnabled();
                }
            });
        }
    }

    // Apply a template to the form
    function applyTemplate(templateName) {
        const template = templates[templateName];
        if (!template) {
            showNotification(`Template "${templateName}" not found`, 'error');
            return;
        }

        try {
            // Apply values to form inputs
            Object.keys(template).forEach(key => {
                const element = getElement(key);
                if (!element) return;

                if (element.type === 'checkbox') {
                    element.checked = template[key];
                    // Trigger change event for conditional displays
                    const event = new Event('change');
                    element.dispatchEvent(event);
                } else if (element.type === 'color' || element.type === 'text' || element.type === 'number' || element.tagName === 'SELECT') {
                    element.value = template[key];
                    // Update color text inputs if needed
                    if (element.type === 'color') {
                        const textInput = getElement(`${key}-text`);
                        if (textInput) textInput.value = template[key];
                    }
                }
            });

            // Make sure conditional displays are correctly shown/hidden
            setupConditionalDisplays();

            // Generate table preview
            generateTableAndUpdate();

            showNotification(`Applied template: ${templateName}`);
        } catch (error) {
            console.error('Error applying template:', error);
            showNotification('Failed to apply template', 'error');
        }
    }

    // Generate table HTML and update preview
    function generateTableAndUpdate() {
        setLoading(true);

        try {
            const tableHtml = generateTable();
            state.lastGeneratedTable = tableHtml;

            // Update code display with syntax highlighting
            const generatedCode = getElement('generated-code');
            generatedCode.innerHTML = highlightHtml(tableHtml);

            // Update preview
            getElement('table-preview').innerHTML = tableHtml;

            updatePreviewStatus('Preview updated');
            setLoading(false);
        } catch (error) {
            console.error('Error generating table:', error);
            showNotification('Error generating table. Check your inputs.', 'error');
            setLoading(false);
        }
    }

    // Update preview if auto-update is enabled
    function updatePreviewIfEnabled() {
        const autoUpdateEnabled = getElement('auto-update')?.checked ?? true;
        if (autoUpdateEnabled) {
            updatePreviewStatus('Updating preview...');
            generateTableAndUpdate();
        } else {
            updatePreviewStatus('Auto-update disabled');
        }
    }

    // Update preview status message
    function updatePreviewStatus(message) {
        const statusEl = getElement('preview-status');
        if (statusEl) {
            statusEl.textContent = message;
            // Clear message after a delay
            setTimeout(() => {
                if (statusEl.textContent === message) {
                    statusEl.textContent = '';
                }
            }, 2000);
        }
    }

    // Set loading state
    function setLoading(isLoading) {
        state.loading = isLoading;
        const copyBtn = getElement('copy-btn');
        const generateBtn = getElement('generate-btn');

        if (isLoading) {
            if (copyBtn) {
                copyBtn.innerHTML = '<span class="tg-loader mr-2"></span> Generating...';
                copyBtn.disabled = true;
            }
            if (generateBtn) {
                generateBtn.innerHTML = '<span class="tg-loader mr-2"></span> Generating...';
                generateBtn.disabled = true;
            }
        } else {
            if (copyBtn) {
                copyBtn.innerHTML = '<span>Copy HTML</span>';
                copyBtn.disabled = false;
            }
            if (generateBtn) {
                generateBtn.innerHTML = 'Generate Table';
                generateBtn.disabled = false;
            }
        }
    }

    // Generate the HTML table code
    function generateTable() {
        // Validate form values before proceeding
        validateFormInputs();

        // Get all form values
        const formValues = getFormValues();

        // Start building the HTML
        let html = '<table';

        // Add table attributes
        if (formValues.tableSummary) {
            html += ` summary="${escapeHtml(formValues.tableSummary)}"`;
        }

        if (formValues.addAriaLabel && formValues.caption) {
            html += ` aria-label="${escapeHtml(formValues.captionText)}"`;
        }

        // Add table styles
        html += ` style="border-collapse: ${formValues.borderCollapse}; ${formValues.borderCollapse === 'separate' ? `border-spacing: ${formValues.borderSpacing}px;` : ''} width: 100%; font-family: ${formValues.fontFamily}; font-size: ${formValues.fontSize}px;">`;

        // Add caption if enabled
        if (formValues.caption) {
            html += `\n  <caption style="padding: 10px; font-weight: bold; text-align: ${formValues.textAlign}; color: ${formValues.textColor};">${escapeHtml(formValues.captionText)}</caption>`;
        }

        let headerContent = [];
        // Table header
        if (formValues.header) {
            const headerStyle = formValues.fixedHeader
                ? `position: sticky; top: 0; z-index: 1; background-color: ${formValues.headerBgColor};`
                : `background-color: ${formValues.headerBgColor};`;

            html += '\n  <thead>';
            html += `\n    <tr style="${headerStyle}">`;

            // Get header content
            if (formValues.contentType === 'custom' && getElement('custom-header').value) {
                headerContent = getElement('custom-header').value.split(',').map(item => item.trim());
            } else if (formValues.contentType === 'sample-data') {
                const sampleDataType = getElement('sample-data-type').value;
                if (sampleData[sampleDataType]) {
                    headerContent = sampleData[sampleDataType].headers;
                }
            } else {
                // Default headers
                for (let i = 0; i < formValues.cols; i++) {
                    headerContent.push(`Header ${i + 1}`);
                }
            }

            // Make sure we have enough headers
            while (headerContent.length < formValues.cols) {
                headerContent.push(`Header ${headerContent.length + 1}`);
            }

            // Truncate if we have too many
            headerContent = headerContent.slice(0, formValues.cols);

            // Generate header cells
            for (let i = 0; i < formValues.cols; i++) {
                const scopeAttr = formValues.scopeHeaders ? ' scope="col"' : '';
                html += `\n      <th${scopeAttr} style="border: ${formValues.borderWidth}px ${formValues.borderStyle} ${formValues.borderColor}; padding: ${formValues.padding}px; text-align: ${formValues.textAlign}; color: ${formValues.textColor}; width: ${formValues.cellWidth}px; height: ${formValues.cellHeight}px;">${escapeHtml(headerContent[i])}</th>`;
            }

            html += '\n    </tr>';
            html += '\n  </thead>';
        }

        // Table body
        html += '\n  <tbody>';

        // Get body content
        let bodyContent = [];
        if (formValues.contentType === 'sample-data') {
            const sampleDataType = getElement('sample-data-type').value;
            if (sampleData[sampleDataType]) {
                bodyContent = sampleData[sampleDataType].rows.slice(0, formValues.rows);
            }
        }

        // Generate rows
        for (let i = 0; i < formValues.rows; i++) {
            const rowBgColor = formValues.striped && i % 2 !== 0 ? formValues.stripeColor : formValues.bgColor;
            html += `\n    <tr style="background-color: ${rowBgColor};">`;

            // Generate cells
            for (let j = 0; j < formValues.cols; j++) {
                let cellContent = '';

                if (formValues.contentType === 'empty') {
                    cellContent = '';
                } else if (formValues.contentType === 'sample-data' && bodyContent[i] && bodyContent[i][j] !== undefined) {
                    cellContent = bodyContent[i][j];
                } else if (formValues.contentType === 'default') {
                    cellContent = `Cell ${i + 1},${j + 1}`;
                }

                const dataLabel = formValues.responsive ? ` data-label="${escapeHtml(headerContent ? headerContent[j] : `Header ${j + 1}`)}"` : '';

                html += `\n      <td${dataLabel} style="border: ${formValues.borderWidth}px ${formValues.borderStyle} ${formValues.borderColor}; padding: ${formValues.padding}px; text-align: ${formValues.textAlign}; color: ${formValues.textColor}; width: ${formValues.cellWidth}px; height: ${formValues.cellHeight}px;">${escapeHtml(cellContent)}</td>`;
            }

            html += '\n    </tr>';
        }
        html += '\n  </tbody>';

        // Table footer
        if (formValues.footer) {
            html += `\n  <tfoot>`;
            html += `\n    <tr style="background-color: ${formValues.footerBgColor};">`;

            for (let j = 0; j < formValues.cols; j++) {
                html += `\n      <td style="border: ${formValues.borderWidth}px ${formValues.borderStyle} ${formValues.borderColor}; padding: ${formValues.padding}px; text-align: ${formValues.textAlign}; color: ${formValues.textColor}; width: ${formValues.cellWidth}px; height: ${formValues.cellHeight}px; font-weight: bold;">Footer ${j + 1}</td>`;
            }

            html += '\n    </tr>';
            html += '\n  </tfoot>';
        }

        html += '\n</table>';

        // Add CSS for hover effect, fixed header, and responsive design
        const cssRules = [];

        if (formValues.hoverEffect) {
            cssRules.push(`table tbody tr:hover { background-color: ${formValues.hoverColor} !important; transition: background-color 0.2s; }`);
        }

        if (formValues.responsive) {
            cssRules.push(`@media screen and (max-width: 600px) {
    table, thead, tbody, th, td, tr { display: block; }
    thead tr { position: absolute; top: -9999px; left: -9999px; }
    tr { margin-bottom: 15px; border: 1px solid #ccc; }
    td { border: none; border-bottom: 1px solid #eee; position: relative; padding-left: 50% !important; text-align: left !important; }
    td:before { position: absolute; left: 6px; width: 45%; padding-right: 10px; white-space: nowrap; content: attr(data-label); font-weight: bold; }
  }`);
        }

        if (cssRules.length > 0) {
            html = `<style>\n  ${cssRules.join('\n  ')}\n</style>\n\n${html}`;
        }

        return html;
    }

    // Get all form values
    function getFormValues() {
        return {
            rows: safeParseInt(getElement('rows').value, 3),
            cols: safeParseInt(getElement('columns').value, 3),
            cellWidth: safeParseInt(getElement('cell-width').value, 100),
            cellHeight: safeParseInt(getElement('cell-height').value, 50),
            borderWidth: safeParseInt(getElement('border-width').value, 1),
            padding: safeParseInt(getElement('padding').value, 8),
            header: getElement('header').checked,
            caption: getElement('caption').checked,
            captionText: getElement('caption-text')?.value || 'Table Caption',
            footer: getElement('footer').checked,
            striped: getElement('striped').checked,
            borderColor: getElement('border-color').value,
            bgColor: getElement('bg-color').value,
            textColor: getElement('text-color').value,
            headerBgColor: getElement('header-bg-color').value,
            footerBgColor: getElement('footer-bg-color')?.value || '#f8f9fa',
            stripeColor: getElement('stripe-color').value,
            fontFamily: getElement('font-family').value,
            fontSize: safeParseInt(getElement('font-size').value, 14),
            borderStyle: getElement('border-style').value,
            textAlign: getElement('text-align').value,
            borderCollapse: getElement('border-collapse')?.value || 'collapse',
            borderSpacing: safeParseInt(getElement('border-spacing')?.value || 2, 2),
            hoverEffect: getElement('hover-effect').checked,
            hoverColor: getElement('hover-color').value,
            responsive: getElement('responsive').checked,
            tableSummary: getElement('table-summary')?.value || '',
            scopeHeaders: getElement('scope-headers')?.checked ?? true,
            fixedHeader: getElement('fixed-header')?.checked || false,
            contentType: getElement('content-type').value,
            addAriaLabel: getElement('add-aria-label')?.checked || false
        };
    }

    // Validate form inputs
    function validateFormInputs() {
        // Check for max values to prevent browser crashes
        const rowsEl = getElement('rows');
        const colsEl = getElement('columns');

        if (safeParseInt(rowsEl.value, 0) > 50) {
            rowsEl.value = 50;
            showNotification('Maximum 50 rows allowed', 'warning');
        }

        if (safeParseInt(colsEl.value, 0) > 20) {
            colsEl.value = 20;
            showNotification('Maximum 20 columns allowed', 'warning');
        }
    }

    // Simple HTML syntax highlighting function
    function highlightHtml(code) {
        return code
            .replace(/&/g, '&amp;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;')
            .replace(/("[^"]*")/g, '<span style="color:#669900">$1</span>') // attributes
            .replace(/(&lt;[\/]?[a-z0-9]+)/gi, '<span style="color:#0077aa">$1</span>') // tags
            .replace(/(&lt;style.*?&gt;)(.*?)(&lt;\/style&gt;)/gs, function (match, p1, p2, p3) {
                // Handle CSS in style tags
                const highlightedCSS = p2.replace(/([a-z\-]+):/g, '<span style="color:#669900">$1</span>:');
                return '<span style="color:#0077aa">' + p1 + '</span>' + highlightedCSS + '<span style="color:#0077aa">' + p3 + '</span>';
            });
    }

    // Format code (formatted with indentation or minified)
    function formatCode(format) {
        if (!state.lastGeneratedTable) return;

        try {
            if (format === 'formatted' && state.currentFormat !== 'formatted') {
                // Already formatted in the generateTable function
                getElement('generated-code').innerHTML = highlightHtml(state.lastGeneratedTable);
                state.currentFormat = 'formatted';
                showNotification('Code formatted');
            } else if (format === 'minified' && state.currentFormat !== 'minified') {
                // Minify the HTML by removing whitespace, newlines, and indentation
                const minified = state.lastGeneratedTable
                    .replace(/\n\s*/g, '')
                    .replace(/>\s+</g, '><')
                    .trim();

                getElement('generated-code').innerHTML = highlightHtml(minified);
                state.currentFormat = 'minified';
                showNotification('Code minified');
            }
        } catch (error) {
            console.error('Error formatting code:', error);
            showNotification('Error formatting code', 'error');
        }
    }

    // Copy HTML to clipboard
    function copyHtmlToClipboard() {
        const copyBtn = getElement('copy-btn');
        const textToCopy = getElement('generated-code').textContent;

        if (!textToCopy) {
            showNotification('No HTML to copy', 'error');
            return;
        }

        try {
            if (navigator.clipboard) {
                navigator.clipboard.writeText(textToCopy)
                    .then(() => {
                        showNotification('HTML copied to clipboard!');
                        copyBtn.classList.add('copy-animation');
                        setTimeout(() => copyBtn.classList.remove('copy-animation'), 1000);
                    })
                    .catch(err => {
                        console.error('Failed to copy: ', err);
                        fallbackCopy();
                    });
            } else {
                fallbackCopy();
            }
        } catch (error) {
            console.error('Copy failed:', error);
            showNotification('Failed to copy HTML', 'error');
        }

        function fallbackCopy() {
            const textarea = document.createElement('textarea');
            textarea.value = textToCopy;
            textarea.style.position = 'fixed';
            document.body.appendChild(textarea);
            textarea.select();

            try {
                document.execCommand('copy');
                showNotification('HTML copied to clipboard!');
                copyBtn.classList.add('copy-animation');
                setTimeout(() => copyBtn.classList.remove('copy-animation'), 1000);
            } catch (err) {
                console.error('Failed to copy: ', err);
                showNotification('Failed to copy HTML', 'error');
            }

            document.body.removeChild(textarea);
        }
    }

    // Download HTML as a file
    function downloadHtml() {
        try {
            const html = getElement('generated-code').textContent;

            if (!html) {
                showNotification('No HTML to download', 'error');
                return;
            }

            const blob = new Blob([html], {type: 'text/html'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');

            a.href = url;
            a.download = 'table.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            showNotification('HTML file downloaded!');
        } catch (error) {
            console.error('Download failed:', error);
            showNotification('Failed to download HTML', 'error');
        }
    }

    // Remove all notifications
    // Remove all notifications
    function clearAllNotifications() {
        const notifications = document.querySelectorAll('.tg-notification');
        notifications.forEach(notification => {
            notification.style.opacity = '0';
            setTimeout(() => {
                if (document.body.contains(notification)) {
                    document.body.removeChild(notification);
                }
            }, 300);
        });
    }

    // Show a temporary notification
    function showNotification(message, type = 'success') {
        // Create notification container if it doesn't exist
        let notificationContainer = document.getElementById('notification-container');
        if (!notificationContainer) {
            notificationContainer = document.createElement('div');
            notificationContainer.id = 'notification-container';
            notificationContainer.className = 'fixed bottom-4 right-4 z-50 flex flex-col space-y-2';
            document.body.appendChild(notificationContainer);
        }

        // Create notification element
        const notification = document.createElement('div');
        notification.className = `tg-notification px-4 py-3 rounded-md text-white
      ${type === 'success' ? 'bg-green-600' : type === 'warning' ? 'bg-yellow-600' : 'bg-red-600'}
      shadow-lg transition-opacity duration-300 flex items-center max-w-xs`;

        // Add icon based on notification type
        const icon = document.createElement('span');
        icon.className = 'mr-2 flex-shrink-0';

        if (type === 'success') {
            icon.innerHTML = '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>';
        } else if (type === 'warning') {
            icon.innerHTML = '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>';
        } else {
            icon.innerHTML = '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>';
        }

        notification.appendChild(icon);

        // Add message
        const messageSpan = document.createElement('span');
        messageSpan.className = 'text-sm flex-grow';
        messageSpan.textContent = message;
        notification.appendChild(messageSpan);

        // Add close button
        const closeBtn = document.createElement('button');
        closeBtn.className = 'ml-2 text-white flex-shrink-0 focus:outline-none';
        closeBtn.innerHTML = '<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>';
        closeBtn.addEventListener('click', () => {
            notification.style.opacity = '0';
            setTimeout(() => {
                if (notificationContainer.contains(notification)) {
                    notificationContainer.removeChild(notification);
                }
            }, 300);
        });
        notification.appendChild(closeBtn);

        // Add to container
        notificationContainer.appendChild(notification);

        // Fade out and remove after a timeout
        const timeout = setTimeout(() => {
            notification.style.opacity = '0';
            setTimeout(() => {
                if (notificationContainer.contains(notification)) {
                    notificationContainer.removeChild(notification);
                }
            }, 300);
        }, 5000);

        // Save notification data for management
        state.notifications.push({
            element: notification,
            timeout: timeout
        });

        // Limit to 3 notifications at a time
        if (state.notifications.length > 3) {
            const oldestNotification = state.notifications.shift();
            clearTimeout(oldestNotification.timeout);
            oldestNotification.element.style.opacity = '0';
            setTimeout(() => {
                if (notificationContainer.contains(oldestNotification.element)) {
                    notificationContainer.removeChild(oldestNotification.element);
                }
            }, 300);
        }
    }

    // Utility function to safely parse integers
    function safeParseInt(value, fallback) {
        const parsed = parseInt(value);
        return isNaN(parsed) ? fallback : parsed;
    }

    // Utility function to escape HTML special characters
    function escapeHtml(text) {
        if (text === undefined || text === null) return '';
        return String(text)
            .replace(/&/g, "&amp;")
            .replace(/</g, "&lt;")
            .replace(/>/g, "&gt;")
            .replace(/"/g, "&quot;")
            .replace(/'/g, "&#039;");
    }

    // Debounce function to limit how often a function can fire
    function debounce(func, wait) {
        let timeout;
        return function (...args) {
            const context = this;
            clearTimeout(timeout);
            timeout = setTimeout(() => func.apply(context, args), wait);
        };
    }

    // Auto-save form state
    function saveFormState() {
        const formData = getFormValues();
        try {
            localStorage.setItem('tableGenerator-state', JSON.stringify(formData));
        } catch (e) {
            console.warn('Failed to save form state to localStorage', e);
        }
    }

    // Load form state
    function loadFormState() {
        try {
            const savedState = localStorage.getItem('tableGenerator-state');
            if (savedState) {
                const formData = JSON.parse(savedState);

                // Apply saved values
                Object.keys(formData).forEach(key => {
                    const element = getElement(key);
                    if (!element) return;

                    if (element.type === 'checkbox') {
                        element.checked = formData[key];
                    } else if (element.type === 'color' || element.type === 'text' || element.type === 'number' || element.tagName === 'SELECT') {
                        element.value = formData[key];

                        // Update color text inputs if needed
                        if (element.type === 'color') {
                            const textInput = getElement(`${key}-text`);
                            if (textInput) textInput.value = formData[key];
                        }
                    }
                });

                // Update conditional displays
                setupConditionalDisplays();
            }
        } catch (e) {
            console.warn('Failed to load form state from localStorage', e);
        }
    }

    // Event Delegation helper - for handling events at a higher level
    function delegate(element, eventType, selector, handler) {
        element.addEventListener(eventType, function (event) {
            let target = event.target;
            while (target && target !== element) {
                if (target.matches(selector)) {
                    handler.call(target, event);
                    break;
                }
                target = target.parentNode;
            }
        });
    }

    // Auto-save form state on changes
    getElement('table-form').addEventListener('change', debounce(saveFormState, 500));

    // Load saved state on startup
    window.addEventListener('load', function () {
        try {
            loadFormState();
        } catch (e) {
            console.warn('Error loading saved state:', e);
        }
    });
</script>
<script src="../logo.js"></script>
</body>
</html>