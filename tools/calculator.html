<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon"
          href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ§®</text></svg>">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Free online scientific calculator with trigonometric functions, logarithms, memory storage, and calculation history. Professional calculator tool with keyboard support and live evaluation.">
    <meta name="keywords" content="scientific calculator, online calculator, math calculator, trigonometry calculator, free calculator, web calculator">
    <meta name="author" content="ChatGPT 3 and Claude Sonnet 4.5 prompted by Tobias MÃ¼ller">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://www.gptgames.dev/tools/calculator.html">
    <meta property="og:title" content="Scientific Calculator Pro - Free Online Calculator">
    <meta property="og:description" content="Professional scientific calculator with trigonometric functions, logarithms, memory storage, and calculation history. Features keyboard support and live result preview.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.gptgames.dev/tools/calculator.html">
    <meta property="og:image" content="https://www.gptgames.dev/screenshots/screenshot_60.webp">
    <meta property="og:site_name" content="GPT Games">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Scientific Calculator Pro - Free Online Calculator">
    <meta name="twitter:description" content="Professional scientific calculator with trigonometric functions, logarithms, memory storage, and calculation history.">
    <meta name="twitter:image" content="https://www.gptgames.dev/screenshots/screenshot_60.webp">
    <title>Scientific Calculator Pro</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.2.47/vue.global.min.js"
            integrity="sha512-DJ2+sosWB5FnZAIeCWAHu2gxQ7Gi438oOZLcBQSOrW8gD0s7LIXDv/5RW76B3FcljF40BXnfqNIo6Dhp7dFHJg=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.6.4/math.min.js"
            integrity="sha512-iphNRh6dPbeuPGIrQbCdbBF/qcqadKWLa35YPVfMZMHBSI6PLJh1om2xCTWhpVpmUyb4IvVS9iYnnYMkleVXLA=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0f1419;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        #app {
            width: 100%;
            max-width: 420px;
        }

        .calculator {
            background: #1a1a1a;
            border-radius: 24px;
            padding: 24px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5), 0 0 1px rgba(255, 255, 255, 0.1) inset;
        }

        .top-controls {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }

        .mode-btn {
            flex: 1;
            background: #2a2a2a;
            color: #888;
            border: none;
            border-radius: 10px;
            padding: 10px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            letter-spacing: 0.5px;
        }

        .mode-btn:hover {
            background: #333;
            color: #aaa;
        }

        .mode-btn.active {
            background: #5856d6;
            color: #fff;
        }

        .display {
            background: #252525;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            min-height: 120px;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .expression {
            color: #666;
            font-size: 16px;
            min-height: 24px;
            word-break: break-all;
            line-height: 1.4;
            font-family: 'SF Mono', Monaco, Consolas, monospace;
        }

        .result {
            color: #fff;
            font-size: 38px;
            font-weight: 300;
            text-align: right;
            word-break: break-all;
            margin-top: 8px;
            font-family: 'SF Mono', Monaco, Consolas, monospace;
            letter-spacing: -1px;
        }

        .result.error {
            color: #ff453a;
            font-size: 22px;
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #5856d6;
            border: none;
            color: #fff;
            padding: 5px 10px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 10px;
            font-weight: 600;
            opacity: 0.7;
            transition: all 0.2s;
            letter-spacing: 0.3px;
        }

        .copy-btn:hover {
            opacity: 1;
            background: #6c6ae0;
            transform: translateY(-1px);
        }

        .copy-btn:active {
            transform: translateY(0);
        }

        .functions {
            display: grid;
            grid-template-columns:repeat(5, 1fr);
            gap: 6px;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid #2a2a2a;
        }

        .buttons {
            display: grid;
            grid-template-columns:repeat(4, 1fr);
            gap: 6px;
        }

        .btn {
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.15s;
            padding: 18px 8px;
            color: #fff;
            background: #333;
            position: relative;
            overflow: hidden;
            min-height: 56px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            transform: translate(-50%, -50%);
            transition: width 0.3s, height 0.3s;
        }

        .btn:active::before {
            width: 120%;
            height: 120%;
        }

        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .btn:active {
            transform: translateY(0);
            box-shadow: none;
        }

        .btn-num {
            background: #404040;
            color: #fff;
        }

        .btn-op {
            background: #ff9f0a;
            color: #fff;
        }

        .btn-fn {
            background: #2c2c2c;
            font-size: 14px;
            color: #fff;
        }

        .btn-eq {
            background: #34c759;
            grid-column: span 2;
        }

        .btn-clear {
            background: #ff453a;
            color: #fff;
        }

        .btn-util {
            background: #5856d6;
            font-size: 15px;
        }

        .btn-mem {
            background: #af52de;
            font-size: 13px;
        }

        .history-panel {
            background: #252525;
            border-radius: 16px;
            padding: 18px;
            margin-top: 16px;
            max-height: 240px;
            overflow-y: auto;
            animation: slideIn 0.3s;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .history-title {
            color: #fff;
            font-size: 13px;
            margin-bottom: 12px;
            font-weight: 600;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            opacity: 0.8;
        }

        .history-item {
            color: #888;
            font-size: 13px;
            padding: 10px;
            background: #2a2a2a;
            border-radius: 8px;
            margin-bottom: 6px;
            cursor: pointer;
            transition: all 0.2s;
            font-family: 'SF Mono', Monaco, Consolas, monospace;
        }

        .history-item:hover {
            background: #333;
            color: #fff;
            transform: translateX(4px);
        }

        .history-item:last-child {
            margin-bottom: 0;
        }

        .empty-history {
            color: #555;
            font-size: 12px;
            text-align: center;
            padding: 20px;
        }

        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #2a2a2a;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb {
            background: #444;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
</head>
<body>
<div id="app">
    <div class="calculator">
        <div class="top-controls">
            <button class="mode-btn" :class="{active:angleMode==='deg'}" @click="angleMode='deg'">DEG</button>
            <button class="mode-btn" :class="{active:angleMode==='rad'}" @click="angleMode='rad'">RAD</button>
            <button class="mode-btn" @click="toggleHistory">{{showHistory ? 'HIDE' : 'HISTORY'}}</button>
        </div>
        <div class="display">
            <button class="copy-btn" @click="copyResult" v-if="result&&result!=='0'">COPY</button>
            <div class="expression">{{expression || '0'}}</div>
            <div class="result" :class="{error:isError}">{{displayResult}}</div>
        </div>
        <div class="functions">
            <button class="btn btn-fn" @click="addFunction('sin')">sin</button>
            <button class="btn btn-fn" @click="addFunction('cos')">cos</button>
            <button class="btn btn-fn" @click="addFunction('tan')">tan</button>
            <button class="btn btn-fn" @click="addFunction('log')">log</button>
            <button class="btn btn-fn" @click="addFunction('ln')">ln</button>
            <button class="btn btn-fn" @click="addFunction('sqrt')">âˆš</button>
            <button class="btn btn-fn" @click="addFunction('abs')">|x|</button>
            <button class="btn btn-fn" @click="addFunction('pow')">x^y</button>
            <button class="btn btn-fn" @click="addText('(')">(</button>
            <button class="btn btn-fn" @click="addText(')')">)</button>
            <button class="btn btn-util" @click="addText('pi')">Ï€</button>
            <button class="btn btn-util" @click="addText('e')">e</button>
            <button class="btn btn-mem" @click="memoryClear">MC</button>
            <button class="btn btn-mem" @click="memoryRecall">MR</button>
            <button class="btn btn-mem" @click="memoryStore">MS</button>
        </div>
        <div class="buttons">
            <button class="btn btn-clear" @click="clear">AC</button>
            <button class="btn btn-util" @click="deleteLast">DEL</button>
            <button class="btn btn-util" @click="useAns">ANS</button>
            <button class="btn btn-op" @click="addText('/')">Ã·</button>
            <button class="btn btn-num" @click="addText('7')">7</button>
            <button class="btn btn-num" @click="addText('8')">8</button>
            <button class="btn btn-num" @click="addText('9')">9</button>
            <button class="btn btn-op" @click="addText('*')">Ã—</button>
            <button class="btn btn-num" @click="addText('4')">4</button>
            <button class="btn btn-num" @click="addText('5')">5</button>
            <button class="btn btn-num" @click="addText('6')">6</button>
            <button class="btn btn-op" @click="addText('-')">âˆ’</button>
            <button class="btn btn-num" @click="addText('1')">1</button>
            <button class="btn btn-num" @click="addText('2')">2</button>
            <button class="btn btn-num" @click="addText('3')">3</button>
            <button class="btn btn-op" @click="addText('+')">+</button>
            <button class="btn btn-num" @click="addText('0')">0</button>
            <button class="btn btn-num" @click="addText('.')">.</button>
            <button class="btn btn-eq" @click="calculate">=</button>
        </div>
    </div>
    <div class="history-panel" v-if="showHistory">
        <div class="history-title">Calculation History</div>
        <div v-if="history.length===0" class="empty-history">No calculations yet</div>
        <div class="history-item" v-for="(item,index) in history" :key="index" @click="loadHistory(item)">
            {{item.expr}} = {{item.res}}
        </div>
    </div>
</div>
<script>
    const {createApp} = Vue;
    createApp({
        data() {
            return {
                expression: '',
                result: '0',
                lastResult: '',
                angleMode: 'deg',
                showHistory: false,
                history: [],
                memory: '',
                isError: false
            };
        },
        computed: {
            displayResult() {
                return this.result || '0';
            }
        },
        mounted() {
            window.addEventListener('keydown', this.handleKey);
            this.loadFromStorage();
        },
        unmounted() {
            window.removeEventListener('keydown', this.handleKey);
        },
        watch: {
            history: {
                handler() {
                    this.saveToStorage();
                },
                deep: true
            },
            angleMode() {
                this.saveToStorage();
            }
        },
        methods: {
            addText(txt) {
                if (this.isError) {
                    this.clear();
                }
                const ops = ['+', '-', '*', '/'];
                const lastChar = this.expression.slice(-1);
                if (ops.includes(txt) && ops.includes(lastChar)) return;
                this.expression += txt;
                this.liveEval();
            },
            addFunction(fn) {
                if (this.isError) {
                    this.clear();
                }
                const map = {
                    sin: 'sin(',
                    cos: 'cos(',
                    tan: 'tan(',
                    log: 'log(',
                    ln: 'log(',
                    sqrt: 'sqrt(',
                    pow: '^',
                    abs: 'abs('
                };
                this.expression += (map[fn] || fn);
                this.liveEval();
            },
            calculate() {
                if (!this.expression || this.isError) return;
                try {
                    const prep = this.prepExpr(this.expression);
                    const res = math.evaluate(prep);
                    const formatted = this.format(res);
                    this.result = formatted;
                    this.lastResult = formatted;
                    this.isError = false;
                    this.history.unshift({expr: this.expression, res: formatted});
                    if (this.history.length > 15) this.history.pop();
                    this.expression = '';
                } catch (e) {
                    this.result = 'Error';
                    this.isError = true;
                }
            },
            liveEval() {
                if (!this.expression) {
                    this.result = '0';
                    this.isError = false;
                    return;
                }
                try {
                    const prep = this.prepExpr(this.expression);
                    const res = math.evaluate(prep);
                    this.result = this.format(res);
                    this.isError = false;
                } catch (e) {
                    this.result = '0';
                    this.isError = false;
                }
            },
            prepExpr(expr) {
                let prep = expr.replace(/Ï€|pi/g, String(Math.PI)).replace(/e(?![0-9])/g, String(Math.E));
                if (this.angleMode === 'deg') {
                    prep = prep.replace(/sin\(/g, 'sin(pi/180*');
                    prep = prep.replace(/cos\(/g, 'cos(pi/180*');
                    prep = prep.replace(/tan\(/g, 'tan(pi/180*');
                }
                return prep;
            },
            format(num) {
                if (typeof num !== 'number') return String(num);
                if (!isFinite(num)) return 'Error';
                if (Math.abs(num) > 1e10 || Math.abs(num) < 1e-10 && num !== 0) {
                    return num.toExponential(6);
                }
                const rounded = Math.round(num * 1e10) / 1e10;
                return String(rounded);
            },
            clear() {
                this.expression = '';
                this.result = '0';
                this.isError = false;
            },
            deleteLast() {
                if (this.isError) {
                    this.clear();
                    return;
                }
                this.expression = this.expression.slice(0, -1);
                this.liveEval();
            },
            useAns() {
                if (this.isError) {
                    this.clear();
                }
                if (this.lastResult && this.lastResult !== '0') {
                    this.expression += this.lastResult;
                    this.liveEval();
                }
            },
            memoryStore() {
                this.memory = this.result;
            },
            memoryRecall() {
                if (this.isError) {
                    this.clear();
                }
                if (this.memory) {
                    this.expression += this.memory;
                    this.liveEval();
                }
            },
            memoryClear() {
                this.memory = '';
            },
            loadHistory(item) {
                this.expression = item.expr;
                this.result = item.res;
                this.isError = false;
            },
            toggleHistory() {
                this.showHistory = !this.showHistory;
            },
            copyResult() {
                if (this.result && this.result !== '0' && !this.isError) {
                    navigator.clipboard.writeText(this.result).catch(() => {
                    });
                }
            },
            handleKey(e) {
                if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
                const k = e.key;
                if (/^[0-9]$/.test(k)) {
                    e.preventDefault();
                    this.addText(k);
                } else if (['+', '-', '*', '/', '.', '^', '(', ')'].includes(k)) {
                    e.preventDefault();
                    this.addText(k);
                } else if (k === 'Enter' || k === '=') {
                    e.preventDefault();
                    this.calculate();
                } else if (k === 'Escape') {
                    e.preventDefault();
                    this.clear();
                } else if (k === 'Backspace') {
                    e.preventDefault();
                    this.deleteLast();
                } else if (k.toLowerCase() === 'c') {
                    e.preventDefault();
                    this.clear();
                } else if (k.toLowerCase() === 'h') {
                    e.preventDefault();
                    this.toggleHistory();
                }
            },
            saveToStorage() {
                try {
                    localStorage.setItem('calc_history', JSON.stringify(this.history.slice(0, 15)));
                    localStorage.setItem('calc_mode', this.angleMode);
                } catch (e) {
                }
            },
            loadFromStorage() {
                try {
                    const hist = localStorage.getItem('calc_history');
                    if (hist) this.history = JSON.parse(hist);
                    const mode = localStorage.getItem('calc_mode');
                    if (mode) this.angleMode = mode;
                } catch (e) {
                }
            }
        }
    }).mount('#app');
</script>
<script src="../logo.js"></script>
</body>
</html>