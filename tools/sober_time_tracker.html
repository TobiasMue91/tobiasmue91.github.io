<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Free online sober time tracker to monitor your recovery journey. Track days, hours, minutes sober with milestones, achievements, and international support resources.">
    <meta name="keywords" content="sober time tracker, sobriety counter, recovery tracker, addiction recovery, sober days calculator, sobriety milestones, recovery support, quit drinking, sober journey">
    <meta name="author" content="Claude Sonnet 4 prompted by Tobias MÃ¼ller">
    <meta name="robots" content="index, follow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="canonical" href="https://www.gptgames.dev/tools/sober_time_tracker.html">
    <meta property="og:title" content="Sober Time Tracker - Track Your Recovery Journey">
    <meta property="og:description" content="Free online sober time tracker to monitor your recovery journey. Track days, hours, minutes sober with milestones, achievements, and international support resources.">
    <meta property="og:url" content="https://www.gptgames.dev/tools/sober_time_tracker.html">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://www.gptgames.dev/screenshots/205.webp">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="GPT Games">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Sober Time Tracker - Track Your Recovery Journey">
    <meta name="twitter:description" content="Free online sober time tracker to monitor your recovery journey. Track days, hours, minutes sober with milestones, achievements, and international support resources.">
    <meta name="twitter:image" content="https://www.gptgames.dev/screenshots/205.webp">
    <meta name="theme-color" content="#16a085">
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebApplication","name":"Sober Time Tracker","description":"Free online sober time tracker to monitor your recovery journey with milestones and support resources","url":"https://www.gptgames.dev/tools/sober_time_tracker.html","author":{"@type":"Person","name":"Claude Sonnet 4 prompted by Tobias MÃ¼ller"},"applicationCategory":"HealthApplication","operatingSystem":"Web Browser","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"}}</script>
    <title>Sober Time Tracker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>:root {
        --primary: #2563eb;
        --primary-dark: #1d4ed8;
        --secondary: #10b981;
        --secondary-dark: #059669;
        --success: #22c55e;
        --warning: #f59e0b;
        --danger: #ef4444;
        --gray-50: #f9fafb;
        --gray-100: #f3f4f6;
        --gray-200: #e5e7eb;
        --gray-300: #d1d5db;
        --gray-400: #9ca3af;
        --gray-500: #6b7280;
        --gray-600: #4b5563;
        --gray-700: #374151;
        --gray-800: #1f2937;
        --gray-900: #111827;
        --white: #ffffff;
        --shadow-sm: 0 1px 2px 0 rgb(0 0 0/0.05);
        --shadow: 0 1px 3px 0 rgb(0 0 0/0.1), 0 1px 2px -1px rgb(0 0 0/0.1);
        --shadow-lg: 0 10px 15px -3px rgb(0 0 0/0.1), 0 4px 6px -4px rgb(0 0 0/0.1);
        --shadow-xl: 0 20px 25px -5px rgb(0 0 0/0.1), 0 8px 10px -6px rgb(0 0 0/0.1);
        --radius-sm: 0.375rem;
        --radius: 0.5rem;
        --radius-lg: 0.75rem;
        --radius-xl: 1rem;
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Inter', system-ui, -apple-system, sans-serif;
        background: linear-gradient(135deg, #16a085 0%, #2ecc71 50%, #27ae60 100%);
        min-height: 100vh;
        color: var(--gray-900);
        line-height: 1.6;
    }

    .container {
        max-width: 900px;
        margin: 0 auto;
        padding: 1.5rem;
    }

    .header {
        text-align: center;
        margin-bottom: 2.5rem;
    }

    .header h1 {
        color: var(--white);
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 0.75rem;
        text-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        letter-spacing: -0.025em;
    }

    .header p {
        color: rgba(255, 255, 255, 0.9);
        font-size: 1.25rem;
        font-weight: 400;
    }

    .main-card {
        background: var(--white);
        border-radius: var(--radius-xl);
        padding: 2.5rem;
        box-shadow: var(--shadow-xl);
        margin-bottom: 1.5rem;
    }

    .setup-section {
        text-align: center;
        max-width: 600px;
        margin: 0 auto;
    }

    .setup-section h2 {
        font-size: 2rem;
        font-weight: 600;
        color: var(--gray-800);
        margin-bottom: 1rem;
    }

    .setup-section p {
        font-size: 1.125rem;
        color: var(--gray-600);
        margin-bottom: 2rem;
    }

    .substance-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 1rem;
        margin-bottom: 2rem;
    }

    .substance-option {
        background: var(--gray-50);
        border: 2px solid var(--gray-200);
        border-radius: var(--radius-lg);
        padding: 1.25rem;
        cursor: pointer;
        transition: all 0.2s ease;
        text-align: center;
    }

    .substance-option:hover {
        border-color: var(--primary);
        background: var(--gray-100);
        transform: translateY(-2px);
    }

    .substance-option.selected {
        border-color: var(--primary);
        background: var(--primary);
        color: var(--white);
        box-shadow: var(--shadow-lg);
    }

    .substance-emoji {
        font-size: 2.5rem;
        display: block;
        margin-bottom: 0.5rem;
    }

    .substance-name {
        font-size: 0.95rem;
        font-weight: 600;
    }

    .date-input {
        width: 100%;
        max-width: 300px;
        padding: 1rem;
        border: 2px solid var(--gray-200);
        border-radius: var(--radius-lg);
        font-size: 1.125rem;
        font-weight: 500;
        color: var(--gray-700);
        transition: all 0.2s ease;
        margin-bottom: 1.5rem;
    }

    .date-input:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }

    .btn {
        background: var(--primary);
        color: var(--white);
        border: none;
        padding: 1rem 2rem;
        border-radius: var(--radius-lg);
        font-size: 1.125rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        text-decoration: none;
    }

    .btn:hover {
        background: var(--primary-dark);
        transform: translateY(-1px);
        box-shadow: var(--shadow-lg);
    }

    .btn:disabled {
        background: var(--gray-400);
        cursor: not-allowed;
        transform: none;
    }

    .btn-secondary {
        background: var(--secondary);
    }

    .btn-secondary:hover {
        background: var(--secondary-dark);
    }

    .btn-danger {
        background: var(--danger);
    }

    .btn-danger:hover {
        background: #dc2626;
    }

    .btn-small {
        padding: 0.5rem 1rem;
        font-size: 0.9rem;
    }

    .tracker-card {
        background: linear-gradient(135deg, var(--gray-50), var(--white));
        border: 2px solid var(--gray-200);
        border-radius: var(--radius-xl);
        padding: 2rem;
        margin-bottom: 2rem;
    }

    .tracker-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
        padding-bottom: 1rem;
        border-bottom: 2px solid var(--gray-200);
    }

    .tracker-title {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--gray-800);
    }

    .tracker-emoji {
        font-size: 2rem;
    }

    .counter-display {
        text-align: center;
        margin: 1.5rem 0;
    }

    .counter-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 1rem;
        margin: 1.5rem 0;
    }

    .counter-item {
        background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        color: var(--white);
        padding: 1.5rem;
        border-radius: var(--radius-xl);
        text-align: center;
        box-shadow: var(--shadow);
    }

    .counter-number {
        font-size: 2.5rem;
        font-weight: 700;
        display: block;
        font-variant-numeric: tabular-nums;
        min-height: 3rem;
        line-height: 3rem;
    }

    .counter-label {
        font-size: 0.875rem;
        font-weight: 500;
        opacity: 0.9;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    .milestone-section {
        margin: 1.5rem 0;
    }

    .milestone-section h3 {
        font-size: 1.25rem;
        font-weight: 600;
        color: var(--gray-800);
        margin-bottom: 1rem;
        text-align: center;
    }

    .milestone-progress {
        background: var(--gray-200);
        height: 1.5rem;
        border-radius: var(--radius-lg);
        overflow: hidden;
        margin: 1rem 0;
        position: relative;
    }

    .progress-bar {
        height: 100%;
        background: linear-gradient(90deg, var(--secondary), var(--secondary-dark));
        transition: width 0.5s ease;
        border-radius: var(--radius-lg);
    }

    .progress-text {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: var(--gray-700);
        font-weight: 600;
        font-size: 0.875rem;
    }

    .achievements {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
        gap: 0.75rem;
        margin: 1.5rem 0;
    }

    .achievement {
        background: var(--gray-50);
        border: 2px solid var(--gray-200);
        border-radius: var(--radius-lg);
        padding: 1rem;
        text-align: center;
        transition: all 0.3s ease;
    }

    .achievement.earned {
        background: linear-gradient(135deg, #fbbf24, #f59e0b);
        border-color: #f59e0b;
        color: var(--white);
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
    }

    .achievement i {
        font-size: 1.5rem;
        margin-bottom: 0.25rem;
        display: block;
    }

    .achievement-label {
        font-size: 0.75rem;
        font-weight: 600;
    }

    .stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 1rem;
        margin: 1.5rem 0;
    }

    .stat-card {
        background: linear-gradient(135deg, var(--gray-50), var(--white));
        border: 1px solid var(--gray-200);
        border-radius: var(--radius-lg);
        padding: 1rem;
        text-align: center;
    }

    .stat-number {
        font-size: 1.75rem;
        font-weight: 700;
        color: var(--secondary);
        display: block;
        margin-bottom: 0.25rem;
    }

    .stat-label {
        color: var(--gray-600);
        font-size: 0.8rem;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    .add-tracker-section {
        text-align: center;
        padding: 2rem;
        background: linear-gradient(135deg, var(--gray-50), var(--white));
        border-radius: var(--radius-xl);
        border: 2px dashed var(--gray-300);
        margin-bottom: 2rem;
    }

    .resources {
        background: linear-gradient(135deg, #dbeafe, #bfdbfe);
        border-radius: var(--radius-xl);
        padding: 2rem;
        margin: 2rem 0;
        border: 1px solid #93c5fd;
    }

    .resources h3 {
        color: var(--primary-dark);
        margin-bottom: 1rem;
        font-size: 1.25rem;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .resources p {
        color: var(--gray-700);
        margin-bottom: 1rem;
        font-size: 0.95rem;
    }

    .resource-links {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
    }

    .resource-link {
        background: var(--primary);
        color: var(--white);
        padding: 0.75rem 1.25rem;
        border-radius: var(--radius-lg);
        text-decoration: none;
        font-size: 0.9rem;
        font-weight: 500;
        transition: all 0.2s ease;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
    }

    .resource-link:hover {
        background: var(--primary-dark);
        transform: translateY(-1px);
    }

    .resource-link.emergency {
        background: var(--danger);
    }

    .resource-link.emergency:hover {
        background: #dc2626;
    }

    .celebration {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1000;
    }

    .confetti {
        position: absolute;
        width: 8px;
        height: 8px;
        border-radius: 50%;
    }

    .hidden {
        display: none !important;
    }

    @media (max-width: 768px) {
        .container {
            padding: 1rem;
        }

        .header h1 {
            font-size: 2.25rem;
        }

        .counter-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
        }

        .counter-item {
            padding: 1rem;
        }

        .counter-number {
            font-size: 2rem;
        }

        .main-card {
            padding: 1.5rem;
        }

        .tracker-card {
            padding: 1.5rem;
        }

        .substance-grid {
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 0.75rem;
        }

        .substance-emoji {
            font-size: 2rem;
        }

        .achievement {
            padding: 0.75rem;
        }

        .resource-links {
            justify-content: center;
        }
    }

    @keyframes confetti-fall {
        0% {
            transform: translateY(-100vh) rotate(0deg);
            opacity: 1;
        }
        100% {
            transform: translateY(100vh) rotate(720deg);
            opacity: 0;
        }
    }

    .confetti {
        animation: confetti-fall 3s linear infinite;
    }

    @keyframes celebration-pulse {
        0%, 100% {
            transform: scale(1);
        }
        50% {
            transform: scale(1.05);
        }
    }

    .celebrating {
        animation: celebration-pulse 0.6s ease-in-out;
    }</style>
</head>
<body>
<div class="container">
    <div class="header"><h1><i class="fas fa-heart"></i> Sober Time Tracker</h1>
        <p>Your journey to wellness, one moment at a time</p></div>
    <div class="main-card">
        <div id="setupSection" class="setup-section">
            <h2>Begin Your Journey</h2>
            <p>Select what you're staying sober from and when you started:</p>
            <div class="substance-grid" id="substanceGrid"></div>
            <input type="date" id="startDate" class="date-input">
            <div>
                <button onclick="startTracking()" class="btn" id="startBtn" disabled><i class="fas fa-play"></i> Start Tracking</button>
            </div>
        </div>
        <div id="trackingSection" class="hidden">
            <div id="trackersContainer"></div>
            <div class="add-tracker-section">
                <h3 style="margin-bottom: 1rem; color: var(--gray-700);">Track Another Substance</h3>
                <button onclick="showAddTracker()" class="btn btn-secondary"><i class="fas fa-plus"></i> Add Tracker</button>
            </div>
        </div>
    </div>
    <div class="resources"><h3><i class="fas fa-hands-helping"></i> Support Resources</h3>
        <p>If you need immediate help, contact your local emergency services or these international resources:</p>
        <div class="resource-links">
            <a href="https://findahelpline.com" target="_blank" class="resource-link emergency"><i class="fas fa-phone"></i> Find Crisis Helpline</a>
            <a href="https://www.iasp.info/resources/Crisis_Centres/" target="_blank" class="resource-link emergency"><i class="fas fa-globe"></i> Global Crisis Centers</a>
            <a href="https://www.aa.org/find-aa" target="_blank" class="resource-link"><i class="fas fa-users"></i> Find AA Meetings Worldwide</a>
            <a href="https://www.na.org/meetingsearch/" target="_blank" class="resource-link"><i class="fas fa-heart"></i> Find NA Meetings Worldwide</a>
            <a href="https://smartrecovery.org/meeting" target="_blank" class="resource-link"><i class="fas fa-brain"></i> SMART Recovery Meetings</a>
            <a href="https://www.reddit.com/r/stopdrinking/" target="_blank" class="resource-link"><i class="fas fa-comments"></i> r/stopdrinking Community</a>
        </div>
    </div>
</div>
<div id="celebration" class="celebration hidden"></div>
<script>
    const substances = [
        { id: 'alcohol', name: 'Alcohol', emoji: 'ðŸº' },
        { id: 'tobacco', name: 'Tobacco', emoji: 'ðŸš¬' },
        { id: 'cannabis', name: 'Cannabis', emoji: 'ðŸŒ¿' },
        { id: 'cocaine', name: 'Cocaine', emoji: 'â„ï¸' },
        { id: 'opioids', name: 'Opioids', emoji: 'ðŸ’Š' },
        { id: 'stimulants', name: 'Stimulants', emoji: 'âš¡' },
        { id: 'benzodiazepines', name: 'Benzos', emoji: 'ðŸ’¤' },
        { id: 'gambling', name: 'Gambling', emoji: 'ðŸŽ°' },
        { id: 'other', name: 'Other', emoji: 'ðŸŽ¯' }
    ];

    let trackers = [];
    let timerInterval = null;
    let selectedSubstance = null;
    const milestones = [1, 3, 7, 14, 30, 60, 90, 180, 365, 730, 1095];

    function initializeSubstanceGrid() {
        const grid = document.getElementById('substanceGrid');
        grid.innerHTML = substances.map(sub => `
        <div class="substance-option" onclick="selectSubstance('${sub.id}')">
            <span class="substance-emoji">${sub.emoji}</span>
            <div class="substance-name">${sub.name}</div>
        </div>
    `).join('');
    }

    function selectSubstance(substanceId) {
        selectedSubstance = substanceId;
        document.querySelectorAll('.substance-option').forEach(opt => opt.classList.remove('selected'));
        event.target.closest('.substance-option').classList.add('selected');
        document.getElementById('startBtn').disabled = false;
    }

    function initializeDatePicker() {
        const today = new Date();
        const dateString = today.toISOString().split('T')[0];
        document.getElementById('startDate').value = dateString;
        document.getElementById('startDate').max = dateString;
    }

    function loadSavedData() {
        const saved = localStorage.getItem('soberTrackers');
        if (saved) {
            try {
                trackers = JSON.parse(saved);
                if (trackers.length > 0) {
                    document.getElementById('setupSection').classList.add('hidden');
                    document.getElementById('trackingSection').classList.remove('hidden');
                    renderTrackers();
                    startTimer();
                }
            } catch (e) {
                console.error('Error loading saved data:', e);
                localStorage.removeItem('soberTrackers');
            }
        }
    }

    function saveData() {
        localStorage.setItem('soberTrackers', JSON.stringify(trackers));
    }

    function startTracking() {
        const dateInput = document.getElementById('startDate').value;
        if (!dateInput || !selectedSubstance) {
            alert('Please select a substance and start date');
            return;
        }
        const selectedDate = new Date(dateInput);
        const today = new Date();
        today.setHours(23, 59, 59, 999);
        if (selectedDate > today) {
            alert('Start date cannot be in the future');
            return;
        }
        const substance = substances.find(s => s.id === selectedSubstance);
        trackers.push({
            id: Date.now().toString(),
            substanceId: selectedSubstance,
            substanceName: substance.name,
            substanceEmoji: substance.emoji,
            startTime: dateInput,
            earnedMilestones: []
        });
        saveData();
        document.getElementById('setupSection').classList.add('hidden');
        document.getElementById('trackingSection').classList.remove('hidden');
        renderTrackers();
        startTimer();
    }

    function showAddTracker() {
        selectedSubstance = null;
        document.getElementById('startBtn').disabled = true;
        initializeDatePicker();
        document.getElementById('setupSection').classList.remove('hidden');
        document.getElementById('trackingSection').classList.add('hidden');
    }

    function removeTracker(trackerId) {
        if (confirm('Are you sure you want to remove this tracker? This cannot be undone.')) {
            trackers = trackers.filter(t => t.id !== trackerId);
            saveData();
            if (trackers.length === 0) {
                showAddTracker();
            } else {
                renderTrackers();
            }
        }
    }

    function startTimer() {
        if (timerInterval) clearInterval(timerInterval);
        timerInterval = setInterval(updateAllDisplays, 1000);
        updateAllDisplays();
    }

    function renderTrackers() {
        const container = document.getElementById('trackersContainer');
        container.innerHTML = trackers.map(tracker => {
            const substance = substances.find(s => s.id === tracker.substanceId);
            return `
            <div class="tracker-card" id="tracker-${tracker.id}">
                <div class="tracker-header">
                    <div class="tracker-title">
                        <span class="tracker-emoji">${tracker.substanceEmoji}</span>
                        <span>${tracker.substanceName}</span>
                    </div>
                    <button onclick="removeTracker('${tracker.id}')" class="btn btn-danger btn-small">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
                <div class="counter-display">
                    <div class="counter-grid">
                        <div class="counter-item">
                            <span id="days-${tracker.id}" class="counter-number">0</span>
                            <span class="counter-label">Days</span>
                        </div>
                        <div class="counter-item">
                            <span id="hours-${tracker.id}" class="counter-number">0</span>
                            <span class="counter-label">Hours</span>
                        </div>
                        <div class="counter-item">
                            <span id="minutes-${tracker.id}" class="counter-number">0</span>
                            <span class="counter-label">Minutes</span>
                        </div>
                        <div class="counter-item">
                            <span id="seconds-${tracker.id}" class="counter-number">0</span>
                            <span class="counter-label">Seconds</span>
                        </div>
                    </div>
                </div>
                <div class="milestone-section">
                    <h3>Progress to <span id="nextMilestone-${tracker.id}">1 Day</span></h3>
                    <div class="milestone-progress">
                        <div id="progressBar-${tracker.id}" class="progress-bar"></div>
                        <span id="progressText-${tracker.id}" class="progress-text">0%</span>
                    </div>
                </div>
                <div class="achievements" id="achievements-${tracker.id}">
                    ${milestones.slice(0, 8).map(m => `
                        <div class="achievement" data-milestone="${m}">
                            <i class="${getMilestoneIcon(m)}"></i>
                            <div class="achievement-label">${formatMilestone(m)}</div>
                        </div>
                    `).join('')}
                </div>
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-number" id="totalHours-${tracker.id}">0</div>
                        <div class="stat-label">Total Hours</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="weeksPassed-${tracker.id}">0</div>
                        <div class="stat-label">Weeks</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="moneySaved-${tracker.id}">$0</div>
                        <div class="stat-label">Est. Savings</div>
                    </div>
                </div>
            </div>
        `;
        }).join('');
    }

    function getMilestoneIcon(milestone) {
        const icons = {
            1: 'fas fa-seedling',
            3: 'fas fa-star',
            7: 'fas fa-medal',
            14: 'fas fa-trophy',
            30: 'fas fa-crown',
            60: 'fas fa-gem',
            90: 'fas fa-mountain',
            180: 'fas fa-sun',
            365: 'fas fa-rocket'
        };
        return icons[milestone] || 'fas fa-star';
    }

    function updateAllDisplays() {
        trackers.forEach(tracker => updateDisplay(tracker));
    }

    function updateDisplay(tracker) {
        const startTime = new Date(tracker.startTime);
        const now = new Date();
        const diff = now - startTime;
        if (diff < 0) return;
        const totalDays = diff / (1000 * 60 * 60 * 24);
        const days = Math.floor(totalDays);
        const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((diff % (1000 * 60)) / 1000);
        const daysEl = document.getElementById(`days-${tracker.id}`);
        const hoursEl = document.getElementById(`hours-${tracker.id}`);
        const minutesEl = document.getElementById(`minutes-${tracker.id}`);
        const secondsEl = document.getElementById(`seconds-${tracker.id}`);
        if (daysEl) daysEl.textContent = days.toLocaleString();
        if (hoursEl) hoursEl.textContent = hours.toString().padStart(2, '0');
        if (minutesEl) minutesEl.textContent = minutes.toString().padStart(2, '0');
        if (secondsEl) secondsEl.textContent = seconds.toString().padStart(2, '0');
        const totalHours = Math.floor(diff / (1000 * 60 * 60));
        const totalHoursEl = document.getElementById(`totalHours-${tracker.id}`);
        const weeksEl = document.getElementById(`weeksPassed-${tracker.id}`);
        const moneyEl = document.getElementById(`moneySaved-${tracker.id}`);
        if (totalHoursEl) totalHoursEl.textContent = totalHours.toLocaleString();
        if (weeksEl) weeksEl.textContent = Math.floor(days / 7);
        if (moneyEl) moneyEl.textContent = '$' + (days * 15).toLocaleString();
        updateMilestones(tracker, totalDays);
    }

    function updateMilestones(tracker, totalDays) {
        const nextMilestone = milestones.find(m => m > totalDays);
        const nextMilestoneEl = document.getElementById(`nextMilestone-${tracker.id}`);
        const progressBarEl = document.getElementById(`progressBar-${tracker.id}`);
        const progressTextEl = document.getElementById(`progressText-${tracker.id}`);
        if (nextMilestone && nextMilestoneEl && progressBarEl && progressTextEl) {
            const prevMilestone = milestones.filter(m => m <= totalDays).pop() || 0;
            const progress = ((totalDays - prevMilestone) / (nextMilestone - prevMilestone)) * 100;
            nextMilestoneEl.textContent = formatMilestone(nextMilestone);
            progressBarEl.style.width = Math.min(progress, 100) + '%';
            progressTextEl.textContent = Math.round(Math.min(progress, 100)) + '%';
        } else if (nextMilestoneEl && progressBarEl && progressTextEl) {
            nextMilestoneEl.textContent = 'Amazing Journey!';
            progressBarEl.style.width = '100%';
            progressTextEl.textContent = '100%';
        }
        milestones.forEach(milestone => {
            const achievementEl = document.querySelector(`#achievements-${tracker.id} .achievement[data-milestone="${milestone}"]`);
            if (achievementEl && Math.floor(totalDays) >= milestone) {
                if (!achievementEl.classList.contains('earned')) {
                    achievementEl.classList.add('earned');
                    if (!tracker.earnedMilestones.includes(milestone)) {
                        tracker.earnedMilestones.push(milestone);
                        saveData();
                        celebrate();
                    }
                }
            }
        });
    }

    function formatMilestone(days) {
        if (days === 1) return '1 Day';
        if (days < 7) return `${days} Days`;
        if (days === 7) return '1 Week';
        if (days === 14) return '2 Weeks';
        if (days < 30) return `${Math.floor(days / 7)} Weeks`;
        if (days === 30) return '1 Month';
        if (days < 365) return `${Math.floor(days / 30)} Months`;
        if (days === 365) return '1 Year';
        return `${Math.floor(days / 365)} Years`;
    }

    function celebrate() {
        const celebration = document.getElementById('celebration');
        celebration.classList.remove('hidden');
        const colors = ['#fbbf24', '#f59e0b', '#10b981', '#3b82f6', '#8b5cf6', '#ef4444'];
        for (let i = 0; i < 30; i++) {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.left = Math.random() * 100 + '%';
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.animationDelay = Math.random() * 2 + 's';
            celebration.appendChild(confetti);
        }
        setTimeout(() => {
            celebration.classList.add('hidden');
            celebration.innerHTML = '';
        }, 4000);
    }

    document.addEventListener('DOMContentLoaded', () => {
        initializeSubstanceGrid();
        initializeDatePicker();
        loadSavedData();
    });
</script>
<script src="../logo.js"></script>
</body>
</html>