<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>L33tspeak Converter | Text Transformation Tool</title>
    <meta name="description"
          content="Convert regular text to L33tspeak with customizable options. Create unique text styles with advanced transformation options.">
    <link rel="icon"
          href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ”¤</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;700&display=swap"
          rel="stylesheet">
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <style>:root {
        --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
        --font-mono: 'JetBrains Mono', monospace;
        --hue: 250;
        --sat: 85%;
        --primary: hsl(var(--hue), var(--sat), 50%);
        --primary-hover: hsl(var(--hue), var(--sat), 45%);
        --primary-light: hsl(var(--hue), 30%, 95%);
        --surface: hsl(var(--hue), 20%, 99%);
        --surface-hover: hsl(var(--hue), 20%, 96%);
        --card: hsl(0, 0%, 100%);
        --text: hsl(var(--hue), 15%, 15%);
        --text-secondary: hsl(var(--hue), 10%, 40%);
        --border: hsl(var(--hue), 15%, 85%);
        --success: hsl(160, 80%, 40%);
        --success-hover: hsl(160, 80%, 35%);
        --warning: hsl(40, 90%, 50%);
        --error: hsl(350, 80%, 50%);
        --shadow-color: hsl(var(--hue), 30%, 10%, 0.1);
        --radius-sm: 6px;
        --radius-md: 12px;
        --radius-lg: 16px;
        --radius-xl: 24px;
        --shadow-sm: 0 1px 2px var(--shadow-color);
        --shadow-md: 0 4px 8px var(--shadow-color);
        --shadow-lg: 0 8px 16px var(--shadow-color), 0 2px 4px var(--shadow-color);
        --ease: cubic-bezier(0.165, 0.84, 0.44, 1);
        --duration: 200ms;
    }

    .dark-mode {
        --primary: hsl(var(--hue), calc(var(--sat) - 20%), 60%);
        --primary-hover: hsl(var(--hue), calc(var(--sat) - 20%), 55%);
        --primary-light: hsl(var(--hue), 20%, 20%);
        --surface: hsl(var(--hue), 15%, 12%);
        --surface-hover: hsl(var(--hue), 15%, 15%);
        --card: hsl(var(--hue), 10%, 18%);
        --text: hsl(var(--hue), 10%, 90%);
        --text-secondary: hsl(var(--hue), 5%, 65%);
        --border: hsl(var(--hue), 10%, 25%);
        --shadow-color: hsl(var(--hue), 50%, 3%, 0.25);
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    html {
        font-size: 16px;
        height: 100%;
        scroll-behavior: smooth;
    }

    body {
        font-family: var(--font-sans);
        background: var(--surface);
        color: var(--text);
        line-height: 1.5;
        min-height: 100%;
        transition: background-color var(--duration) var(--ease), color var(--duration) var(--ease);
    }

    h1, h2, h3 {
        line-height: 1.2;
        font-weight: 700;
        margin-bottom: 0.5em;
        color: var(--text);
    }

    h1 {
        font-size: clamp(1.5rem, 5vw, 2.25rem);
    }

    h2 {
        font-size: clamp(1.25rem, 4vw, 1.75rem);
    }

    h3 {
        font-size: clamp(1rem, 3vw, 1.25rem);
    }

    p {
        margin-bottom: 1rem;
    }

    .container {
        width: 100%;
        max-width: 900px;
        margin: 0 auto;
        padding: 1.5rem;
    }

    .app-header {
        padding: 1.5rem;
        background: var(--primary);
        color: white;
        position: relative;
        overflow: hidden;
        border-radius: var(--radius-lg) var(--radius-lg) 0 0;
    }

    .app-header h1 {
        color: white;
        margin: 0;
        position: relative;
        z-index: 1;
    }

    .app-header::after {
        content: "";
        position: absolute;
        top: -50%;
        right: -10%;
        width: 30%;
        height: 200%;
        background: rgba(255, 255, 255, 0.1);
        transform: rotate(-30deg);
    }

    .app-body {
        padding: 1.5rem;
        background: var(--card);
        border-radius: 0 0 var(--radius-lg) var(--radius-lg);
        box-shadow: var(--shadow-md);
        transition: background var(--duration) var(--ease);
    }

    .header-actions {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .card {
        background: var(--surface);
        border-radius: var(--radius-md);
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        box-shadow: var(--shadow-sm);
        transition: background var(--duration) var(--ease), transform var(--duration) var(--ease);
    }

    .text-area {
        position: relative;
        margin-bottom: 1.5rem;
    }

    .text-field {
        width: 100%;
        padding: 1rem;
        font-family: var(--font-mono);
        font-size: 0.9rem;
        line-height: 1.4;
        background-color: var(--surface);
        color: var(--text);
        border: 1px solid var(--border);
        border-radius: var(--radius-md);
        resize: vertical;
        min-height: 120px;
        transition: background var(--duration) var(--ease), border var(--duration) var(--ease);
    }

    .text-field:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px hsla(var(--hue), var(--sat), 50%, 0.2);
    }

    .text-field::placeholder {
        color: var(--text-secondary);
    }

    .read-only {
        background-color: var(--primary-light);
        cursor: not-allowed;
    }

    .control-group {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
        margin-bottom: 1.5rem;
    }

    .control-row {
        display: flex;
        align-items: center;
        margin-bottom: 1rem;
    }

    .control-label {
        margin-bottom: 0.5rem;
        font-weight: 500;
        display: block;
    }

    .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0.5rem 1rem;
        font-family: var(--font-sans);
        font-size: 0.875rem;
        font-weight: 600;
        color: white;
        background-color: var(--primary);
        border: none;
        border-radius: var(--radius-md);
        cursor: pointer;
        transition: background var(--duration) var(--ease), transform var(--duration) var(--ease);
        text-transform: none;
        letter-spacing: 0.01em;
        box-shadow: var(--shadow-sm);
    }

    .btn:hover {
        background-color: var(--primary-hover);
        transform: translateY(-1px);
        box-shadow: var(--shadow-md);
    }

    .btn:active {
        transform: translateY(0);
    }

    .btn:focus {
        outline: none;
        box-shadow: 0 0 0 3px hsla(var(--hue), var(--sat), 50%, 0.3);
    }

    .btn-sm {
        padding: 0.3rem 0.6rem;
        font-size: 0.75rem;
    }

    .btn-success {
        background-color: var(--success);
    }

    .btn-success:hover {
        background-color: var(--success-hover);
    }

    .btn-secondary {
        background-color: transparent;
        color: var(--text);
        border: 1px solid var(--border);
    }

    .btn-secondary:hover {
        background-color: var(--surface-hover);
    }

    .btn-icon {
        width: 2.5rem;
        height: 2.5rem;
        border-radius: 50%;
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        z-index: 1;
        cursor: pointer;
    }

    .btn-icon svg {
        width: 1.25rem;
        height: 1.25rem;
    }

    .checkbox-group {
        display: flex;
        align-items: center;
        margin-right: 1rem;
        margin-bottom: 0.5rem;
    }

    .checkbox-input {
        position: absolute;
        opacity: 0;
        height: 0;
        width: 0;
    }

    .checkbox-label {
        display: flex;
        align-items: center;
        cursor: pointer;
        user-select: none;
        font-size: 0.9rem;
        color: var(--text);
    }

    .checkbox-custom {
        position: relative;
        display: inline-block;
        width: 1.25rem;
        height: 1.25rem;
        margin-right: 0.5rem;
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius-sm);
        transition: all var(--duration) var(--ease);
    }

    .checkbox-input:checked + .checkbox-label .checkbox-custom {
        background: var(--primary);
        border-color: var(--primary);
    }

    .checkbox-custom::after {
        content: "";
        position: absolute;
        top: 0.25rem;
        left: 0.45rem;
        width: 0.25rem;
        height: 0.5rem;
        border: solid white;
        border-width: 0 2px 2px 0;
        transform: rotate(45deg) scale(0);
        opacity: 0;
        transition: all var(--duration) var(--ease);
    }

    .checkbox-input:checked + .checkbox-label .checkbox-custom::after {
        transform: rotate(45deg) scale(1);
        opacity: 1;
    }

    .slider-container {
        width: 100%;
        margin-bottom: 1rem;
    }

    .slider-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.5rem;
    }

    .slider-label {
        font-weight: 500;
        font-size: 0.9rem;
    }

    .slider-value {
        font-size: 0.8rem;
        padding: 0.25rem 0.5rem;
        background: var(--primary-light);
        border-radius: var(--radius-sm);
        color: var(--primary);
        font-weight: 600;
    }

    .slider {
        -webkit-appearance: none;
        width: 100%;
        height: 0.5rem;
        border-radius: var(--radius-sm);
        background: var(--border);
        outline: none;
    }

    .slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 1.25rem;
        height: 1.25rem;
        border-radius: 50%;
        background: var(--primary);
        cursor: pointer;
        transition: transform var(--duration) var(--ease);
    }

    .slider::-moz-range-thumb {
        width: 1.25rem;
        height: 1.25rem;
        border-radius: 50%;
        background: var(--primary);
        cursor: pointer;
        transition: transform var(--duration) var(--ease);
        border: none;
    }

    .slider::-webkit-slider-thumb:hover, .slider::-moz-range-thumb:hover {
        transform: scale(1.1);
    }

    select {
        appearance: none;
        width: 100%;
        padding: 0.6rem 1rem;
        font-size: 0.9rem;
        background: var(--surface);
        color: var(--text);
        border: 1px solid var(--border);
        border-radius: var(--radius-md);
        cursor: pointer;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'%3E%3C/path%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 1rem center;
        background-size: 1rem;
    }

    select:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px hsla(var(--hue), var(--sat), 50%, 0.2);
    }

    .tooltip {
        position: relative;
        display: inline-block;
        cursor: help;
    }

    .tooltip-text {
        visibility: hidden;
        width: 200px;
        background-color: var(--text);
        color: white;
        text-align: center;
        border-radius: var(--radius-sm);
        padding: 0.5rem;
        position: absolute;
        z-index: 1;
        bottom: 125%;
        left: 50%;
        margin-left: -100px;
        opacity: 0;
        transition: opacity var(--duration) var(--ease);
        font-size: 0.75rem;
        line-height: 1.4;
        pointer-events: none;
    }

    .tooltip:hover .tooltip-text {
        visibility: visible;
        opacity: 1;
    }

    .flex {
        display: flex;
    }

    .flex-wrap {
        flex-wrap: wrap;
    }

    .justify-between {
        justify-content: space-between;
    }

    .items-center {
        align-items: center;
    }

    .gap-2 {
        gap: 0.5rem;
    }

    .gap-4 {
        gap: 1rem;
    }

    .mt-2 {
        margin-top: 0.5rem;
    }

    .mt-4 {
        margin-top: 1rem;
    }

    .mt-6 {
        margin-top: 1.5rem;
    }

    .mb-2 {
        margin-bottom: 0.5rem;
    }

    .mb-4 {
        margin-bottom: 1rem;
    }

    .mb-6 {
        margin-bottom: 1.5rem;
    }

    .ml-2 {
        margin-left: 0.5rem;
    }

    .stats-container {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
        margin-bottom: 1rem;
    }

    .stat-badge {
        background: var(--primary-light);
        color: var(--primary);
        font-size: 0.8rem;
        font-weight: 600;
        padding: 0.25rem 0.75rem;
        border-radius: var(--radius-sm);
        display: flex;
        align-items: center;
    }

    .stat-label {
        margin-right: 0.25rem;
        color: var(--text-secondary);
    }

    .tabs {
        display: flex;
        border-bottom: 1px solid var(--border);
        margin-bottom: 1.5rem;
        overflow-x: auto;
        scrollbar-width: none;
    }

    .tabs::-webkit-scrollbar {
        display: none;
    }

    .tab {
        padding: 0.75rem 1rem;
        font-weight: 500;
        color: var(--text-secondary);
        cursor: pointer;
        border-bottom: 2px solid transparent;
        transition: all var(--duration) var(--ease);
        white-space: nowrap;
    }

    .tab.active {
        color: var(--primary);
        border-bottom-color: var(--primary);
    }

    .tab:hover:not(.active) {
        color: var(--text);
        border-bottom-color: var(--border);
    }

    .toast {
        position: fixed;
        bottom: 1.5rem;
        right: 1.5rem;
        background: var(--card);
        color: var(--text);
        padding: 1rem;
        border-radius: var(--radius-md);
        box-shadow: var(--shadow-lg);
        transition: transform var(--duration) var(--ease), opacity var(--duration) var(--ease);
        transform: translateY(100%);
        opacity: 0;
        z-index: 100;
        display: flex;
        align-items: center;
        max-width: 300px;
    }

    .toast.show {
        transform: translateY(0);
        opacity: 1;
    }

    .toast-icon {
        margin-right: 0.75rem;
    }

    .toast-success {
        background: var(--success);
        color: white;
    }

    .history-item {
        padding: 0.75rem;
        border-radius: var(--radius-sm);
        background: var(--surface);
        margin-bottom: 0.5rem;
        cursor: pointer;
        transition: background var(--duration) var(--ease);
    }

    .history-item:hover {
        background: var(--surface-hover);
    }

    .history-text {
        font-size: 0.85rem;
        font-family: var(--font-mono);
        margin-bottom: 0.25rem;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .history-meta {
        display: flex;
        justify-content: space-between;
        font-size: 0.75rem;
        color: var(--text-secondary);
    }

    @media (max-width: 640px) {
        .container {
            padding: 1rem;
        }

        .app-header, .app-body {
            padding: 1rem;
        }

        .control-group {
            flex-direction: column;
            gap: 0.5rem;
        }

        .btn {
            width: 100%;
        }
    }

    @media (min-width: 768px) {
        .two-columns {
            display: grid;
            grid-template-columns:1fr 1fr;
            gap: 1.5rem;
        }
    }

    :focus-visible {
        outline: 3px solid var(--primary);
        outline-offset: 2px;
    }

    .fade-enter-active, .fade-leave-active {
        transition: opacity var(--duration) var(--ease);
    }

    .fade-enter-from, .fade-leave-to {
        opacity: 0;
    }

    .kbd {
        display: inline-block;
        padding: 0.1rem 0.4rem;
        font-size: 0.7rem;
        font-family: var(--font-mono);
        background: white;
        border: 1px solid var(--border);
        border-radius: var(--radius-sm);
        box-shadow: 0 1px 0 var(--border);
        color: black;
    }

    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    ::-webkit-scrollbar-track {
        background: var(--surface);
    }

    ::-webkit-scrollbar-thumb {
        background: var(--border);
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: var(--text-secondary);
    }</style>
</head>
<body>
<div class="container">
    <div id="app" class="app-wrapper">
        <div class="app-header">
            <div class="header-actions"><h1>L33tspeak Converter</h1>
                <button @click="toggleDarkMode" class="btn-icon" aria-label="Toggle dark mode">
                    <svg v-if="!darkMode" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                         stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg v-else xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                         stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <div class="app-body">
            <div class="tabs" role="tablist">
                <div v-for="(tab,index) in tabs" :key="index" @click="activeTab = tab.id"
                     :class="['tab',{active:activeTab === tab.id}]" :aria-selected="activeTab === tab.id" role="tab"
                     :tabindex="activeTab === tab.id ? 0 : -1">{{tab.name}}
                </div>
            </div>
            <div v-show="activeTab === 'convert'" role="tabpanel" aria-labelledby="tab-convert">
                <div class="text-area"><label for="input-text" class="control-label">Input Text:</label><textarea
                        id="input-text" v-model="inputText" @input="handleInput" class="text-field" rows="4"
                        placeholder="Enter your text here to convert to L33tspeak..."
                        @keydown.alt.enter.prevent="convert" aria-describedby="input-help"></textarea>
                    <div id="input-help" class="text-sm text-secondary mt-1" v-if="inputText.length === 0">Press
                        Alt+Enter to convert or enable auto-convert
                    </div>
                </div>
                <div class="stats-container">
                    <div class="stat-badge"><span class="stat-label">Leet Level:</span><span>{{leetLevel}}</span></div>
                    <div class="stat-badge"><span class="stat-label">Chars:</span><span>{{charCount}}</span></div>
                </div>
                <div class="control-group">
                    <button @click="convert" class="btn" aria-label="Convert text to L33tspeak">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                             style="margin-right:6px">
                            <path d="M8 3H5a2 2 0 0 0-2 2v3"></path>
                            <path d="M21 8V5a2 2 0 0 0-2-2h-3"></path>
                            <path d="M3 16v3a2 2 0 0 0 2 2h3"></path>
                            <path d="M16 21h3a2 2 0 0 0 2-2v-3"></path>
                            <path d="M7.9 16A5 5 0 0 1 6 12V8"></path>
                            <path d="M16 8v4a5 5 0 0 1-1.9 4"></path>
                            <path d="M12 2v20"></path>
                        </svg>
                        Convert to L33t<span class="kbd ml-2">Alt+Enter</span></button>
                    <button @click="copyToClipboard" class="btn btn-success" aria-label="Copy output to clipboard">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                             style="margin-right:6px">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        {{copyButtonText}}<span class="kbd ml-2">Alt+C</span></button>
                    <button @click="clearText" class="btn btn-secondary" aria-label="Clear all text">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                             style="margin-right:6px">
                            <path d="M3 6h18"></path>
                            <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path>
                            <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path>
                        </svg>
                        Clear
                    </button>
                </div>
                <div class="control-group">
                    <div class="checkbox-group"><input type="checkbox" id="advanced-mode" v-model="advancedMode"
                                                       class="checkbox-input"><label for="advanced-mode"
                                                                                     class="checkbox-label"><span
                            class="checkbox-custom"></span>Advanced Mode</label>
                        <div class="tooltip">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <path d="M12 16v-4"></path>
                                <path d="M12 8h.01"></path>
                            </svg>
                            <span class="tooltip-text">Use more complex L33t character replacements</span></div>
                    </div>
                    <div class="checkbox-group"><input type="checkbox" id="auto-convert" v-model="autoConvert"
                                                       class="checkbox-input"><label for="auto-convert"
                                                                                     class="checkbox-label"><span
                            class="checkbox-custom"></span>Auto-convert</label></div>
                </div>
                <div class="text-area"><label for="output-text" class="control-label">Output Text:</label><textarea
                        id="output-text" v-model="outputText" class="text-field read-only" rows="4" readonly
                        placeholder="Your L33tspeak text will appear here..." aria-live="polite"></textarea></div>
                <div class="two-columns mt-4">
                    <div>
                        <div class="slider-container">
                            <div class="slider-header"><label for="leet-intensity" class="slider-label">Leet
                                Intensity</label><span class="slider-value">{{leetIntensity}}%</span></div>
                            <input type="range" id="leet-intensity" v-model.number="leetIntensity" min="0" max="100"
                                   step="5" class="slider" @input="autoConvertIfEnabled" aria-valuemin="0"
                                   aria-valuemax="100" :aria-valuenow="leetIntensity"></div>
                        <div class="slider-container">
                            <div class="slider-header"><label for="emoji-intensity" class="slider-label">Emoji
                                Intensity</label><span class="slider-value">{{emojiIntensity}}%</span></div>
                            <input type="range" id="emoji-intensity" v-model.number="emojiIntensity" min="0" max="100"
                                   step="5" class="slider" @input="autoConvertIfEnabled" aria-valuemin="0"
                                   aria-valuemax="100" :aria-valuenow="emojiIntensity"></div>
                    </div>
                    <div>
                        <div class="control-row mb-4"><label for="text-style" class="control-label">Text
                            Style</label><select id="text-style" v-model="selectedStyle" @change="autoConvertIfEnabled">
                            <option value="none">No Style</option>
                            <option value="uppercase">UPPERCASE</option>
                            <option value="lowercase">lowercase</option>
                            <option value="alternating">AlTeRnAtInG</option>
                            <option value="spaced">S P A C E D</option>
                            <option value="reverse">esreveR</option>
                        </select></div>
                        <h3 class="mt-2 text-sm font-medium">Quick Presets:</h3>
                        <div class="control-group mt-2">
                            <button @click="applyPreset('hacker')" class="btn btn-secondary btn-sm">Hacker</button>
                            <button @click="applyPreset('gamer')" class="btn btn-secondary btn-sm">Gamer</button>
                            <button @click="applyPreset('extreme')" class="btn btn-secondary btn-sm">Extreme</button>
                            <button @click="applyPreset('secret')" class="btn btn-secondary btn-sm">Secret Code</button>
                            <button @click="generatePassword" class="btn btn-secondary btn-sm">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                     fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                     stroke-linejoin="round" style="margin-right:4px">
                                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                                </svg>
                                Generate Password
                            </button>
                        </div>
                    </div>
                </div>
                <div class="control-group mt-4">
                    <button @click="randomize" class="btn btn-secondary">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                             style="margin-right:6px">
                            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                            <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                        </svg>
                        Randomize
                    </button>
                    <button @click="toggleCase" class="btn btn-secondary">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                             style="margin-right:6px">
                            <path d="M7 4V2h10v2"></path>
                            <path d="M7 22v-2h10v2"></path>
                            <path d="M17 4l-5 14-5-14"></path>
                        </svg>
                        Toggle Case
                    </button>
                    <button @click="reverseText" class="btn btn-secondary">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                             style="margin-right:6px">
                            <polyline points="17 1 21 5 17 9"></polyline>
                            <path d="M3 11V9a4 4 0 0 1 4-4h14"></path>
                            <polyline points="7 23 3 19 7 15"></polyline>
                            <path d="M21 13v2a4 4 0 0 1-4 4H3"></path>
                        </svg>
                        Reverse
                    </button>
                </div>
            </div>
            <div v-show="activeTab === 'advanced'" role="tabpanel" aria-labelledby="tab-advanced"><h2>Custom Leet
                Replacements</h2>
                <p>Create your own character replacements for the L33tspeak converter.</p>
                <div class="control-group">
                    <div class="flex gap-2 items-center" style="width:100%"><input v-model="newCustomChar"
                                                                                   placeholder="Character"
                                                                                   class="text-field"
                                                                                   style="width:30%;padding:0.6rem"
                                                                                   maxlength="1"
                                                                                   aria-label="Character to replace"><input
                            v-model="newCustomValue" placeholder="Replacement" class="text-field"
                            style="width:70%;padding:0.6rem" aria-label="Replacement text"></div>
                    <button @click="addCustomLeet" class="btn" :disabled="!newCustomChar || !newCustomValue">Add
                        Replacement
                    </button>
                </div>
                <div v-if="Object.keys(customLeetMap).length>0" class="card">
                    <div class="flex wrap justify-between items-center mb-2"><h3 class="mb-0">Your Custom
                        Replacements</h3>
                        <button @click="clearCustomLeet" class="btn btn-secondary btn-sm">Clear All</button>
                    </div>
                    <div class="flex flex-wrap gap-2">
                        <div v-for="(value,key) in customLeetMap" :key="key" class="flex items-center"
                             style="background:var(--surface);padding:0.5rem;border-radius:var(--radius-sm)"><span
                                style="font-family:var(--font-mono)">{{key}}â†’{{value}}</span>
                            <button @click="removeCustomLeet(key)" class="btn btn-sm"
                                    style="margin-left:0.5rem;padding:0.2rem 0.4rem"
                                    aria-label="Remove this replacement">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                     fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                     stroke-linejoin="round">
                                    <line x1="18" y1="6" x2="6" y2="18"></line>
                                    <line x1="6" y1="6" x2="18" y2="18"></line>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="mt-6"><h2>Save & Load Settings</h2>
                    <p>Save your current configuration or load a previously saved one.</p>
                    <div class="control-group">
                        <button @click="saveSettings" class="btn">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" style="margin-right:6px">
                                <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                                <polyline points="17 21 17 13 7 13 7 21"></polyline>
                                <polyline points="7 3 7 8 15 8"></polyline>
                            </svg>
                            Save Settings
                        </button>
                        <button @click="loadSettings" class="btn btn-secondary">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" style="margin-right:6px">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                            Load Settings
                        </button>
                    </div>
                </div>
            </div>
            <div v-show="activeTab === 'history'" role="tabpanel" aria-labelledby="tab-history"><h2>Conversion
                History</h2>
                <p>Your recent L33tspeak conversions are saved here. Click on any item to use it again.</p>
                <div v-if="conversionHistory.length === 0" class="card" style="text-align:center;padding:2rem"><p>No
                    conversion history yet</p>
                    <button @click="activeTab = 'convert'" class="btn mt-2">Start Converting</button>
                </div>
                <div v-else class="card">
                    <div class="flex justify-between items-center mb-4"><h3 class="mb-0">Recent Conversions</h3>
                        <button @click="clearHistory" class="btn btn-secondary btn-sm">Clear History</button>
                    </div>
                    <div v-for="(item,index) in conversionHistory" :key="index" class="history-item"
                         @click="loadFromHistory(item)" tabindex="0" role="button"
                         :aria-label="'Load conversion: ' + item.output">
                        <div class="history-text">{{item.output}}</div>
                        <div class="history-meta"><span>{{item.timestamp}}</span><span>{{item.leetLevel}}</span></div>
                    </div>
                </div>
            </div>
            <div v-show="activeTab === 'help'" role="tabpanel" aria-labelledby="tab-help"><h2>About L33tspeak</h2>
                <p>L33tspeak (or "leet speak") is a type of internet slang where various combinations of ASCII
                    characters replace regular letters. For example,"leet" can be written as "1337".</p>
                <div class="card mb-4"><h3>Keyboard Shortcuts</h3>
                    <table style="width:100%;border-spacing:0;border-collapse:collapse;font-size:0.9rem">
                        <tr>
                            <td style="padding:0.5rem 0"><span class="kbd">Alt</span>+<span class="kbd">Enter</span>
                            </td>
                            <td>Convert text to L33t</td>
                        </tr>
                        <tr>
                            <td style="padding:0.5rem 0"><span class="kbd">Alt</span>+<span class="kbd">C</span></td>
                            <td>Copy output to clipboard</td>
                        </tr>
                        <tr>
                            <td style="padding:0.5rem 0"><span class="kbd">Alt</span>+<span class="kbd">1</span>to<span
                                    class="kbd">4</span></td>
                            <td>Switch between tabs</td>
                        </tr>
                    </table>
                </div>
                <div class="card"><h3>Common L33t Replacements</h3>
                    <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:0.5rem">
                        <div v-for="(value,key) in leetMaps.basic" :key="key"
                             style="font-family:var(--font-mono);padding:0.5rem;background:var(--surface);border-radius:var(--radius-sm);text-align:center">
                            {{key}}â†’{{value}}
                        </div>
                    </div>
                    <h3 class="mt-4">Tips</h3>
                    <ul style="padding-left:1.5rem;margin-bottom:0">
                        <li>Use Advanced Mode for more extreme L33tspeak transformations</li>
                        <li>Adjust the Leet Intensity slider to control how many characters get converted</li>
                        <li>Try the different text styles for extra uniqueness</li>
                        <li>Create custom replacements in the Advanced tab</li>
                    </ul>
                </div>
            </div>
        </div>

        <div v-if="showToast" class="toast show" :class="{'toast-success': toastType === 'success'}" role="alert" aria-live="assertive">
            <div class="toast-icon">
                <svg v-if="toastType === 'success'" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
                <svg v-else xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="12"></line>
                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>
            </div>
            <div>{{ toastMessage }}</div>
        </div>
    </div>
</div>
<script>
    const {createApp, ref, computed, watch, onMounted} = Vue;
    createApp({
        setup() {// State
            const inputText = ref('');
            const outputText = ref('');
            const advancedMode = ref(false);
            const autoConvert = ref(true);
            const copyButtonText = ref('Copy');
            const leetIntensity = ref(50);
            const emojiIntensity = ref(0);
            const selectedStyle = ref('none');
            const customLeetMap = ref({});
            const darkMode = ref(false);
            const activeTab = ref('convert');
            const showToast = ref(false);
            const toastMessage = ref('');
            const toastType = ref('success');
            const conversionHistory = ref([]);
            const newCustomChar = ref('');
            const newCustomValue = ref('');
            const debounceTimeout = ref(null);
            const isLoading = ref(false);// Presets
            const presets = {
                hacker: {leetIntensity: 75, emojiIntensity: 0, advancedMode: true, selectedStyle: 'none'},
                gamer: {leetIntensity: 50, emojiIntensity: 20, advancedMode: false, selectedStyle: 'uppercase'},
                extreme: {leetIntensity: 100, emojiIntensity: 0, advancedMode: true, selectedStyle: 'none'},
                secret: {leetIntensity: 60, emojiIntensity: 0, advancedMode: true, selectedStyle: 'alternating'}
            };// Tabs
            const tabs = [{id: 'convert', name: 'Convert'}, {id: 'advanced', name: 'Advanced'}, {
                id: 'history',
                name: 'History'
            }, {id: 'help', name: 'Help'}];// Leet maps
            const leetMaps = {
                basic: {'a': '4', 'e': '3', 'i': '1', 'o': '0', 's': '5', 't': '7', 'l': '1'},
                advanced: {
                    'a': '4',
                    'b': '8',
                    'c': '(',
                    'd': '[)',
                    'e': '3',
                    'f': 'ph',
                    'g': '9',
                    'h': '|-|',
                    'i': '1',
                    'j': '_|',
                    'k': '|<',
                    'l': '1',
                    'm': '|v|',
                    'n': '|\\|',
                    'o': '0',
                    'p': '|Â°',
                    'q': '9',
                    'r': '|2',
                    's': '5',
                    't': '7',
                    'u': '|_|',
                    'v': '\\/',
                    'w': '\\/\\/',
                    'x': '><',
                    'y': '`/',
                    'z': '2'
                }
            };// Emoji map
            const emojiMap = {
                'happy': ['ðŸ˜€', 'ðŸ˜„', 'ðŸ˜Ž', 'ðŸ”¥'],
                'sad': ['ðŸ˜¢', 'ðŸ˜ž', 'ðŸ’”', 'ðŸ˜”'],
                'love': ['â¤ï¸', 'ðŸ˜', 'ðŸ’¯', 'âœ¨'],
                'angry': ['ðŸ˜ ', 'ðŸ˜¡', 'ðŸ‘Š', 'ðŸ’¢'],
                'surprise': ['ðŸ˜®', 'ðŸ˜²', 'ðŸ™€', 'ðŸ’«']
            };// Computed properties
            const leetLevel = computed(() => {
                if (!inputText.value || !outputText.value) return 'N0t L33t';
                const totalChars = inputText.value.replace(/\s/g, '').length;
                if (totalChars === 0) return 'N0t L33t';
                const inputChars = inputText.value.toLowerCase().split('');
                const outputChars = outputText.value.toLowerCase().split('');
                let convertedCount = 0;
                for (let i = 0; i < Math.min(inputChars.length, outputChars.length); i++) {
                    if (inputChars[i] !== outputChars[i] && inputChars[i].match(/[a-z]/i)) {
                        convertedCount++;
                    }
                }
                const percentage = (convertedCount / totalChars) * 100;
                if (percentage >= 80) return 'L33t M4st3r';
                if (percentage >= 60) return 'L33t Pr0';
                if (percentage >= 40) return 'L33t Appr3nt1c3';
                if (percentage >= 20) return 'L33t N00b';
                return 'N0t L33t';
            });
            const charCount = computed(() => inputText.value.length);// Methods - Core conversion functions
            function convertToLeet(text, isAdvanced) {
                const leetMap = {...(isAdvanced ? leetMaps.advanced : leetMaps.basic), ...customLeetMap.value};

                const intensityThresholds = [];
                for (let i = 0; i < text.length; i++) {
                    intensityThresholds.push(Math.random() * 100);
                }

                return text.split('').map((char, index) => {
                    if (intensityThresholds[index] < leetIntensity.value) {
                        const lowerChar = char.toLowerCase();
                        return leetMap[lowerChar] || char;
                    }
                    return char;
                }).join('');
            }

            function addEmojis(text) {
                if (emojiIntensity.value <= 0) return text;
                const words = text.split(' ');
                return words.map(word => {
                    if (word.trim() && Math.random() * 100 < emojiIntensity.value) {
                        const emotion = Object.keys(emojiMap)[Math.floor(Math.random() * Object.keys(emojiMap).length)];
                        const emoji = emojiMap[emotion][Math.floor(Math.random() * emojiMap[emotion].length)];
                        return word + emoji;
                    }
                    return word;
                }).join(' ');
            }

            function applyStyle(text) {
                switch (selectedStyle.value) {
                    case'uppercase':
                        return text.toUpperCase();
                    case'lowercase':
                        return text.toLowerCase();
                    case'alternating':
                        return text.split('').map((char, index) => index % 2 === 0 ? char.toUpperCase() : char.toLowerCase()).join('');
                    case'spaced':
                        return text.split('').join(' ');
                    case'reverse':
                        return text.split('').reverse().join('');
                    default:
                        return text;
                }
            }// Input handling
            function debounce(func, wait) {
                clearTimeout(debounceTimeout.value);
                debounceTimeout.value = setTimeout(func, wait);
            }

            function handleInput() {
                if (autoConvert.value) {
                    debounce(convert, 300);
                }
            }

            function convert() {
                if (!inputText.value.trim()) {
                    outputText.value = '';
                    return;
                }

                try {
                    isLoading.value = true;
                    let result = convertToLeet(inputText.value, advancedMode.value);
                    result = addEmojis(result);
                    result = applyStyle(result);
                    outputText.value = result;

                    if (result && inputText.value !== result) {
                        addToHistory(inputText.value, result);
                    }
                } catch (error) {
                    console.error("Conversion error:", error);
                    showToastMessage('Error during conversion', 'error');
                } finally {
                    isLoading.value = false;
                }
            }

            function autoConvertIfEnabled() {
                if (autoConvert.value && inputText.value.trim()) {
                    convert();
                }
            }// User actions
            function randomize() {
                leetIntensity.value = Math.floor(Math.random() * 100);
                emojiIntensity.value = Math.floor(Math.random() * 30);
                advancedMode.value = Math.random() > 0.5;
                const styles = Object.keys(presets);
                const randomStyle = styles[Math.floor(Math.random() * styles.length)];
                applyPreset(randomStyle);
                convert();
                showToastMessage('Randomized settings applied!');
            }

            function copyToClipboard() {
                if (!outputText.value.trim()) {
                    showToastMessage('Nothing to copy', 'info');
                    return;
                }
                navigator.clipboard.writeText(outputText.value).then(() => {
                    copyButtonText.value = 'Copied!';
                    showToastMessage('Copied to clipboard!', 'success');
                    setTimeout(() => {
                        copyButtonText.value = 'Copy';
                    }, 2000);
                }).catch(() => {
                    showToastMessage('Failed to copy', 'error');
                });
            }

            function toggleCase() {
                if (!inputText.value.trim()) {
                    showToastMessage('Enter some text first', 'info');
                    return;
                }
                inputText.value = inputText.value.split('').map(char => char === char.toUpperCase() ? char.toLowerCase() : char.toUpperCase()).join('');
                autoConvertIfEnabled();
            }

            function reverseText() {
                if (!inputText.value.trim()) {
                    showToastMessage('Enter some text first', 'info');
                    return;
                }
                inputText.value = inputText.value.split('').reverse().join('');
                autoConvertIfEnabled();
            }

            function generatePassword() {
                const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()';
                let password = '';
                const length = 14;// Slightly longer for better security
                for (let i = 0; i < length; i++) {
                    password += chars.charAt(Math.floor(Math.random() * chars.length));
                }
                inputText.value = password;
                convert();
                showToastMessage(`${length}-character password generated!`);
            }// Custom leet management
            function addCustomLeet() {
                if (!newCustomChar.value || !newCustomValue.value) {
                    showToastMessage('Please enter both a character and replacement', 'info');
                    return;
                }
                const key = newCustomChar.value.toLowerCase().charAt(0);
                customLeetMap.value = {...customLeetMap.value, [key]: newCustomValue.value};
                newCustomChar.value = '';
                newCustomValue.value = '';
                showToastMessage('Custom replacement added!');
                autoConvertIfEnabled();
            }

            function removeCustomLeet(key) {
                const updatedMap = {...customLeetMap.value};
                delete updatedMap[key];
                customLeetMap.value = updatedMap;
                autoConvertIfEnabled();
            }

            function clearCustomLeet() {
                if (Object.keys(customLeetMap.value).length === 0) {
                    showToastMessage('No custom replacements to clear', 'info');
                    return;
                }
                customLeetMap.value = {};
                showToastMessage('Custom replacements cleared');
                autoConvertIfEnabled();
            }// Settings management
            function saveSettings() {
                try {
                    const settings = {
                        advancedMode: advancedMode.value,
                        autoConvert: autoConvert.value,
                        leetIntensity: leetIntensity.value,
                        emojiIntensity: emojiIntensity.value,
                        selectedStyle: selectedStyle.value,
                        customLeetMap: customLeetMap.value,
                        darkMode: darkMode.value
                    };
                    localStorage.setItem('leetSettings', JSON.stringify(settings));
                    showToastMessage('Settings saved!');
                } catch (error) {
                    console.error("Error saving settings:", error);
                    showToastMessage('Error saving settings', 'error');
                }
            }

            function loadSettings() {
                try {
                    const settings = JSON.parse(localStorage.getItem('leetSettings'));
                    if (settings) {
                        advancedMode.value = settings.advancedMode ?? false;
                        autoConvert.value = settings.autoConvert ?? true;
                        leetIntensity.value = settings.leetIntensity ?? 50;
                        emojiIntensity.value = settings.emojiIntensity ?? 0;
                        selectedStyle.value = settings.selectedStyle ?? 'none';
                        customLeetMap.value = settings.customLeetMap ?? {};
                        if (settings.darkMode !== undefined) {
                            darkMode.value = settings.darkMode;
                            applyDarkMode();
                        }
                        showToastMessage('Settings loaded!');
                        autoConvertIfEnabled();
                    } else {
                        showToastMessage('No saved settings found', 'info');
                    }
                } catch (error) {
                    console.error("Error loading settings:", error);
                    showToastMessage('Error loading settings', 'error');
                }
            }// Toast notifications
            function showToastMessage(message, type = 'success') {
                toastMessage.value = message;
                toastType.value = type;
                showToast.value = true;
                setTimeout(() => {
                    showToast.value = false;
                }, 3000);
            }// UI management
            function toggleDarkMode() {
                console.log('toggleDarkMode');
                darkMode.value = !darkMode.value;
                if (darkMode.value) {
                    document.body.classList.add('dark-mode');
                } else {
                    document.body.classList.remove('dark-mode');
                }
                localStorage.setItem('leetDarkMode', darkMode.value.toString());
            }

            function applyDarkMode() {
                if (darkMode.value) {
                    document.body.classList.add('dark-mode');
                } else {
                    document.body.classList.remove('dark-mode');
                }
            }

            function clearText() {
                inputText.value = '';
                outputText.value = '';
                showToastMessage('Text cleared');
            }// History management
            function addToHistory(input, output) {
                try {
                    const now = new Date();
                    const timeString = now.toLocaleTimeString([], {hour: '2-digit', minute: '2-digit'});// Add to the beginning of the array
                    conversionHistory.value.unshift({
                        input: input,
                        output: output,
                        timestamp: timeString,
                        leetLevel: leetLevel.value
                    });// Limit history to 10 items
                    if (conversionHistory.value.length > 10) {
                        conversionHistory.value = conversionHistory.value.slice(0, 10);
                    }// Save to localStorage
                    localStorage.setItem('leetHistory', JSON.stringify(conversionHistory.value));
                } catch (error) {
                    console.error("Error adding to history:", error);
                }
            }

            function loadFromHistory(item) {
                inputText.value = item.input;
                outputText.value = item.output;
                activeTab.value = 'convert';
                showToastMessage('Loaded from history');
            }

            function clearHistory() {
                if (conversionHistory.value.length === 0) {
                    showToastMessage('History already empty', 'info');
                    return;
                }
                conversionHistory.value = [];
                localStorage.removeItem('leetHistory');
                showToastMessage('History cleared');
            }// Presets
            function applyPreset(presetName) {
                const preset = presets[presetName];
                if (!preset) return;
                leetIntensity.value = preset.leetIntensity;
                emojiIntensity.value = preset.emojiIntensity;
                advancedMode.value = preset.advancedMode;
                selectedStyle.value = preset.selectedStyle;
                convert();
                showToastMessage(`Applied ${presetName} preset!`);
            }// Handle keyboard shortcuts
            function handleKeyDown(event) {// Alt+Enter to convert
                if (event.altKey && event.key === 'Enter') {
                    event.preventDefault();
                    convert();
                }// Alt+C to copy
                if (event.altKey && event.key === 'c') {
                    event.preventDefault();
                    copyToClipboard();
                }// Alt+1-4 to switch tabs
                if (event.altKey && event.key >= '1' && event.key <= '4') {
                    event.preventDefault();
                    const tabIndex = parseInt(event.key) - 1;
                    if (tabs[tabIndex]) {
                        activeTab.value = tabs[tabIndex].id;
                    }
                }
            }// Setup
            onMounted(() => {// Check for system dark mode preference
                if (window.matchMedia && window.matchMedia('(prefers-color-scheme:dark)').matches) {
                    darkMode.value = true;
                }// Try loading settings
                try {
                    const savedDarkMode = localStorage.getItem('leetDarkMode');
                    if (savedDarkMode !== null) {
                        darkMode.value = savedDarkMode === 'true';
                    }
                    const settings = JSON.parse(localStorage.getItem('leetSettings'));
                    if (settings) {
                        advancedMode.value = settings.advancedMode ?? false;
                        autoConvert.value = settings.autoConvert ?? true;
                        leetIntensity.value = settings.leetIntensity ?? 50;
                        emojiIntensity.value = settings.emojiIntensity ?? 0;
                        selectedStyle.value = settings.selectedStyle ?? 'none';
                        customLeetMap.value = settings.customLeetMap ?? {};
                    }
                } catch (error) {
                    console.error("Error loading settings:", error);
                }// Try loading history
                try {
                    const history = JSON.parse(localStorage.getItem('leetHistory'));
                    if (history && Array.isArray(history)) {
                        conversionHistory.value = history;
                    }
                } catch (error) {
                    console.error("Error loading history:", error);
                }// Apply dark mode
                applyDarkMode();// Add keyboard event listener
                document.addEventListener('keydown', handleKeyDown);// Focus first tab for keyboard navigation
                document.querySelector('.tab').focus();
            });// Cleanup on unmount (if using Vue 3's lifetime hooks)
// onUnmounted(() => {
//   document.removeEventListener('keydown', handleKeyDown);
// });

// Watch for changes to update output if autoConvert is enabled
            watch([advancedMode, leetIntensity, emojiIntensity, selectedStyle], () => {
                autoConvertIfEnabled();
            });// Watch for custom leet changes
            watch(customLeetMap, () => {
                autoConvertIfEnabled();
            }, {deep: true});
            return {// State
                inputText,
                outputText,
                advancedMode,
                autoConvert,
                copyButtonText,
                leetIntensity,
                emojiIntensity,
                selectedStyle,
                customLeetMap,
                darkMode,
                activeTab,
                tabs,
                showToast,
                toastMessage,
                toastType,
                conversionHistory,
                newCustomChar,
                newCustomValue,
                isLoading,// Computed
                leetLevel,
                charCount,// Constants
                leetMaps,// Methods
                handleInput,
                convert,
                randomize,
                copyToClipboard,
                toggleCase,
                reverseText,
                generatePassword,
                addCustomLeet,
                removeCustomLeet,
                clearCustomLeet,
                saveSettings,
                loadSettings,
                toggleDarkMode,
                clearText,
                autoConvertIfEnabled,
                showToastMessage,
                loadFromHistory,
                clearHistory,
                applyPreset
            };
        }
    }).mount('#app');
</script>
<script src="../logo.js"></script>
</body>
</html>