<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Image to ASCII Art Converter | Free Online Tool</title>
	<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üñºÔ∏è</text></svg>">
	<meta name="description" content="Convert any image to ASCII art with this free online tool. Adjust brightness, contrast, resolution and more to create perfect ASCII art from your photos.">
	<meta name="keywords" content="ASCII art, image converter, text art, image to ASCII, online converter, ascii generator">
	<meta property="og:title" content="Image to ASCII Art Converter | Free Online Tool">
	<meta property="og:description" content="Convert any image to ASCII art with this free online tool. Customize your ASCII art with various controls and download the result.">
	<meta property="og:image" content="https://gptgames.dev/screenshots/screenshot_81.png">
	<meta property="og:url" content="https://gptgames.dev/tools/image_to_base64_converter.html">
	<meta name="twitter:card" content="summary_large_image">
	<link rel="canonical" href="https://gptgames.dev/tools/image_to_base64_converter.html">
	<style>
		:root {
			--primary: #3a86ff;
			--primary-light: #e2eafc;
			--primary-dark: #2667e0;
			--text: #212529;
			--text-light: #6c757d;
			--background: #f8f9fa;
			--card: #ffffff;
			--border: #dee2e6;
			--success: #52b788;
			--error: #e63946;
			--shadow: rgba(0, 0, 0, 0.05);
		}

		.dark-mode {
			--primary: #4cc9f0;
			--primary-light: #1a2639;
			--primary-dark: #7dd3fc;
			--text: #e9ecef;
			--text-light: #adb5bd;
			--background: #121212;
			--card: #1e1e1e;
			--border: #333533;
			--shadow: rgba(0, 0, 0, 0.3);
		}

		* {
			box-sizing: border-box;
			margin: 0;
			padding: 0;
		}

		body {
			font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
			background-color: var(--background);
			color: var(--text);
			line-height: 1.6;
			transition: background-color 0.3s, color 0.3s;
			padding: 20px;
		}

		.container {
			max-width: 1200px;
			margin: 0 auto;
		}

		.app-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 24px;
			border-bottom: 1px solid var(--border);
			padding-bottom: 16px;
		}

		.app-title {
			font-size: 24px;
			font-weight: bold;
			color: var(--primary);
		}

		.app-subtitle {
			font-size: 14px;
			color: var(--text-light);
			margin-top: 4px;
		}

		.theme-toggle {
			background: var(--primary-light);
			border: none;
			color: var(--primary);
			width: 40px;
			height: 40px;
			border-radius: 8px;
			cursor: pointer;
			font-size: 18px;
			display: flex;
			align-items: center;
			justify-content: center;
			transition: 0.3s;
		}

		.theme-toggle:hover {
			background: var(--primary);
			color: white;
		}

		.dropzone {
			border: 2px dashed var(--border);
			border-radius: 8px;
			padding: 40px 20px;
			text-align: center;
			margin-bottom: 24px;
			background-color: var(--card);
			transition: 0.3s;
			box-shadow: 0 4px 6px var(--shadow);
		}

		.dropzone.active {
			border-color: var(--primary);
			background-color: var(--primary-light);
		}

		.dropzone-icon {
			font-size: 48px;
			margin-bottom: 16px;
			color: var(--primary);
		}

		.dropzone-text {
			margin-bottom: 16px;
			color: var(--text);
		}

		.dropzone-button {
			background-color: var(--primary);
			color: white;
			border: none;
			padding: 10px 20px;
			border-radius: 4px;
			font-size: 14px;
			cursor: pointer;
			transition: 0.3s;
			font-weight: 500;
		}

		.dropzone-button:hover {
			background-color: var(--primary-dark);
			transform: translateY(-1px);
		}

		.hidden {
			display: none !important;
		}

		.content-area {
			display: grid;
			grid-template-columns: 1fr;
			gap: 24px;
		}

		@media (min-width: 768px) {
			.content-area {
				grid-template-columns: minmax(0, 1fr) minmax(300px, 350px);
			}
		}

		.panel {
			background-color: var(--card);
			border-radius: 8px;
			overflow: hidden;
			box-shadow: 0 4px 6px var(--shadow);
			margin-bottom: 24px;
		}

		.panel-header {
			background-color: var(--primary);
			color: white;
			padding: 12px 16px;
			font-weight: 500;
			display: flex;
			justify-content: space-between;
			align-items: center;
		}

		.panel-body {
			padding: 16px;
		}

		.preview-image {
			max-width: 100%;
			max-height: 300px;
			object-fit: contain;
			display: block;
			margin: 0 auto;
		}

		.ascii-container {
			background-color: var(--primary-light);
			padding: 16px;
			border-radius: 4px;
			overflow: auto;
			max-height: 300px;
			min-height: 150px;
			font-family: monospace;
			white-space: pre;
			line-height: 1;
			color: var(--text);
			font-size: 8px;
		}

		.button-group {
			display: flex;
			gap: 8px;
		}

		.action-button {
			background-color: var(--primary);
			color: white;
			border: none;
			padding: 6px 12px;
			border-radius: 4px;
			font-size: 14px;
			cursor: pointer;
			transition: 0.3s;
			display: flex;
			align-items: center;
			gap: 4px;
		}

		.action-button:hover {
			background-color: var(--primary-dark);
		}

		.action-button.success {
			background-color: var(--success);
		}

		.action-button.success:hover {
			background-color: #429e75;
		}

		.control-group {
			margin-bottom: 20px;
		}

		.control-label {
			display: block;
			margin-bottom: 8px;
			font-weight: 500;
			color: var(--text);
		}

		.control-row {
			display: flex;
			align-items: center;
			margin-bottom: 12px;
		}

		.control-row label {
			width: 110px;
			flex-shrink: 0;
			color: var(--text-light);
			font-size: 14px;
		}

		.range-wrapper {
			flex-grow: 1;
			display: flex;
			align-items: center;
			gap: 8px;
		}

		input[type="range"] {
			width: 100%;
			-webkit-appearance: none;
			height: 6px;
			background: var(--border);
			border-radius: 3px;
			outline: none;
		}

		input[type="range"]::-webkit-slider-thumb {
			-webkit-appearance: none;
			width: 16px;
			height: 16px;
			border-radius: 50%;
			background: var(--primary);
			cursor: pointer;
		}

		.range-value {
			width: 40px;
			text-align: center;
			font-size: 14px;
			color: var(--text-light);
		}

		select, input[type="text"], input[type="number"] {
			width: 100%;
			padding: 8px 12px;
			border-radius: 4px;
			border: 1px solid var(--border);
			background-color: var(--background);
			color: var(--text);
			font-size: 14px;
		}

		select:focus, input:focus {
			outline: none;
			border-color: var(--primary);
		}

		.divider {
			height: 1px;
			background-color: var(--border);
			margin: 16px 0;
		}

		.notification {
			position: fixed;
			bottom: 20px;
			right: 20px;
			background-color: var(--primary);
			color: white;
			padding: 12px 16px;
			border-radius: 4px;
			box-shadow: 0 4px 8px var(--shadow);
			opacity: 0;
			transform: translateY(20px);
			transition: opacity 0.3s, transform 0.3s;
			z-index: 1000;
			font-size: 14px;
		}

		.notification.show {
			opacity: 1;
			transform: translateY(0);
		}

		.notification.error {
			background-color: var(--error);
		}

		.spinner {
			display: inline-block;
			width: 16px;
			height: 16px;
			border: 2px solid rgba(255, 255, 255, 0.3);
			border-radius: 50%;
			border-top-color: white;
			animation: spin 1s linear infinite;
			margin-right: 8px;
		}

		@keyframes spin {
			to { transform: rotate(360deg); }
		}

		.preset-buttons {
			display: grid;
			grid-template-columns: repeat(3, 1fr);
			gap: 8px;
			margin-bottom: 16px;
		}

		.preset-button {
			background-color: var(--primary-light);
			color: var(--text);
			border: 1px solid var(--border);
			border-radius: 4px;
			padding: 8px;
			font-size: 12px;
			cursor: pointer;
			transition: 0.2s;
			text-align: center;
		}

		.preset-button:hover {
			background-color: var(--primary);
			color: white;
		}

		.preset-button.active {
			background-color: var(--primary);
			color: white;
			border-color: var(--primary-dark);
		}

		.tooltip {
			position: relative;
			display: inline-block;
			cursor: help;
			margin-left: 5px;
			font-size: 14px;
			color: var(--primary);
		}

		.tooltip .tooltip-text {
			visibility: hidden;
			width: 200px;
			background-color: var(--card);
			color: var(--text);
			text-align: center;
			border-radius: 4px;
			padding: 8px;
			position: absolute;
			z-index: 1;
			bottom: 125%;
			left: 50%;
			transform: translateX(-50%);
			opacity: 0;
			transition: opacity 0.3s;
			font-size: 12px;
			box-shadow: 0 2px 4px var(--shadow);
			border: 1px solid var(--border);
		}

		.tooltip:hover .tooltip-text {
			visibility: visible;
			opacity: 1;
		}

		.font-size-control {
			display: flex;
			align-items: center;
			gap: 8px;
			margin-top: 8px;
		}

		.font-size-button {
			width: 24px;
			height: 24px;
			border-radius: 4px;
			border: 1px solid var(--border);
			background-color: var(--background);
			color: var(--text);
			display: flex;
			align-items: center;
			justify-content: center;
			cursor: pointer;
			font-size: 14px;
		}

		@media (max-width: 767px) {
			.content-area {
				grid-template-columns: 1fr;
			}

			.control-row label {
				width: 90px;
			}
		}

		.feature-list {
			display: flex;
			justify-content: center;
			gap: 20px;
			flex-wrap: wrap;
			margin-bottom: 20px;
		}

		.feature-item {
			display: flex;
			align-items: center;
			gap: 8px;
			font-size: 14px;
			color: var(--text-light);
		}

		.feature-icon {
			color: var(--primary);
			font-size: 16px;
		}
	</style>
</head>
<body>
<div class="container">
	<header class="app-header">
		<div>
			<h1 class="app-title">Image to ASCII Art Converter</h1>
			<p class="app-subtitle">Transform your images into beautiful ASCII art</p>
		</div>
		<button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">üåô</button>
	</header>

	<div class="feature-list">
		<div class="feature-item">
			<span class="feature-icon">‚úì</span>
			<span>Free to use</span>
		</div>
		<div class="feature-item">
			<span class="feature-icon">‚úì</span>
			<span>No watermarks</span>
		</div>
		<div class="feature-item">
			<span class="feature-icon">‚úì</span>
			<span>High-quality output</span>
		</div>
		<div class="feature-item">
			<span class="feature-icon">‚úì</span>
			<span>Works offline</span>
		</div>
	</div>

	<div id="dropzone" class="dropzone">
		<div class="dropzone-icon">üñºÔ∏è</div>
		<p class="dropzone-text">Drag & drop an image here or click to browse</p>
		<input type="file" id="file-input" accept="image/*" class="hidden">
		<button id="browse-button" class="dropzone-button">Upload Image</button>
	</div>

	<div id="content-area" class="content-area hidden">
		<div class="main-content">
			<div class="panel">
				<div class="panel-header">
					<span>Original Image</span>
				</div>
				<div class="panel-body" id="image-preview">
					<!-- Image will be inserted here -->
				</div>
			</div>

			<div class="panel">
				<div class="panel-header">
					<span>ASCII Output</span>
					<div class="button-group">
						<button id="copy-button" class="action-button">
							<span>Copy</span>
						</button>
						<button id="download-button" class="action-button success">
							<span>Download</span>
						</button>
					</div>
				</div>
				<div class="panel-body">
					<div id="ascii-output" class="ascii-container"></div>
					<div class="font-size-control">
						<span style="font-size: 12px; color: var(--text-light);">Font Size:</span>
						<button id="font-size-decrease" class="font-size-button">-</button>
						<button id="font-size-increase" class="font-size-button">+</button>
					</div>
				</div>
			</div>
		</div>

		<div class="control-panel">
			<div class="panel">
				<div class="panel-header">
					<span>Detail Presets</span>
				</div>
				<div class="panel-body">
					<div class="preset-buttons">
						<button class="preset-button" data-preset="low">Low Detail</button>
						<button class="preset-button active" data-preset="medium">Medium</button>
						<button class="preset-button" data-preset="high">High Detail</button>
					</div>
				</div>
			</div>

			<div class="panel">
				<div class="panel-header">
					<span>Image Adjustments</span>
				</div>
				<div class="panel-body">
					<div class="control-row">
						<label for="brightness">Brightness</label>
						<div class="range-wrapper">
							<input type="range" id="brightness" min="-100" max="100" value="0">
							<span id="brightness-value" class="range-value">0</span>
						</div>
					</div>
					<div class="control-row">
						<label for="contrast">Contrast</label>
						<div class="range-wrapper">
							<input type="range" id="contrast" min="-100" max="100" value="0">
							<span id="contrast-value" class="range-value">0</span>
						</div>
					</div>
					<div class="control-row">
						<label for="invert">Invert</label>
						<input type="checkbox" id="invert">
					</div>
				</div>
			</div>

			<div class="panel">
				<div class="panel-header">
					<span>ASCII Settings</span>
				</div>
				<div class="panel-body">
					<div class="control-row">
						<label for="width">Width</label>
						<div class="range-wrapper">
							<input type="range" id="width" min="20" max="120" value="60">
							<span id="width-value" class="range-value">60</span>
						</div>
					</div>
					<div class="control-row">
						<label for="detail">Detail Level</label>
						<div class="range-wrapper">
							<input type="range" id="detail" min="1" max="10" value="5">
							<span id="detail-value" class="range-value">5</span>
						</div>
					</div>
					<div class="control-row">
						<label for="charSet">Character Set</label>
						<select id="charSet">
							<option value="standard">Standard</option>
							<option value="simple">Simple</option>
							<option value="complex">Complex</option>
							<option value="blocks">Blocks</option>
							<option value="custom">Custom</option>
						</select>
					</div>
					<div id="custom-chars-row" class="control-row hidden">
						<label for="customChars">Custom Chars</label>
						<input type="text" id="customChars" value=" .:-=+*#%@">
					</div>
					<div class="control-row">
						<label for="colorMode">Color Mode</label>
						<select id="colorMode">
							<option value="none">No Color</option>
							<option value="original">Original Colors</option>
							<option value="grayscale">Grayscale</option>
						</select>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div id="notification" class="notification"></div>

<script>
	document.addEventListener('DOMContentLoaded', function() {
		// DOM Elements
		const themeToggle = document.getElementById('theme-toggle');
		const dropzone = document.getElementById('dropzone');
		const fileInput = document.getElementById('file-input');
		const browseButton = document.getElementById('browse-button');
		const contentArea = document.getElementById('content-area');
		const imagePreview = document.getElementById('image-preview');
		const asciiOutput = document.getElementById('ascii-output');
		const copyButton = document.getElementById('copy-button');
		const downloadButton = document.getElementById('download-button');
		const fontSizeDecrease = document.getElementById('font-size-decrease');
		const fontSizeIncrease = document.getElementById('font-size-increase');

		// Control elements
		const brightnessSlider = document.getElementById('brightness');
		const brightnessValue = document.getElementById('brightness-value');
		const contrastSlider = document.getElementById('contrast');
		const contrastValue = document.getElementById('contrast-value');
		const invertCheckbox = document.getElementById('invert');
		const widthSlider = document.getElementById('width');
		const widthValue = document.getElementById('width-value');
		const detailSlider = document.getElementById('detail');
		const detailValue = document.getElementById('detail-value');
		const charSetSelect = document.getElementById('charSet');
		const customCharsRow = document.getElementById('custom-chars-row');
		const customCharsInput = document.getElementById('customChars');
		const colorModeSelect = document.getElementById('colorMode');
		const presetButtons = document.querySelectorAll('.preset-button');

		// State
		let currentImage = null;
		let isProcessing = false;
		let currentFontSize = 8;

		// Initialize
		initializeApp();

		function initializeApp() {
			// Apply saved theme
			const savedTheme = localStorage.getItem('theme') || 'light';
			if (savedTheme === 'dark') {
				document.body.classList.add('dark-mode');
				themeToggle.innerHTML = '‚òÄÔ∏è';
			}

			// Setup event listeners
			setupEventListeners();

			// Update range display values
			updateRangeDisplayValues();
		}

		function setupEventListeners() {
			// Theme toggle
			themeToggle.addEventListener('click', toggleTheme);

			// File upload
			browseButton.addEventListener('click', () => fileInput.click());
			fileInput.addEventListener('change', handleFileChange);

			// Drag and drop
			setupDragAndDrop();

			// Control sliders
			brightnessSlider.addEventListener('input', handleControlChange);
			contrastSlider.addEventListener('input', handleControlChange);
			invertCheckbox.addEventListener('change', handleControlChange);
			widthSlider.addEventListener('input', handleControlChange);
			detailSlider.addEventListener('input', handleControlChange);

			// Selects
			charSetSelect.addEventListener('change', handleCharSetChange);
			customCharsInput.addEventListener('input', debounce(handleControlChange, 300));
			colorModeSelect.addEventListener('change', handleControlChange);

			// Buttons
			copyButton.addEventListener('click', copyAsciiToClipboard);
			downloadButton.addEventListener('click', downloadAsciiText);
			fontSizeDecrease.addEventListener('click', decreaseFontSize);
			fontSizeIncrease.addEventListener('click', increaseFontSize);

			// Presets
			presetButtons.forEach(button => {
				button.addEventListener('click', handlePresetClick);
			});
		}

		function setupDragAndDrop() {
			dropzone.addEventListener('dragover', (e) => {
				e.preventDefault();
				dropzone.classList.add('active');
			});

			dropzone.addEventListener('dragleave', () => {
				dropzone.classList.remove('active');
			});

			dropzone.addEventListener('drop', (e) => {
				e.preventDefault();
				dropzone.classList.remove('active');

				if (e.dataTransfer.files.length) {
					handleFile(e.dataTransfer.files[0]);
				}
			});

			// Allow clicking anywhere in the dropzone
			dropzone.addEventListener('click', (e) => {
				if (e.target !== browseButton) {
					fileInput.click();
				}
			});
		}

		function toggleTheme() {
			const isDarkMode = document.body.classList.toggle('dark-mode');
			themeToggle.innerHTML = isDarkMode ? '‚òÄÔ∏è' : 'üåô';
			localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
		}

		function handleFileChange(e) {
			if (e.target.files.length) {
				handleFile(e.target.files[0]);
			}
		}

		function handleFile(file) {
			// Validate file type
			if (!file.type.match('image.*')) {
				showNotification('Please select a valid image file', true);
				return;
			}

			const reader = new FileReader();
			reader.onload = (e) => {
				currentImage = new Image();
				currentImage.onload = () => {
					// Show image
					showImagePreview(currentImage);

					// Generate ASCII
					generateAsciiArt(currentImage);

					// Show content area
					contentArea.classList.remove('hidden');

					// Scroll to content
					contentArea.scrollIntoView({ behavior: 'smooth' });
				};
				currentImage.src = e.target.result;
			};
			reader.readAsDataURL(file);
		}

		function showImagePreview(image) {
			// Clear previous image
			imagePreview.innerHTML = '';

			// Create new image element
			const img = document.createElement('img');
			img.src = image.src;
			img.alt = 'Uploaded image';
			img.className = 'preview-image';

			// Add to container
			imagePreview.appendChild(img);
		}

		function generateAsciiArt(image) {
			if (isProcessing) return;

			isProcessing = true;
			showProcessingState(true);

			// Use setTimeout to prevent UI blocking
			setTimeout(() => {
				try {
					const options = getConversionOptions();
					const ascii = convertImageToAscii(image, options);
					displayAsciiOutput(ascii, options.colorMode);
				} catch (error) {
					console.error('Error generating ASCII art:', error);
					showNotification('Error generating ASCII art', true);
				} finally {
					isProcessing = false;
					showProcessingState(false);
				}
			}, 50);
		}

		function getConversionOptions() {
			return {
				brightness: parseInt(brightnessSlider.value),
				contrast: parseInt(contrastSlider.value),
				invert: invertCheckbox.checked,
				width: parseInt(widthSlider.value),
				detail: parseInt(detailSlider.value),
				charset: getCharacterSet(),
				colorMode: colorModeSelect.value
			};
		}

		function getCharacterSet() {
			const charSetType = charSetSelect.value;

			switch (charSetType) {
				case 'simple':
					return ' .:-=+*#%@';
				case 'standard':
					return ' .,:;+*?%S#@';
				case 'complex':
					return ' .`^",:;Il!i><~+_-?][}{1)(|/tfjrxnuvczXYUJCLQ0OZmwqpdbkhao*#MW&8%B@$';
				case 'blocks':
					return ' ‚ñë‚ñí‚ñì‚ñà';
				case 'custom':
					return customCharsInput.value || ' .:-=+*#%@';
				default:
					return ' .,:;+*?%S#@';
			}
		}

		function convertImageToAscii(image, options) {
			// Create canvas for image processing
			const canvas = document.createElement('canvas');
			const ctx = canvas.getContext('2d');

			// Calculate dimensions while maintaining aspect ratio
			const aspectRatio = image.height / image.width;
			const width = options.width;
			const height = Math.round(width * aspectRatio * 0.5); // Adjust for character aspect ratio

			// Set canvas size
			canvas.width = width;
			canvas.height = height;

			// Draw and process image
			ctx.drawImage(image, 0, 0, width, height);

			// Apply adjustments
			const imageData = ctx.getImageData(0, 0, width, height);
			applyImageAdjustments(imageData, options);
			ctx.putImageData(imageData, 0, 0);

			// Generate ASCII
			return processAsciiConversion(imageData, options);
		}

		function applyImageAdjustments(imageData, options) {
			const data = imageData.data;
			const brightness = options.brightness;
			const contrast = options.contrast;
			const invert = options.invert;

			// Calculate contrast factor
			const contrastFactor = (259 * (contrast + 255)) / (255 * (259 - contrast));

			for (let i = 0; i < data.length; i += 4) {
				// Get RGB values
				let r = data[i];
				let g = data[i + 1];
				let b = data[i + 2];

				// Apply brightness
				r += brightness;
				g += brightness;
				b += brightness;

				// Apply contrast
				r = contrastFactor * (r - 128) + 128;
				g = contrastFactor * (g - 128) + 128;
				b = contrastFactor * (b - 128) + 128;

				// Apply invert
				if (invert) {
					r = 255 - r;
					g = 255 - g;
					b = 255 - b;
				}

				// Clamp values
				data[i] = Math.max(0, Math.min(255, Math.round(r)));
				data[i + 1] = Math.max(0, Math.min(255, Math.round(g)));
				data[i + 2] = Math.max(0, Math.min(255, Math.round(b)));
			}
		}

		function processAsciiConversion(imageData, options) {
			const data = imageData.data;
			const width = imageData.width;
			const height = imageData.height;
			const charset = options.charset;
			const colorMode = options.colorMode;
			const detail = options.detail / 10; // Convert to 0.1-1.0 range

			let result = '';

			// Process each pixel
			for (let y = 0; y < height; y++) {
				for (let x = 0; x < width; x++) {
					const idx = (y * width + x) * 4;
					const r = data[idx];
					const g = data[idx + 1];
					const b = data[idx + 2];

					// Calculate brightness
					const brightness = 0.299 * r + 0.587 * g + 0.114 * b;

					// Get character based on brightness and detail level
					const char = getCharForBrightness(brightness, charset, detail);

					// Add color if needed
					if (colorMode === 'original') {
						result += `<span style="color:rgb(${r},${g},${b})">${char}</span>`;
					} else if (colorMode === 'grayscale') {
						const grayValue = Math.round(brightness);
						result += `<span style="color:rgb(${grayValue},${grayValue},${grayValue})">${char}</span>`;
					} else {
						result += char;
					}
				}
				result += '\n';
			}

			return result;
		}

		function getCharForBrightness(brightness, charset, detail) {
			// Adjust character selection based on detail level
			const effectiveLength = Math.max(2, Math.round(charset.length * detail));
			const charsetToUse = charset.substring(0, effectiveLength);

			// Map brightness to character
			const index = Math.floor((brightness / 255) * (charsetToUse.length - 1));
			return charsetToUse[index];
		}

		function displayAsciiOutput(ascii, colorMode) {
			if (colorMode !== 'none') {
				asciiOutput.innerHTML = ascii;
			} else {
				asciiOutput.textContent = ascii;
			}
		}

		function getPlainAscii() {
			return asciiOutput.textContent || '';
		}

		function copyAsciiToClipboard() {
			const text = getPlainAscii();
			if (!text) return;

			navigator.clipboard.writeText(text)
					.then(() => {
						showNotification('ASCII copied to clipboard');
					})
					.catch(() => {
						showNotification('Failed to copy to clipboard', true);
					});
		}

		function downloadAsciiText() {
			const text = getPlainAscii();
			if (!text) return;

			const blob = new Blob([text], { type: 'text/plain' });
			const url = URL.createObjectURL(blob);

			const a = document.createElement('a');
			a.href = url;
			a.download = 'ascii-art.txt';
			document.body.appendChild(a);
			a.click();
			document.body.removeChild(a);
			URL.revokeObjectURL(url);

			showNotification('ASCII art downloaded');
		}

		function handleControlChange() {
			// Update display value if this is a range slider
			updateRangeDisplayValues();

			// Clear active preset
			clearActivePresets();

			// Regenerate ASCII if an image is loaded
			if (currentImage) {
				generateAsciiArt(currentImage);
			}
		}

		function handleCharSetChange() {
			// Show/hide custom charset input
			if (charSetSelect.value === 'custom') {
				customCharsRow.classList.remove('hidden');
			} else {
				customCharsRow.classList.add('hidden');
			}

			// Update ASCII
			handleControlChange();
		}

		function handlePresetClick(e) {
			// Set active state
			presetButtons.forEach(button => {
				button.classList.remove('active');
			});
			e.target.classList.add('active');

			// Apply preset
			const preset = e.target.dataset.preset;
			applyPreset(preset);

			// Generate ASCII
			if (currentImage) {
				generateAsciiArt(currentImage);
			}
		}

		function applyPreset(preset) {
			switch (preset) {
				case 'low':
					widthSlider.value = 40;
					detailSlider.value = 3;
					charSetSelect.value = 'simple';
					break;
				case 'medium':
					widthSlider.value = 60;
					detailSlider.value = 5;
					charSetSelect.value = 'standard';
					break;
				case 'high':
					widthSlider.value = 100;
					detailSlider.value = 8;
					charSetSelect.value = 'complex';
					break;
			}

			// Hide/show custom chars row
			customCharsRow.classList.toggle('hidden', charSetSelect.value !== 'custom');

			// Update display values
			updateRangeDisplayValues();
		}

		function clearActivePresets() {
			presetButtons.forEach(button => {
				button.classList.remove('active');
			});
		}

		function increaseFontSize() {
			currentFontSize = Math.min(16, currentFontSize + 1);
			asciiOutput.style.fontSize = currentFontSize + 'px';
		}

		function decreaseFontSize() {
			currentFontSize = Math.max(4, currentFontSize - 1);
			asciiOutput.style.fontSize = currentFontSize + 'px';
		}

		function updateRangeDisplayValues() {
			brightnessValue.textContent = brightnessSlider.value;
			contrastValue.textContent = contrastSlider.value;
			widthValue.textContent = widthSlider.value;
			detailValue.textContent = detailSlider.value;
		}

		function showProcessingState(isProcessing) {
			if (isProcessing) {
				// Update button text to show loading
				copyButton.innerHTML = '<span class="spinner"></span><span>Processing...</span>';
				downloadButton.innerHTML = '<span class="spinner"></span><span>Processing...</span>';
				// Disable buttons
				copyButton.disabled = true;
				downloadButton.disabled = true;
			} else {
				// Restore button text
				copyButton.innerHTML = '<span>Copy</span>';
				downloadButton.innerHTML = '<span>Download</span>';
				// Enable buttons
				copyButton.disabled = false;
				downloadButton.disabled = false;
			}
		}

		function showNotification(message, isError = false) {
			notification.textContent = message;
			notification.className = isError ? 'notification error' : 'notification';

			// Show notification
			requestAnimationFrame(() => {
				notification.classList.add('show');

				// Hide notification after delay
				setTimeout(() => {
					notification.classList.remove('show');
				}, 3000);
			});
		}

		// Utility function to limit how often a function is called
		function debounce(fn, delay) {
			let timeout;
			return function(...args) {
				clearTimeout(timeout);
				timeout = setTimeout(() => fn.apply(this, args), delay);
			};
		}
	});
</script>
<script src="../logo.js"></script>
</body>
</html>