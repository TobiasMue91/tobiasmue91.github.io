<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="google-site-verification" content="Bsf604_Gq1q2ils2dQBRL3uxN-ZLhw4RzkgEmxpY29A"/>
    <meta name="description" content="GPTGames is an open-source project featuring HTML games and utilities generated by language models. It showcases AI capabilities in creating functional web applications.">
    <meta name="keywords" content="GPTGames, AI games, AI tools, ChatGPT, fun games, useful tools, AI created, AI improved, game collection, tool generator, Claude">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,minimum-scale=0.5">
    <meta name="theme-color" content="#3c6382">
    <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link rel="manifest" href="manifest.json">
    <link rel="canonical" href="https://www.gptgames.dev"/>
    <title>GPTGames: Collection of AI-Generated HTML Games and Utilities</title>
    <style>
        :root {
            --primary:#3c6382; --primary-hover:#254b69; --secondary:#f0932b; --secondary-hover:#d97e0c;
            --bg:#f8f9fa; --card:#fff; --dark:#2f3640; --gray:#e2e6ea; --text:#1e272e; --border:#dee2e6;
            --shadow:0 2px 6px rgba(0,0,0,0.08); --radius:8px; --transition:all 0.2s ease;
        }
        * {margin:0; padding:0; box-sizing:border-box;}
        body {font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background:var(--bg); color:var(--text); line-height:1.5;}
        .container {width:100%; max-width:1280px; margin:0 auto; padding:0 1rem;}
        header {background:var(--card); box-shadow:var(--shadow); position:sticky; top:0; z-index:100;}
        .header-content {height:70px; display:flex; align-items:center; justify-content:space-between;}
        .logo {display:flex; align-items:center; text-decoration:none; font-size:1.5rem; font-weight:700; color:var(--primary);}
        .logo i {margin-right:0.5rem; font-size:1.25rem;}
        .search-bar {position:relative; width:300px;}
        .search-bar input {width:100%; padding:0.5rem 2.5rem 0.5rem 1rem; border-radius:var(--radius); border:1px solid var(--border); outline:none; transition:var(--transition);}
        .search-bar input:focus {border-color:var(--primary); box-shadow:0 0 0 3px rgba(60,99,130,0.1);}
        .search-bar i {position:absolute; right:0.75rem; top:50%; transform:translateY(-50%); color:var(--primary); pointer-events:none;}
        .view-controls {display:flex; align-items:center; gap:0.5rem;}
        .view-btn {background:none; border:none; font-size:1.2rem; color:var(--primary); cursor:pointer; padding:0.25rem; transition:var(--transition);}
        .view-btn:hover, .view-btn.active {color:var(--secondary);}
        .filter-bar {padding:1rem 0; background:var(--card); border-bottom:1px solid var(--border); position:sticky; top:70px; z-index:99;}
        .filter-options {display:flex; gap:0.5rem; flex-wrap:wrap; align-items:center;}
        .filter-btn {padding:0.35rem 0.75rem; background:transparent; border:1px solid var(--border); border-radius:var(--radius); cursor:pointer; font-size:0.9rem; transition:var(--transition);}
        .filter-btn:hover {border-color:var(--primary); color:var(--primary);}
        .filter-btn.active {background:var(--primary); color:white; border-color:var(--primary);}
        .random-btn {margin-left:auto; background:var(--secondary); color:white; border:none;}
        .random-btn:hover {background:var(--secondary-hover); color:white;}
        .sort-select, .category-select {margin-left:0.5rem; padding:0.35rem 0.5rem; border-radius:var(--radius); border:1px solid var(--border); outline:none; cursor:pointer;}
        .sort-select:focus, .category-select:focus {border-color:var(--primary);}
        .main-section {padding:2rem 0;}
        .section-header {display:flex; justify-content:space-between; align-items:center; margin-bottom:1.5rem;}
        .section-title {font-size:1.5rem; font-weight:700; color:var(--dark);}
        .view-all {color:var(--primary); text-decoration:none; font-weight:500;}
        .grid-view {display:grid; grid-template-columns:repeat(auto-fill, minmax(220px, 1fr)); gap:1.25rem; margin-bottom:3rem;}
        .list-view {display:flex; flex-direction:column; gap:1rem; margin-bottom:3rem;}
        .card {background:var(--card); border-radius:var(--radius); overflow:hidden; box-shadow:var(--shadow); transition:var(--transition); height:100%; display:flex; flex-direction:column; position:relative;}
        .card:hover {box-shadow:0 8px 16px rgba(0,0,0,0.1); transform:translateY(-4px);}
        .card::before {content:''; position:absolute; bottom:0; left:0; width:100%; height:3px; background:var(--primary); transform:scaleX(0); transform-origin:left; transition:transform 0.3s ease; z-index:1;}
        .card:hover::before {transform:scaleX(1);}
        .card.tool::before {background:var(--secondary);}
        .card-img-wrap {aspect-ratio:16/10; overflow:hidden; position:relative;}
        .card-img {width:100%; height:100%; object-fit:cover; transition:transform 0.5s ease;}
        .card:hover .card-img {transform:scale(1.05);}
        .card-badges {position:absolute; top:0.5rem; right:0.5rem; display:flex; flex-direction:column; gap:0.3rem; z-index:2;}
        .card-badge {padding:0.25rem 0.5rem; border-radius:var(--radius); font-size:0.7rem; font-weight:600; background:var(--secondary); color:white;}
        .card-type {position:absolute; top:0.5rem; left:0.5rem; padding:0.25rem 0.5rem; border-radius:var(--radius); font-size:0.7rem; font-weight:600; color:white; z-index:2;}
        .card-type.game {background:var(--primary);}
        .card-type.tool {background:var(--secondary);}
        .new-badge {background:#2ecc71;}
        .featured-badge {background:#9b59b6;}
        .card-content {padding:1rem; display:flex; flex-direction:column; flex-grow:1;}
        .card-title {font-size:1rem; font-weight:600; margin-bottom:0.5rem; color:var(--dark); display:-webkit-box; -webkit-line-clamp:1; -webkit-box-orient:vertical; overflow:hidden;}
        .card-desc {font-size:0.875rem; color:#495057; margin-bottom:1rem; line-height:1.4; flex-grow:1;}
        .card-desc.truncated {overflow:hidden; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical;}
        .read-more {color:var(--primary); background:none; border:none; font-size:0.8rem; cursor:pointer; padding:0; margin-top:0.25rem; align-self:flex-start; transition:var(--transition);}
        .read-more:hover {color:var(--primary-hover); text-decoration:underline;}
        .card-btn {display:inline-block; padding:0.5rem 1rem; border-radius:var(--radius); text-decoration:none; font-weight:500; text-align:center; transition:var(--transition); margin-top:auto; border:none;}
        .card-btn.game {background:var(--primary); color:white;}
        .card-btn.game:hover {background:var(--primary-hover);}
        .card-btn.tool {background:var(--secondary); color:white;}
        .card-btn.tool:hover {background:var(--secondary-hover);}
        .list-card {flex-direction:row; min-height:140px; max-height:160px;}
        .list-card .card-img-wrap {width:180px; flex-shrink:0; aspect-ratio:auto; height:100%;}
        .list-card .card-content {flex-grow:1; display:flex; flex-direction:column;}
        .list-card .card-title {-webkit-line-clamp:1;}
        .list-card .card-desc {display:block; -webkit-line-clamp:3; overflow:hidden; display:-webkit-box; -webkit-box-orient:vertical; margin-bottom:auto;}
        .empty-state {text-align:center; padding:3rem 1rem; color:#6c757d;}
        .empty-state i {font-size:3rem; margin-bottom:1rem; color:var(--gray);}
        .loading {text-align:center; padding:2rem 1rem; display:none;}
        .spinner {display:inline-block; width:40px; height:40px; border:3px solid rgba(60,99,130,0.2); border-radius:50%; border-top-color:var(--primary); animation:spin 1s linear infinite; margin-bottom:1rem;}
        @keyframes spin {to {transform:rotate(360deg);}}
        .stats {display:flex; gap:1rem; flex-wrap:wrap; margin:2rem 0 0 0; justify-content:center;}
        .stat-card {background:var(--card); border-radius:var(--radius); padding:1rem; box-shadow:var(--shadow); min-width:150px; text-align:center; flex-grow:1; max-width:220px;}
        .stat-number {font-size:1.5rem; font-weight:700; color:var(--primary); margin-bottom:0.25rem;}
        .stat-label {font-size:0.9rem; color:#6c757d;}
        footer {background:var(--card); border-top:1px solid var(--border); padding:2rem 0; margin-top:2rem;}
        .footer-content {display:flex; justify-content:space-between; align-items:center;}
        .footer-links {display:flex; gap:1.5rem;}
        .footer-link {color:#495057; text-decoration:none; transition:var(--transition); display:flex; align-items:center;}
        .footer-link:hover {color:var(--primary);}
        .footer-link i {margin-right:0.5rem;}
        .back-to-top {position:fixed; bottom:2rem; right:2rem; width:45px; height:45px; background:var(--primary); color:white; border-radius:50%; display:flex; justify-content:center; align-items:center; text-decoration:none; box-shadow:var(--shadow); opacity:0; visibility:hidden; transition:var(--transition); border:none; cursor:pointer;}
        .back-to-top.visible {opacity:1; visibility:visible;}
        .back-to-top:hover {background:var(--primary-hover); transform:translateY(-5px);}
        .tooltip {position:relative;}
        .tooltip::after {content:attr(data-tooltip); position:absolute; bottom:100%; left:50%; transform:translateX(-50%); background:rgba(0,0,0,0.8); color:white; font-size:0.75rem; padding:0.35rem 0.5rem; border-radius:4px; white-space:nowrap; opacity:0; visibility:hidden; transition:var(--transition); pointer-events:none;}
        .tooltip:hover::after {opacity:1; visibility:visible; bottom:calc(100% + 5px);}
        .pill {display:inline-block; padding:0.15rem 0.5rem; border-radius:999px; font-size:0.7rem; font-weight:500; margin:0.15rem;}
        .pill.game {background:rgba(60,99,130,0.1); color:var(--primary);}
        .pill.tool {background:rgba(240,147,43,0.1); color:var(--secondary);}
        .filter-container {position:relative;}
        .filter-dropdown {position:absolute; top:100%; left:0; background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow); width:200px; max-height:300px; overflow-y:auto; z-index:10; display:none; margin-top:0.5rem; border:1px solid var(--border);}
        .filter-item {padding:0.5rem 1rem; cursor:pointer; transition:var(--transition);}
        .filter-item:hover {background:var(--gray);}
        .filter-item.active {background:var(--primary); color:white;}
        .clear-search {position:absolute; right:2.5rem; top:50%; transform:translateY(-50%); color:#6c757d; cursor:pointer; font-size:0.8rem; display:none;}
        @media (max-width:768px) {
            .header-content {flex-wrap:wrap; height:auto; padding:1rem 0; margin: 0 1rem;}
            .search-bar {width:100%; margin-top:1rem; order:3;}
            .view-controls {margin-top:1rem;}
            .grid-view {grid-template-columns:repeat(auto-fill, minmax(160px, 1fr));}
            .list-card {flex-direction:column; height:auto; max-height:none;}
            .list-card .card-img-wrap {width:100%;}
            .footer-content {flex-direction:column; gap:1rem; text-align:center;}
            .footer-links {justify-content:center;}
            .random-btn {margin-left:0; order:3; width:100%; margin-top:0.5rem;}
            .stat-card {min-width:100px;}
        }
    </style>
</head>
<body>
<header>
    <div class="container header-content">
        <a href="/" class="logo"><i class="fas fa-gamepad"></i> GPTGames</a>
        <div class="search-bar">
            <input type="search" id="searchInput" placeholder="Search games & tools" aria-label="Search">
            <span class="clear-search" id="clearSearch" title="Clear search">✕</span>
            <i class="fas fa-search"></i>
        </div>
        <div class="view-controls">
            <button class="view-btn active tooltip" id="gridViewBtn" data-tooltip="Grid View"><i class="fas fa-th"></i></button>
            <button class="view-btn tooltip" id="listViewBtn" data-tooltip="List View"><i class="fas fa-list"></i></button>
        </div>
    </div>
</header>

<div class="filter-bar">
    <div class="container">
        <div class="filter-options">
            <button class="filter-btn active" data-filter="all">All Items</button>
            <button class="filter-btn" data-filter="game">Games</button>
            <button class="filter-btn" data-filter="tool">Tools</button>
            <button class="filter-btn" data-filter="ai">AI Powered</button>
            <button class="filter-btn" data-filter="featured">Featured</button>
            <button class="filter-btn" data-filter="new">New</button>

            <select id="categoryFilter" class="category-select">
                <option value="all">All Categories</option>
                <option value="puzzle">Puzzles</option>
                <option value="arcade">Arcade</option>
                <option value="card">Card Games</option>
                <option value="text">Text Tools</option>
                <option value="image">Image Tools</option>
                <option value="converter">Converters</option>
                <option value="generator">Generators</option>
                <option value="utility">Utilities</option>
            </select>

            <select id="sortSelect" class="sort-select">
                <option value="featured">Featured First</option>
                <option value="newest">Newest First</option>
                <option value="oldest">Oldest First</option>
                <option value="az">A-Z</option>
                <option value="za">Z-A</option>
            </select>

            <button class="filter-btn random-btn" id="randomBtn"><i class="fas fa-dice"></i> I'm Feeling Lucky</button>
        </div>
    </div>
</div>

<main class="container">
    <div class="stats" id="statsContainer"></div>

    <section class="main-section">
        <div class="section-header">
            <h2 class="section-title" id="mainTitle">Featured Games & Tools</h2>
        </div>
        <div class="grid-view" id="mainGrid"></div>
        <div class="loading" id="loadingIndicator">
            <div class="spinner"></div>
            <p>Loading more items...</p>
        </div>
        <div class="empty-state" id="emptyState" style="display:none">
            <i class="fas fa-search"></i>
            <h3>No results found</h3>
            <p>Try adjusting your search or filters</p>
        </div>
    </section>
</main>

<footer>
    <div class="container footer-content">
        <div>&copy; <span id="currentYear"></span> GPTGames</div>
        <div class="footer-links">
            <a href="https://github.com/TobiasMue91/tobiasmue91.github.io" target="_blank" rel="noopener noreferrer" class="footer-link">
                <i class="fab fa-github"></i>GitHub
            </a>
            <a href="https://www.reddit.com/user/tobias_mueller" target="_blank" rel="noopener noreferrer" class="footer-link">
                <i class="fab fa-reddit"></i>Reddit
            </a>
        </div>
    </div>
</footer>

<button class="back-to-top" id="backToTop" aria-label="Back to top"><i class="fas fa-arrow-up"></i></button>

<script>
    document.getElementById('currentYear').textContent = new Date().getFullYear();
    const searchInput = document.getElementById('searchInput');
    const clearSearch = document.getElementById('clearSearch');
    const categoryFilter = document.getElementById('categoryFilter');
    const sortSelect = document.getElementById('sortSelect');
    const mainGrid = document.getElementById('mainGrid');
    const mainTitle = document.getElementById('mainTitle');
    const emptyState = document.getElementById('emptyState');
    const loadingIndicator = document.getElementById('loadingIndicator');
    const backToTop = document.getElementById('backToTop');
    const filterButtons = document.querySelectorAll('.filter-btn:not(.random-btn)');
    const randomBtn = document.getElementById('randomBtn');
    const gridViewBtn = document.getElementById('gridViewBtn');
    const listViewBtn = document.getElementById('listViewBtn');
    const statsContainer = document.getElementById('statsContainer');

    // State
    let allItems = [];
    let displayedItems = [];
    let currentFilter = 'all';
    let currentCategory = 'all';
    let currentSearch = '';
    let currentSort = 'featured';
    let currentPage = 1;
    let isListView = false;
    const itemsPerPage = 24;
    const THIRTY_DAYS_MS = 30 * 24 * 60 * 60 * 1000;

    // Category mapping function
    function getCategory(item) {
        const title = item.title.toLowerCase();
        const type = item.type;

        if (type === 'game') {
            if (/puzzle|sudoku|2048|match|word|connect/i.test(title)) return 'puzzle';
            if (/arcade|snake|tetris|pong|flappy|asteroid|frogger/i.test(title)) return 'arcade';
            if (/card|blackjack|poker/i.test(title)) return 'card';
            return 'other';
        } else {
            if (/text|word|grammar|markdown|character/i.test(title)) return 'text';
            if (/image|photo|picture|crop|compress/i.test(title)) return 'image';
            if (/convert|translator|encoder|decoder/i.test(title)) return 'converter';
            if (/generat|creat/i.test(title)) return 'generator';
            if (/calculator|timer|clock|todo|plan/i.test(title)) return 'utility';
            return 'other';
        }
    }

    // Check if item is new (less than 30 days old)
    function isNewItem(item) {
        if (!item.date) return false;
        const itemDate = new Date(item.date);
        const now = new Date();
        return (now - itemDate) < THIRTY_DAYS_MS;
    }

    // Create card HTML
    function createCard(item) {
        const isNew = isNewItem(item);
        const cardClass = `card ${item.type}${isListView ? ' list-card' : ''}`;

        return `
    <div class="${cardClass}" data-id="${item.id}" data-type="${item.type}" data-category="${getCategory(item)}">
        <div class="card-img-wrap">
            <img src="${item.screenshot}" alt="${item.title}" class="card-img" loading="lazy">
            <span class="card-type ${item.type}">${item.type}</span>
            <div class="card-badges">
                ${item.aiPowered ? '<span class="card-badge">AI Powered</span>' : ''}
                ${isNew ? '<span class="card-badge new-badge">New</span>' : ''}
                ${item.featured ? '<span class="card-badge featured-badge">Featured</span>' : ''}
            </div>
        </div>
        <div class="card-content">
            <h3 class="card-title" title="${item.title}">${item.title}</h3>
            <div class="card-description-container">
                <p class="card-desc${isListView ? '' : ' truncated'}" title="${item.description || ''}">${item.description || ''}</p>
                ${!isListView && item.description && item.description.length > 60 ?
            `<button class="read-more" data-id="${item.id}">Read more</button>` : ''}
            </div>
            <a href="${item.url}" class="card-btn ${item.type}">${item.type === 'game' ? 'Play Game' : 'Use Tool'}</a>
        </div>
    </div>`;
    }

    // Update statistics
    function updateStats() {
        // Count items
        const gameCount = allItems.filter(item => item.type === 'game').length;
        const toolCount = allItems.filter(item => item.type === 'tool').length;
        const aiCount = allItems.filter(item => item.aiPowered).length;
        const newCount = allItems.filter(item => isNewItem(item)).length;

        statsContainer.innerHTML = `
        <div class="stat-card">
            <div class="stat-number">${allItems.length}</div>
            <div class="stat-label">Total Items</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">${gameCount}</div>
            <div class="stat-label">Games</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">${toolCount}</div>
            <div class="stat-label">Tools</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">${aiCount}</div>
            <div class="stat-label">AI Powered</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">${newCount}</div>
            <div class="stat-label">New Items</div>
        </div>
    `;
    }

    // Filter and display items
    function filterAndDisplayItems(resetPage = true) {
        if (resetPage) currentPage = 1;

        // Apply filters
        let filtered = [...allItems];

        if (currentFilter === 'game' || currentFilter === 'tool') {
            filtered = filtered.filter(item => item.type === currentFilter);
        } else if (currentFilter === 'ai') {
            filtered = filtered.filter(item => item.aiPowered);
        } else if (currentFilter === 'featured') {
            filtered = filtered.filter(item => item.featured);
        } else if (currentFilter === 'new') {
            filtered = filtered.filter(item => isNewItem(item));
        }

        if (currentCategory !== 'all') {
            filtered = filtered.filter(item => getCategory(item) === currentCategory);
        }

        if (currentSearch) {
            const search = currentSearch.toLowerCase();
            filtered = filtered.filter(item =>
                item.title.toLowerCase().includes(search) ||
                (item.description && item.description.toLowerCase().includes(search))
            );
            clearSearch.style.display = 'block';
        } else {
            clearSearch.style.display = 'none';
        }

        // Apply sorting
        filtered = sortItems(filtered, currentSort);

        // Update title
        updateTitle(filtered);

        // Check if no results
        if (filtered.length === 0) {
            mainGrid.innerHTML = '';
            emptyState.style.display = 'block';
            return;
        }

        // Show results
        emptyState.style.display = 'none';
        displayedItems = filtered;

        // Paginate
        const end = currentPage * itemsPerPage;
        const itemsToShow = filtered.slice(0, end);

        // Set view class
        mainGrid.className = isListView ? 'list-view' : 'grid-view';

        // Render cards
        mainGrid.innerHTML = itemsToShow.map(createCard).join('');

        // Set up read more buttons
        document.querySelectorAll('.read-more').forEach(btn => {
            btn.addEventListener('click', function() {
                const id = this.getAttribute('data-id');
                const descContainer = this.previousElementSibling;
                descContainer.classList.toggle('truncated');
                this.textContent = descContainer.classList.contains('truncated') ? 'Read more' : 'Read less';
            });
        });
    }

    // Sort items
    function sortItems(items, sortMethod) {
        switch (sortMethod) {
            case 'featured':
                return items.sort((a, b) => (b.featured ? 1 : 0) - (a.featured ? 1 : 0) || new Date(b.date || 0) - new Date(a.date || 0));
            case 'newest':
                return items.sort((a, b) => new Date(b.date || 0) - new Date(a.date || 0));
            case 'oldest':
                return items.sort((a, b) => new Date(a.date || 0) - new Date(b.date || 0));
            case 'az':
                return items.sort((a, b) => a.title.localeCompare(b.title));
            case 'za':
                return items.sort((a, b) => b.title.localeCompare(a.title));
            default:
                return items;
        }
    }

    // Update title based on filters
    function updateTitle(filtered) {
        let title = '';

        if (currentFilter === 'featured') {
            title = 'Featured';
        } else if (currentFilter === 'ai') {
            title = 'AI Powered';
        } else if (currentFilter === 'new') {
            title = 'New';
        } else if (currentFilter === 'game') {
            title = 'Games';
        } else if (currentFilter === 'tool') {
            title = 'Tools';
        } else {
            title = 'All Items';
        }

        if (currentCategory !== 'all') {
            title += ` - ${currentCategory.charAt(0).toUpperCase() + currentCategory.slice(1)}`;
        }

        if (currentSearch) {
            title += ` matching "${currentSearch}"`;
        }

        title += ` (${filtered.length})`;
        mainTitle.textContent = title;
    }

    // Load more items
    function loadMore() {
        if (currentPage * itemsPerPage >= displayedItems.length) return;

        loadingIndicator.style.display = 'block';

        // Simulate loading delay
        setTimeout(() => {
            currentPage++;
            filterAndDisplayItems(false);
            loadingIndicator.style.display = 'none';
        }, 400);
    }

    // Show random item
    function showRandomItem() {
        if (allItems.length === 0) return;

        const randomItem = allItems[Math.floor(Math.random() * allItems.length)];
        window.location.href = randomItem.url;
    }

    // Fetch data
    async function fetchData() {
        try {
            const [gamesResponse, toolsResponse] = await Promise.all([
                fetch('data/games.json'),
                fetch('data/tools.json')
            ]);

            const gamesData = await gamesResponse.json();
            const toolsData = await toolsResponse.json();

            allItems = [...gamesData, ...toolsData];

            // Update statistics
            updateStats();

            // Initial display - featured items first, then newest
            filterAndDisplayItems();
        } catch (error) {
            console.error('Error fetching data:', error);
            mainGrid.innerHTML = `<div class="empty-state"><i class="fas fa-exclamation-circle"></i><h3>Error loading data</h3><p>Please try again later</p></div>`;
        }
    }

    // Event listeners
    searchInput.addEventListener('input', function() {
        currentSearch = this.value.trim();
        filterAndDisplayItems();
    });

    clearSearch.addEventListener('click', function() {
        searchInput.value = '';
        currentSearch = '';
        filterAndDisplayItems();
    });

    categoryFilter.addEventListener('change', function() {
        currentCategory = this.value;
        filterAndDisplayItems();
    });

    sortSelect.addEventListener('change', function() {
        currentSort = this.value;
        filterAndDisplayItems();
    });

    filterButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            filterButtons.forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            currentFilter = this.getAttribute('data-filter');
            filterAndDisplayItems();
        });
    });

    randomBtn.addEventListener('click', showRandomItem);

    gridViewBtn.addEventListener('click', function() {
        if (isListView) {
            isListView = false;
            gridViewBtn.classList.add('active');
            listViewBtn.classList.remove('active');
            filterAndDisplayItems(false);
        }
    });

    listViewBtn.addEventListener('click', function() {
        if (!isListView) {
            isListView = true;
            listViewBtn.classList.add('active');
            gridViewBtn.classList.remove('active');
            filterAndDisplayItems(false);
        }
    });

    // Infinite scroll
    window.addEventListener('scroll', function() {
        if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 800) {
            loadMore();
        }

        // Toggle back to top button
        if (window.scrollY > 500) {
            backToTop.classList.add('visible');
        } else {
            backToTop.classList.remove('visible');
        }
    });

    backToTop.addEventListener('click', function(e) {
        e.preventDefault();
        window.scrollTo({top: 0, behavior: 'smooth'});
    });

    // Initialize
    fetchData();
</script>
<script src="timeline.js"></script>
<script>
    if (typeof navigator.serviceWorker !== 'undefined') {
        navigator.serviceWorker.register('sw.js')
    }
</script>
<!--<script src="util/chatbot/chatbot.js"></script>-->
<script data-goatcounter="https://gptgames.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</body>
</html>
