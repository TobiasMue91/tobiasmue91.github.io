<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="google-site-verification" content="Bsf604_Gq1q2ils2dQBRL3uxN-ZLhw4RzkgEmxpY29A"/>
    <meta name="description" content="GPTGames is an open-source project featuring HTML games and utilities generated by language models. It showcases AI capabilities in creating functional web applications.">
    <meta name="keywords" content="GPTGames, AI games, AI tools, ChatGPT, fun games, useful tools, AI created, AI improved, game collection, tool generator, Claude">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,minimum-scale=0.5">
    <meta name="theme-color" content="#3c6382">
    <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
    <link rel="manifest" href="manifest.json">
    <link rel="canonical" href="https://www.gptgames.dev"/>
    <title>GPTGames: Collection of AI-Generated HTML Games and Utilities</title>
    <style>
        :root {
            --primary:#8B5CF6; --primary-hover: #7C3AED; --primary-light: #A78BFA;
            --secondary: #06B6D4; --secondary-hover: #0891B2; --secondary-light: #22D3EE;
            --accent: #F472B6; --accent-hover: #EC4899;
            --bg: #0F172A; --bg-light: #1E293B; --card:#1E293B; --card-hover: #334155;
            --dark:#F1F5F9; --gray:#475569; --text:#F1F5F9; --text-muted: #94A3B8; --border:#334155;
            --shadow:0 4px 20px rgba(0,0,0,0.3); --shadow-lg:0 20px 50px rgba(0,0,0,0.5);
            --radius:16px; --radius-sm:8px; --transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --gradient-primary: linear-gradient(135deg, #8B5CF6 0%, #6366F1 100%);
            --gradient-secondary: linear-gradient(135deg, #06B6D4 0%, #3B82F6 100%);
            --gradient-accent: linear-gradient(135deg, #F472B6 0%, #FB923C 100%);
            --gradient-bg: linear-gradient(180deg, #0F172A 0%, #1E293B 100%);
        }
        * {margin:0; padding:0; box-sizing:border-box;}
        body {
            font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            color:var(--text);
            line-height:1.6;
            background: var(--gradient-bg);
            background-attachment: fixed;
            transition: var(--transition);
            position: relative;
            overflow-x: hidden;
        }
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                radial-gradient(circle at 20% 50%, rgba(139, 92, 246, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(6, 182, 212, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(244, 114, 182, 0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }
        .container {width:100%; max-width:1320px; margin:0 auto; padding:0 1.5rem; position: relative; z-index: 1;}
        header {
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
            border-bottom: 1px solid rgba(139, 92, 246, 0.2);
            position:sticky;
            top:0;
            z-index:100;
        }
        .header-content {height:80px; display:flex; align-items:center; justify-content:space-between;}
        .logo {
            display:flex;
            align-items:center;
            text-decoration:none;
            font-size:1.75rem;
            font-weight:800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            transition: var(--transition);
        }
        .logo:hover {
            transform: translateY(-2px);
            filter: brightness(1.2);
        }
        .logo i {margin-right:0.5rem; font-size:1.25rem;}
        .search-bar {position:relative; width:350px;}
        .search-bar input {
            width:100%;
            padding:0.75rem 3rem 0.75rem 1.25rem;
            border-radius:var(--radius);
            border:2px solid var(--border);
            background: rgba(15, 23, 42, 0.5);
            color: var(--text);
            outline:none;
            transition:var(--transition);
            font-size: 0.95rem;
        }
        .search-bar input::placeholder {
            color: var(--text-muted);
        }
        .search-bar input:focus {
            border-color:var(--primary);
            box-shadow:0 0 0 4px rgba(139, 92, 246, 0.2);
            background: rgba(15, 23, 42, 0.8);
        }
        .search-bar svg {position:absolute; right:1rem; top:50%; transform:translateY(-50%); color:var(--primary-light); pointer-events:none;}
        .view-controls {display:flex; align-items:center; gap:0.75rem;}
        .view-btn {
            background:rgba(139, 92, 246, 0.1);
            border:2px solid transparent;
            border-radius: var(--radius-sm);
            font-size:1.25rem;
            color:var(--primary-light);
            cursor:pointer;
            padding:0.5rem;
            transition:var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .view-btn:hover {
            background:rgba(139, 92, 246, 0.2);
            border-color:var(--primary);
            transform: translateY(-2px);
        }
        .view-btn.active {
            background:var(--gradient-primary);
            color:white;
            border-color:var(--primary);
        }
        .filter-bar {
            padding:1.25rem 0;
            background: rgba(30, 41, 59, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom:1px solid rgba(139, 92, 246, 0.2);
            position:sticky;
            top:80px;
            z-index:99;
        }
        .filter-options {display:flex; gap:0.75rem; flex-wrap:wrap; align-items:center;}
        .filter-btn {
            padding:0.6rem 1.25rem;
            background:rgba(30, 41, 59, 0.6);
            border:2px solid var(--border);
            border-radius:var(--radius);
            cursor:pointer;
            font-size:0.95rem;
            font-weight:600;
            color: var(--text);
            transition:var(--transition);
        }
        .filter-btn:hover {
            border-color:var(--primary);
            background:rgba(139, 92, 246, 0.2);
            transform: translateY(-2px);
        }
        .filter-btn.active {
            background:var(--gradient-primary);
            color:white;
            border-color:var(--primary);
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.4);
        }
        .random-btn {
            margin-left:auto;
            background:var(--gradient-accent);
            color:white;
            border:2px solid var(--accent);
            box-shadow: 0 4px 15px rgba(244, 114, 182, 0.3);
        }
        .random-btn:hover {
            background:var(--accent-hover);
            box-shadow: 0 6px 20px rgba(244, 114, 182, 0.5);
            transform: translateY(-3px);
        }
        .sort-select, .category-select {
            margin-left:0.5rem;
            padding:0.6rem 1rem;
            border-radius:var(--radius);
            border:2px solid var(--border);
            background: rgba(30, 41, 59, 0.8);
            color: var(--text);
            outline:none;
            cursor:pointer;
            font-weight: 600;
            transition: var(--transition);
        }
        .sort-select:hover, .category-select:hover {
            border-color:var(--primary);
            background: rgba(30, 41, 59, 1);
        }
        .sort-select:focus, .category-select:focus {
            border-color:var(--primary);
            box-shadow:0 0 0 4px rgba(139, 92, 246, 0.2);
        }
        /* Hero Section */
        .hero {
            padding: 5rem 0 4rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(139, 92, 246, 0.15) 0%, transparent 70%);
            animation: heroGlow 8s ease-in-out infinite;
        }
        @keyframes heroGlow {
            0%, 100% { transform: translate(0, 0); }
            50% { transform: translate(10%, 10%); }
        }
        .hero-content {
            position: relative;
            z-index: 1;
        }
        .hero h1 {
            font-size: 3.5rem;
            font-weight: 900;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            line-height: 1.1;
            letter-spacing: -0.02em;
        }
        .hero p {
            font-size: 1.25rem;
            color: var(--text-muted);
            max-width: 700px;
            margin: 0 auto 2rem;
            line-height: 1.7;
        }
        .hero-highlight {
            background: var(--gradient-secondary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
        }

        .main-section {padding:3rem 0;}
        .section-header {display:flex; justify-content:space-between; align-items:center; margin-bottom:2rem;}
        .section-title {
            font-size:2rem;
            font-weight:800;
            color:var(--dark);
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .view-all {color:var(--primary); text-decoration:none; font-weight:500;}
        .grid-view {display:grid; grid-template-columns:repeat(auto-fill, minmax(260px, 1fr)); gap:1.5rem; margin-bottom:3rem;}
        .list-view {display:flex; flex-direction:column; gap:1.5rem; margin-bottom:3rem;}
        .card {
            cursor: pointer;
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border-radius:var(--radius);
            overflow:hidden;
            box-shadow:var(--shadow);
            border: 2px solid var(--border);
            transition:var(--transition);
            height:100%;
            display:flex;
            flex-direction:column;
            position:relative;
        }
        .card:hover {
            box-shadow: var(--shadow-lg);
            transform:translateY(-8px);
            border-color: var(--primary);
        }
        .card::before {
            content:'';
            position:absolute;
            top:0;
            left:0;
            right:0;
            bottom:0;
            background: var(--gradient-primary);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index:0;
            pointer-events: none;
        }
        .card:hover::before {
            opacity: 0.05;
        }
        .card::after {
            content:'';
            position:absolute;
            bottom:0;
            left:0;
            width:100%;
            height:4px;
            background:var(--gradient-primary);
            transform:scaleX(0);
            transform-origin:left;
            transition:transform 0.4s ease;
            z-index:10;
        }
        .card:hover::after {
            transform:scaleX(1);
        }
        .card.tool::after {
            background:var(--gradient-secondary);
        }
        .card-img-wrap {
            aspect-ratio:16/10;
            overflow:hidden;
            position:relative;
            background: var(--bg-light);
        }
        .card-img {
            width:100%;
            height:100%;
            object-fit:cover;
            transition:transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .card:hover .card-img {
            transform:scale(1.1);
        }
        .card-badges {position:absolute; top:0.75rem; right:0.75rem; display:flex; flex-direction:column; gap:0.4rem; z-index:3;}
        .card-badge {
            padding:0.35rem 0.75rem;
            border-radius:999px;
            font-size:0.7rem;
            font-weight:700;
            background: rgba(6, 182, 212, 0.9);
            backdrop-filter: blur(8px);
            color:white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            letter-spacing: 0.02em;
            text-transform: uppercase;
        }
        .card-type {
            position:absolute;
            top:0.75rem;
            left:0.75rem;
            padding:0.35rem 0.75rem;
            border-radius:999px;
            font-size:0.7rem;
            font-weight:700;
            color:white;
            z-index:3;
            letter-spacing: 0.02em;
            text-transform: uppercase;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            backdrop-filter: blur(8px);
        }
        .card-type.game {
            background: rgba(139, 92, 246, 0.95);
        }
        .card-type.tool {
            background: rgba(6, 182, 212, 0.95);
        }
        .new-badge {
            background: rgba(16, 185, 129, 0.9);
        }
        .featured-badge {
            background: rgba(244, 114, 182, 0.9);
        }
        .card-content {
            padding:1.25rem;
            display:flex;
            flex-direction:column;
            flex-grow:1;
            position: relative;
            z-index: 1;
        }
        .card-title {
            font-size:1.1rem;
            font-weight:700;
            margin-bottom:0.75rem;
            color:var(--dark);
            display:-webkit-box;
            -webkit-line-clamp:1;
            -webkit-box-orient:vertical;
            overflow:hidden;
            letter-spacing: -0.01em;
        }
        .card-desc {
            font-size:0.9rem;
            color:var(--text-muted);
            line-height:1.6;
            flex-grow:1;
        }
        .card-desc.truncated {overflow:hidden; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical;}
        .read-more {
            color:var(--primary-light);
            background:none;
            border:none;
            font-size:0.85rem;
            font-weight: 600;
            cursor:pointer;
            padding:2rem;
            margin:-2rem -2rem -1rem -2rem;
            align-self:flex-start;
            transition:var(--transition);
        }
        .read-more:hover {
            color:var(--primary);
            text-decoration:underline;
        }
        .card-btn {
            display:inline-block;
            padding:0.75rem 1.5rem;
            border-radius:var(--radius);
            text-decoration:none;
            font-weight:700;
            font-size: 0.95rem;
            text-align:center;
            transition:var(--transition);
            margin-top:auto;
            border:none;
            position: relative;
            z-index: 2;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .card-btn.game {
            background:var(--gradient-primary);
            color:white;
        }
        .card-btn.game:hover {
            background:var(--primary-hover);
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.5);
            transform: translateY(-2px);
        }
        .card-btn.tool {
            background:var(--gradient-secondary);
            color:white;
        }
        .card-btn.tool:hover {
            background:var(--secondary-hover);
            box-shadow: 0 6px 20px rgba(6, 182, 212, 0.5);
            transform: translateY(-2px);
        }
        .list-card {flex-direction:row; min-height:140px; max-height:160px;}
        .list-card .card-img-wrap {width:180px; flex-shrink:0; aspect-ratio:auto; height:100%;}
        .list-card .card-content {flex-grow:1; display:flex; flex-direction:column;}
        .list-card .card-title {-webkit-line-clamp:1;}
        .list-card .card-desc {display:block; -webkit-line-clamp:3; overflow:hidden; display:-webkit-box; -webkit-box-orient:vertical; margin-bottom:auto;}
        .empty-state {
            text-align:center;
            padding:4rem 1rem;
            color:var(--text-muted);
        }
        .empty-state svg {
            font-size:4rem;
            margin-bottom:1.5rem;
            color:var(--gray);
            opacity: 0.5;
        }
        .empty-state h3 {
            font-size: 1.5rem;
            color: var(--text);
            margin-bottom: 0.5rem;
        }
        .loading {text-align:center; padding:3rem 1rem; display:none;}
        .spinner {
            display:inline-block;
            width:50px;
            height:50px;
            border:4px solid rgba(139, 92, 246, 0.2);
            border-radius:50%;
            border-top-color:var(--primary);
            animation:spin 1s ease-in-out infinite;
            margin-bottom:1rem;
        }
        @keyframes spin {to {transform:rotate(360deg);}}
        .stats {
            display:flex;
            gap:1.5rem;
            flex-wrap:wrap;
            margin:0 0 3rem 0;
            justify-content:center;
        }
        .stat-card {
            background: rgba(30, 41, 59, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius:var(--radius);
            padding:1.75rem 1.5rem;
            box-shadow:var(--shadow);
            border: 2px solid var(--border);
            min-width:170px;
            text-align:center;
            flex-grow:1;
            max-width:240px;
            transition: var(--transition);
        }
        .stat-card:hover {
            transform: translateY(-4px);
            border-color: var(--primary);
            box-shadow: var(--shadow-lg);
        }
        .stat-number {
            font-size:2.5rem;
            font-weight:900;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom:0.5rem;
            line-height: 1;
        }
        .stat-label {
            font-size:0.95rem;
            color:var(--text-muted);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        footer {
            background: rgba(30, 41, 59, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-top:2px solid rgba(139, 92, 246, 0.2);
            padding:3rem 0;
            margin-top:4rem;
        }
        .footer-content {
            display:flex;
            justify-content:space-between;
            align-items:center;
        }
        .footer-content > div:first-child {
            font-weight: 600;
            color: var(--text-muted);
        }
        .footer-links {display:flex; gap:2rem;}
        .footer-link {
            color:var(--text-muted);
            text-decoration:none;
            transition:var(--transition);
            display:flex;
            align-items:center;
            font-weight: 600;
        }
        .footer-link:hover {
            color:var(--primary-light);
            transform: translateY(-2px);
        }
        .footer-link svg {margin-right:0.5rem;}
        .back-to-top {
            position:fixed;
            bottom:2rem;
            right:2rem;
            width:55px;
            height:55px;
            background:var(--gradient-primary);
            color:white;
            border-radius:50%;
            display:flex;
            justify-content:center;
            align-items:center;
            text-decoration:none;
            box-shadow:var(--shadow-lg);
            opacity:0;
            visibility:hidden;
            transition:var(--transition);
            border:2px solid var(--primary);
            cursor:pointer;
            z-index: 50;
        }
        .back-to-top.visible {
            opacity:1;
            visibility:visible;
        }
        .back-to-top:hover {
            background:var(--primary-hover);
            transform:translateY(-5px) scale(1.1);
            box-shadow: 0 8px 30px rgba(139, 92, 246, 0.6);
        }
        .tooltip {position:relative;}
        .tooltip::after {
            content:attr(data-tooltip);
            position:absolute;
            bottom:100%;
            left:50%;
            transform:translateX(-50%);
            background:rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(8px);
            color:white;
            font-size:0.8rem;
            font-weight: 600;
            padding:0.5rem 0.75rem;
            border-radius:var(--radius-sm);
            white-space:nowrap;
            opacity:0;
            visibility:hidden;
            transition:var(--transition);
            pointer-events:none;
            border: 1px solid var(--border);
        }
        .tooltip:hover::after {
            opacity:1;
            visibility:visible;
            bottom:calc(100% + 8px);
        }
        .pill {
            display:inline-block;
            padding:0.25rem 0.75rem;
            border-radius:999px;
            font-size:0.75rem;
            font-weight:600;
            margin:0.15rem;
        }
        .pill.game {
            background:rgba(139, 92, 246, 0.2);
            color:var(--primary-light);
        }
        .pill.tool {
            background:rgba(6, 182, 212, 0.2);
            color:var(--secondary-light);
        }
        .filter-container {position:relative;}
        .filter-dropdown {
            position:absolute;
            top:100%;
            left:0;
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(12px);
            border-radius:var(--radius);
            box-shadow:var(--shadow-lg);
            width:200px;
            max-height:300px;
            overflow-y:auto;
            z-index:10;
            display:none;
            margin-top:0.5rem;
            border:2px solid var(--border);
        }
        .filter-item {
            padding:0.75rem 1.25rem;
            cursor:pointer;
            transition:var(--transition);
            font-weight: 600;
        }
        .filter-item:hover {
            background:rgba(139, 92, 246, 0.2);
        }
        .filter-item.active {
            background:var(--gradient-primary);
            color:white;
        }
        .clear-search {
            position:absolute;
            right:3rem;
            top:50%;
            transform:translateY(-50%);
            color:var(--text-muted);
            cursor:pointer;
            font-size:1rem;
            display:none;
            padding: 0.25rem;
            transition: var(--transition);
        }
        .clear-search:hover {
            color: var(--primary-light);
        }
        .visually-hidden {position: absolute; width: 1px; height: 1px; margin: -1px; padding: 0; overflow: hidden; clip: rect(0, 0, 0, 0); border: 0;}
        .skeleton {
            position: relative;
            background: linear-gradient(90deg, rgba(30, 41, 59, 0.8) 0%, rgba(51, 65, 85, 0.8) 50%, rgba(30, 41, 59, 0.8) 100%);
            background-size: 200% 100%;
            border-radius: var(--radius);
            overflow: hidden;
            animation: skeleton-shimmer 2s ease-in-out infinite;
        }
        @keyframes skeleton-shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        .skeleton-card {
            background: rgba(30, 41, 59, 0.6);
            border: 2px solid var(--border);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        .skeleton-img { width: 100%; aspect-ratio: 16/10; background: var(--bg-light); }
        .skeleton-title { height: 22px; width: 75%; margin: 1.25rem 1.25rem 0.75rem 1.25rem; }
        .skeleton-desc { height: 14px; width: 90%; margin: 0.5rem 1.25rem; }
        .skeleton-desc-short { width: 65%; }
        .skeleton-btn { height: 42px; width: 120px; margin: auto 1.25rem 1.25rem 1.25rem; border-radius: var(--radius); }
        .skeleton-stat-card {
            background: rgba(30, 41, 59, 0.6);
            border: 2px solid var(--border);
            border-radius: var(--radius);
            padding: 1.75rem 1.5rem;
            box-shadow: var(--shadow);
            min-width: 170px;
            text-align: center;
            flex-grow: 1;
            max-width: 240px;
        }
        .skeleton-stat-number { height: 32px; width: 60%; margin: 0 auto 0.75rem auto; }
        .skeleton-stat-label { height: 18px; width: 80%; margin: 0 auto; }
        @media (max-width:768px) {
            .hero h1 {font-size: 2.25rem;}
            .hero p {font-size: 1.05rem;}
            .header-content {flex-wrap:wrap; height:auto; padding:1rem;}
            .search-bar {width:100%; margin-top:1rem; order:3;}
            .view-controls {margin-top:1rem;}
            .grid-view {grid-template-columns:repeat(auto-fill, minmax(160px, 1fr)); gap: 1rem;}
            .list-card {flex-direction:column; height:auto; max-height:none;}
            .list-card .card-img-wrap {width:100%;}
            .footer-content {flex-direction:column; gap:1.5rem; text-align:center;}
            .footer-links {justify-content:center; flex-wrap: wrap;}
            .random-btn {margin-left:0; order:3; width:100%; margin-top:0.75rem;}
            .stat-card {min-width:120px; padding: 1.25rem 1rem;}
            .stat-number {font-size: 2rem;}
            .section-title {font-size: 1.5rem;}
            .filter-bar {top: 70px;}
        }
        @media (max-width:480px) {
            .hero h1 {font-size: 1.75rem;}
            .hero {padding: 3rem 0 2.5rem;}
            .filter-options {gap: 0.5rem;}
            .filter-btn {padding: 0.5rem 0.85rem; font-size: 0.85rem;}
        }

        .svg-inline--fa {display: inline-block;vertical-align: -0.125em;overflow: visible;}
        #themeToggleBtn:focus-visible {outline: 2px solid var(--primary);}
        .theme-icon-light, .theme-icon-dark {pointer-events: none;}

        /* Light Mode Overrides */
        .light-mode {
            --primary:#8B5CF6; --primary-hover: #7C3AED; --primary-light: #A78BFA;
            --secondary: #06B6D4; --secondary-hover: #0891B2; --secondary-light: #22D3EE;
            --accent: #F472B6; --accent-hover: #EC4899;
            --bg: #F8FAFC; --bg-light: #F1F5F9; --card:#FFFFFF; --card-hover: #F8FAFC;
            --dark:#0F172A; --gray:#E2E8F0; --text:#0F172A; --text-muted: #64748B; --border:#E2E8F0;
            --shadow:0 4px 20px rgba(0,0,0,0.08); --shadow-lg:0 20px 50px rgba(0,0,0,0.15);
        }
        .light-mode body {
            background: linear-gradient(180deg, #F8FAFC 0%, #E0E7FF 100%);
        }
        .light-mode body::before {
            background:
                radial-gradient(circle at 20% 50%, rgba(139, 92, 246, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(6, 182, 212, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(244, 114, 182, 0.06) 0%, transparent 50%);
        }
        .light-mode header {
            background: rgba(255, 255, 255, 0.8);
            border-bottom: 1px solid rgba(139, 92, 246, 0.15);
        }
        .light-mode .filter-bar {
            background: rgba(255, 255, 255, 0.6);
            border-bottom: 1px solid rgba(139, 92, 246, 0.15);
        }
        .light-mode .card, .light-mode .stat-card {
            background: rgba(255, 255, 255, 0.8);
        }
        .light-mode .filter-btn {
            background: rgba(248, 250, 252, 0.8);
        }
        .light-mode .search-bar input {
            background: rgba(248, 250, 252, 0.8);
        }
        .light-mode .search-bar input:focus {
            background: rgba(255, 255, 255, 0.95);
        }
        .light-mode .sort-select, .light-mode .category-select {
            background: rgba(248, 250, 252, 0.9);
        }
        .light-mode footer {
            background: rgba(255, 255, 255, 0.6);
            border-top: 2px solid rgba(139, 92, 246, 0.15);
        }
        .light-mode .skeleton-card {
            background: rgba(255, 255, 255, 0.6);
        }
        .light-mode .skeleton {
            background: linear-gradient(90deg, rgba(241, 245, 249, 0.8) 0%, rgba(226, 232, 240, 0.8) 50%, rgba(241, 245, 249, 0.8) 100%);
        }
        .light-mode .filter-dropdown {
            background: rgba(255, 255, 255, 0.95);
        }

        /* Theme icon visibility - default is dark mode */
        .theme-icon-dark { display: none; }
        .theme-icon-light { display: inline-block !important; }
        .light-mode .theme-icon-light { display: none; }
        .light-mode .theme-icon-dark { display: inline-block !important; }
    </style>
</head>
<body>
<header>
    <div class="container header-content">
        <a href="/" class="logo" title='...with emphasis on "Games".'>
            <img src="img/logo.svg" width="20" height="20" alt="GPTGames Logo">&nbsp;GPTGames
        </a>
        <div class="search-bar">
            <label for="searchInput" class="visually-hidden">Search games & tools</label>
            <input type="search" id="searchInput" placeholder="Search games & tools" aria-label="Search">
            <span class="clear-search" id="clearSearch" title="Clear search" aria-label="Clear search">âœ•</span>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor" class="svg-inline--fa" aria-hidden="true">
                <path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/>
            </svg>
        </div>
        <div class="view-controls">
            <button class="view-btn active tooltip" id="gridViewBtn" data-tooltip="Grid View" aria-label="Grid View">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor" class="svg-inline--fa" aria-hidden="true">
                    <path d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm88 64l0 64-88 0 0-64 88 0zm56 0l88 0 0 64-88 0 0-64zm240 0l0 64-88 0 0-64 88 0zM64 224l88 0 0 64-88 0 0-64zm232 0l0 64-88 0 0-64 88 0zm64 0l88 0 0 64-88 0 0-64zM152 352l0 64-88 0 0-64 88 0zm56 0l88 0 0 64-88 0 0-64zm240 0l0 64-88 0 0-64 88 0z"/>
                </svg>
            </button>
            <button class="view-btn tooltip" id="listViewBtn" data-tooltip="List View" aria-label="List View">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor" class="svg-inline--fa" aria-hidden="true">
                    <path d="M40 48C26.7 48 16 58.7 16 72l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24L40 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM16 232l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0z"/>
                </svg>
            </button>
            <button class="view-btn tooltip" id="themeToggleBtn" data-tooltip="Toggle Dark/Light Mode" aria-label="Toggle Dark/Light Mode">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor" class="svg-inline--fa theme-icon-light" aria-hidden="true">
                    <path d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"/>
                </svg>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" width="1em" height="1em" fill="currentColor" class="svg-inline--fa theme-icon-dark" aria-hidden="true" style="display: none;">
                    <path d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"/>
                </svg>
            </button>
        </div>
    </div>
</header>

<div class="filter-bar">
    <div class="container">
        <div class="filter-options">
            <button class="filter-btn active" data-filter="all">All Items</button>
            <button class="filter-btn" data-filter="game">Games</button>
            <button class="filter-btn" data-filter="tool">Tools</button>
            <button class="filter-btn" data-filter="ai">AI Powered</button>
            <button class="filter-btn" data-filter="featured">Featured</button>
            <button class="filter-btn" data-filter="new">New</button>

            <label for="categoryFilter" class="visually-hidden">Select Category</label>
            <select id="categoryFilter" class="category-select" aria-label="Filter by category">
                <option value="all">All Categories</option>
                <option value="puzzle">Puzzles</option>
                <option value="arcade">Arcade</option>
                <option value="card">Card Games</option>
                <option value="text">Text Tools</option>
                <option value="image">Image Tools</option>
                <option value="converter">Converters</option>
                <option value="generator">Generators</option>
                <option value="utility">Utilities</option>
            </select>

            <label for="sortSelect" class="visually-hidden">Sort By</label>
            <select id="sortSelect" class="sort-select" aria-label="Sort items">
                <option value="newest">Newest First</option>
                <option value="featured">Featured First</option>
                <option value="oldest">Oldest First</option>
                <option value="az">A-Z</option>
                <option value="za">Z-A</option>
            </select>

            <button class="filter-btn random-btn" id="randomBtn" aria-label="Random item">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" width="1em" height="1em" fill="currentColor" class="svg-inline--fa" aria-hidden="true">
                    <path d="M274.9 34.3c-28.1-28.1-73.7-28.1-101.8 0L34.3 173.1c-28.1 28.1-28.1 73.7 0 101.8L173.1 413.7c28.1 28.1 73.7 28.1 101.8 0L413.7 274.9c28.1-28.1 28.1-73.7 0-101.8L274.9 34.3zM200 224a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zM96 200a24 24 0 1 1 0 48 24 24 0 1 1 0-48zM224 376a24 24 0 1 1 0-48 24 24 0 1 1 0 48zM352 200a24 24 0 1 1 0 48 24 24 0 1 1 0-48zM224 120a24 24 0 1 1 0-48 24 24 0 1 1 0 48zm96 328c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-192c0-35.3-28.7-64-64-64l-114.3 0c11.6 36 3.1 77-25.4 105.5L320 413.8l0 34.2zM480 328a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"/>
                </svg> I'm Feeling Lucky</button>
        </div>
    </div>
</div>

<section class="hero">
    <div class="container hero-content">
        <h1>Discover AI-Powered<br>Games & Tools</h1>
        <p>Explore a growing collection of <span class="hero-highlight">interactive games</span> and <span class="hero-highlight">useful utilities</span> crafted and enhanced by AI. Free to use, open-source, and constantly evolving.</p>
    </div>
</section>

<main class="container">
    <div class="stats" id="statsContainer"></div>

    <section class="main-section">
        <div class="section-header">
            <h2 class="section-title" id="mainTitle">Featured Games & Tools</h2>
        </div>
        <div class="grid-view" id="mainGrid"></div>
        <div class="loading" id="loadingIndicator">
            <div class="spinner"></div>
            <p>Loading more items...</p>
        </div>
        <div class="empty-state" id="emptyState" style="display:none">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor" class="svg-inline--fa" aria-hidden="true">
                <path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/>
            </svg>
            <h3>No results found</h3>
            <p>Try adjusting your search or filters</p>
        </div>
    </section>
</main>

<footer>
    <div class="container footer-content">
        <div>&copy; <span id="currentYear"></span> GPTGames</div>
        <div class="footer-links">
            <a href="https://github.com/TobiasMue91/tobiasmue91.github.io" target="_blank" rel="noopener noreferrer" class="footer-link">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" width="1em" height="1em" fill="currentColor" class="svg-inline--fa" aria-hidden="true">
                    <path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/>
                </svg>GitHub
            </a>
            <a href="https://www.reddit.com/user/tobias_mueller" target="_blank" rel="noopener noreferrer" class="footer-link">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor" class="svg-inline--fa" aria-hidden="true">
                    <path d="M0 256C0 114.6 114.6 0 256 0S512 114.6 512 256s-114.6 256-256 256L37.1 512c-13.7 0-20.5-16.5-10.9-26.2L75 437C28.7 390.7 0 326.7 0 256zM349.6 153.6c23.6 0 42.7-19.1 42.7-42.7s-19.1-42.7-42.7-42.7c-20.6 0-37.8 14.6-41.8 34c-34.5 3.7-61.4 33-61.4 68.4l0 .2c-37.5 1.6-71.8 12.3-99 29.1c-10.1-7.8-22.8-12.5-36.5-12.5c-33 0-59.8 26.8-59.8 59.8c0 24 14.1 44.6 34.4 54.1c2 69.4 77.6 125.2 170.6 125.2s168.7-55.9 170.6-125.3c20.2-9.6 34.1-30.2 34.1-54c0-33-26.8-59.8-59.8-59.8c-13.7 0-26.3 4.6-36.4 12.4c-27.4-17-62.1-27.7-100-29.1l0-.2c0-25.4 18.9-46.5 43.4-49.9l0 0c4.4 18.8 21.3 32.8 41.5 32.8zM177.1 246.9c16.7 0 29.5 17.6 28.5 39.3s-13.5 29.6-30.3 29.6s-31.4-8.8-30.4-30.5s15.4-38.3 32.1-38.3zm190.1 38.3c1 21.7-13.7 30.5-30.4 30.5s-29.3-7.9-30.3-29.6c-1-21.7 11.8-39.3 28.5-39.3s31.2 16.6 32.1 38.3zm-48.1 56.7c-10.3 24.6-34.6 41.9-63 41.9s-52.7-17.3-63-41.9c-1.2-2.9 .8-6.2 3.9-6.5c18.4-1.9 38.3-2.9 59.1-2.9s40.7 1 59.1 2.9c3.1 .3 5.1 3.6 3.9 6.5z"/>
                </svg>Reddit
            </a>
        </div>
    </div>
</footer>

<button class="back-to-top" id="backToTop" aria-label="Back to top">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" width="1em" height="1em" fill="currentColor" class="svg-inline--fa" aria-hidden="true">
        <path d="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"/>
    </svg>
</button>

<script>
    const themeToggleBtn = document.getElementById('themeToggleBtn');
    const THEME_STORAGE_KEY = 'gptgames-theme';
    const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');

    function setTheme(theme, save) {
        const isLight = theme === 'light';
        document.documentElement.classList.toggle('light-mode', isLight);
        if (save) {
            localStorage.setItem(THEME_STORAGE_KEY, theme);
        }
    }

    function initTheme() {
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const preferredTheme = localStorage.getItem(THEME_STORAGE_KEY) || (prefersDark ? 'dark' : 'dark');
        setTheme(preferredTheme, false);
    }

    darkModeMediaQuery.addEventListener('change', (e) => {
        if (!localStorage.getItem(THEME_STORAGE_KEY)) {
            setTheme(e.matches ? 'dark' : 'light', false);
        }
    });

    themeToggleBtn.addEventListener('click', function() {
        const isLightMode = document.documentElement.classList.contains('light-mode');
        setTheme(isLightMode ? 'dark' : 'light', true);
    });

    initTheme();
</script>
<script>
    document.getElementById('currentYear').textContent = new Date().getFullYear();
    const searchInput = document.getElementById('searchInput');
    const clearSearch = document.getElementById('clearSearch');
    const categoryFilter = document.getElementById('categoryFilter');
    const sortSelect = document.getElementById('sortSelect');
    const mainGrid = document.getElementById('mainGrid');
    const mainTitle = document.getElementById('mainTitle');
    const emptyState = document.getElementById('emptyState');
    const loadingIndicator = document.getElementById('loadingIndicator');
    const backToTop = document.getElementById('backToTop');
    const filterButtons = document.querySelectorAll('.filter-btn:not(.random-btn)');
    const randomBtn = document.getElementById('randomBtn');
    const gridViewBtn = document.getElementById('gridViewBtn');
    const listViewBtn = document.getElementById('listViewBtn');
    const statsContainer = document.getElementById('statsContainer');
    const isMobile = navigator.userAgentData?.mobile ?? /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

    // State
    let allItems = [];
    let displayedItems = [];
    let currentFilter = 'all';
    let currentCategory = 'all';
    let currentSearch = '';
    let currentSort = 'newest';
    let currentPage = 1;
    let isListView = false;
    const itemsPerPage = 24;
    const THIRTY_DAYS_MS = 30 * 24 * 60 * 60 * 1000;

    // Initialize skeleton loaders
    function createSkeletonStatCard() {
        return `
            <div class="skeleton-stat-card">
                <div class="skeleton skeleton-stat-number"></div>
                <div class="skeleton skeleton-stat-label"></div>
            </div>
        `;
    }

    function createSkeletonCard() {
        return `
            <div class="skeleton-card">
                <div class="skeleton skeleton-img"></div>
                <div class="skeleton skeleton-title"></div>
                <div class="skeleton skeleton-desc"></div>
                <div class="skeleton skeleton-desc skeleton-desc-short"></div>
                <div class="skeleton skeleton-btn"></div>
            </div>
        `;
    }

    function initSkeletons() {
        // Init stats skeletons
        let statsSkeletons = '';
        for (let i = 0; i < 5; i++) {
            statsSkeletons += createSkeletonStatCard();
        }
        statsContainer.innerHTML = statsSkeletons;

        // Init card skeletons - calculate how many fit in the viewport
        const viewportWidth = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
        const viewportHeight = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);

        const cardWidth = isMobile ? 160 : 220;
        const cardHeight = 280;
        const gridGap = 20;

        const cardsPerRow = Math.floor(viewportWidth / (cardWidth + gridGap));
        const rowsVisible = Math.ceil((viewportHeight - 300) / (cardHeight + gridGap));

        // Create at least 8 cards or enough to fill viewport plus one row
        const skeletonCount = Math.max(8, cardsPerRow * (rowsVisible + 1));

        let gridSkeletons = '';
        for (let i = 0; i < skeletonCount; i++) {
            gridSkeletons += createSkeletonCard();
        }
        mainGrid.innerHTML = gridSkeletons;
    }

    // Call immediately to show skeletons before data loads
    initSkeletons();

    // Category mapping function
    function getCategory(item) {
        const title = item.title.toLowerCase();
        const type = item.type;

        if (type === 'game') {
            if (/puzzle|sudoku|2048|match|word|connect|lights/i.test(title)) return 'puzzle';
            if (/arcade|snake|tetris|pong|flappy|asteroid|frogger|missile|invacers/i.test(title)) return 'arcade';
            if (/card|blackjack|poker|solitaire/i.test(title)) return 'card';
            return 'other';
        } else {
            if (/text|word|grammar|markdown|character/i.test(title)) return 'text';
            if (/convert|translator|encoder|decoder/i.test(title)) return 'converter';
            if (/image|photo|picture|crop|compress/i.test(title)) return 'image';
            if (/generat|creat/i.test(title)) return 'generator';
            if (/calculator|timer|clock|todo|plan/i.test(title)) return 'utility';
            return 'other';
        }
    }

    // Check if item is new (less than 30 days old)
    function isNewItem(item) {
        if (!item.date) return false;
        const itemDate = new Date(item.date);
        const now = new Date();
        return (now - itemDate) < THIRTY_DAYS_MS;
    }

    // Create card HTML
    function createCard(item, index) {
        const isNew = isNewItem(item);
        const cardClass = `card ${item.type}${isListView ? ' list-card' : ''}`;

        let numberOfLazyLoads = isMobile ? 4 : 10;
        const shouldLazyLoad = index >= numberOfLazyLoads;
        const loadingAttribute = shouldLazyLoad ? 'loading="lazy"' : 'fetchpriority="high"';

        return `
    <div class="${cardClass}" data-id="${item.id}" data-type="${item.type}" data-category="${getCategory(item)}">
        <div class="card-img-wrap">
            <img src="${item.screenshot}" alt="${item.title}" class="card-img" ${loadingAttribute}>
            <span class="card-type ${item.type}">${item.type}</span>
            <div class="card-badges">
                ${item.aiPowered ? '<span class="card-badge">AI Powered</span>' : ''}
                ${isNew ? '<span class="card-badge new-badge">New</span>' : ''}
                ${item.featured ? '<span class="card-badge featured-badge">Featured</span>' : ''}
            </div>
        </div>
        <div class="card-content">
            <h3 class="card-title" title="${item.title}">${item.title}</h3>
            <div class="card-description-container">
                <p class="card-desc${isListView ? '' : ' truncated'}" title="${item.description || ''}">${item.description || ''}</p>
                ${!isListView && item.description && item.description.length > 60 ?
            `<button class="read-more" data-id="${item.id}" aria-label="Read more about ${item.title}">Read more</button>` : ''}
            </div>
            <a href="${item.url}" class="card-btn ${item.type}">${item.type === 'game' ? 'Play Game' : 'Use Tool'}</a>
        </div>
    </div>`;
    }

    // Update statistics
    function updateStats() {
        // Count items
        const gameCount = allItems.filter(item => item.type === 'game').length;
        const toolCount = allItems.filter(item => item.type === 'tool').length;
        const aiCount = allItems.filter(item => item.aiPowered).length;
        const newCount = allItems.filter(item => isNewItem(item)).length;

        statsContainer.innerHTML = `
        <div class="stat-card">
            <div class="stat-number">${allItems.length}</div>
            <div class="stat-label">Total Items</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">${gameCount}</div>
            <div class="stat-label">Games</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">${toolCount}</div>
            <div class="stat-label">Tools</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">${aiCount}</div>
            <div class="stat-label">AI Powered</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">${newCount}</div>
            <div class="stat-label">New Items</div>
        </div>
    `;
    }

    // Filter and display items
    let isInitialLoad = true;

    function filterAndDisplayItems(resetPage = true, updateHistory = true) {
        if (resetPage) currentPage = 1;

        let filtered = [...allItems];

        if (currentFilter === 'game' || currentFilter === 'tool') {
            filtered = filtered.filter(item => item.type === currentFilter);
        } else if (currentFilter === 'ai') {
            filtered = filtered.filter(item => item.aiPowered);
        } else if (currentFilter === 'featured') {
            filtered = filtered.filter(item => item.featured);
        } else if (currentFilter === 'new') {
            filtered = filtered.filter(item => isNewItem(item));
        }

        statsContainer.style.display = currentCategory === 'all' && currentFilter === 'all' ? 'flex' : 'none';

        if (currentCategory !== 'all') {
            filtered = filtered.filter(item => getCategory(item) === currentCategory);
        }

        if (currentSearch) {
            const search = currentSearch.toLowerCase();
            filtered = filtered.filter(item =>
                item.title.toLowerCase().includes(search) ||
                (item.description && item.description.toLowerCase().includes(search))
            );
            clearSearch.style.display = 'block';
        } else {
            clearSearch.style.display = 'none';
        }

        filtered = sortItems(filtered, currentSort);
        updateTitle(filtered);

        if (updateHistory && !isInitialLoad) {
            const params = new URLSearchParams();
            if (currentFilter !== 'all') params.set('filter', currentFilter);
            if (currentCategory !== 'all') params.set('category', currentCategory);
            if (currentSort !== 'newest') params.set('sort', currentSort);
            if (currentSearch) params.set('search', currentSearch);
            if (isListView) params.set('view', 'list');

            const url = params.toString() ? `?${params.toString()}` : window.location.pathname;
            history.pushState({ filter: currentFilter, category: currentCategory, sort: currentSort,
                search: currentSearch, view: isListView ? 'list' : 'grid', page: currentPage }, '', url);
        }

        if (filtered.length === 0) {
            mainGrid.innerHTML = '';
            emptyState.style.display = 'block';
            return;
        }

        emptyState.style.display = 'none';
        displayedItems = filtered;

        const end = currentPage * itemsPerPage;
        const itemsToShow = filtered.slice(0, end);

        mainGrid.className = isListView ? 'list-view' : 'grid-view';
        mainGrid.innerHTML = itemsToShow.map((item, index) => createCard(item, index)).join('');

        document.querySelectorAll('.read-more').forEach(btn => {
            btn.addEventListener('click', function() {
                const descContainer = this.previousElementSibling;
                descContainer.classList.toggle('truncated');
                this.textContent = descContainer.classList.contains('truncated') ? 'Read more' : 'Read less';
            });
        });

        document.querySelectorAll('.card').forEach(card => {
            card.addEventListener('click', e => {
                if (!e.target.closest('.read-more')) card.querySelector('a').click();
            });
        });
    }

    async function fetchData() {
        try {
            const [gamesResponse, toolsResponse] = await Promise.all([
                fetch('data/games.json'),
                fetch('data/tools.json')
            ]);

            const gamesData = await gamesResponse.json();
            const toolsData = await toolsResponse.json();

            allItems = [...gamesData, ...toolsData];
            updateStats();

            const params = new URLSearchParams(window.location.search);

            if (params.get('filter')) {
                currentFilter = params.get('filter');
                filterButtons.forEach(btn => {
                    btn.classList.toggle('active', btn.getAttribute('data-filter') === currentFilter);
                });
            }

            if (params.get('category')) {
                currentCategory = params.get('category');
                categoryFilter.value = currentCategory;
            }

            if (params.get('sort')) {
                currentSort = params.get('sort');
                sortSelect.value = currentSort;
            }

            if (params.get('search')) {
                currentSearch = params.get('search');
                searchInput.value = currentSearch;
            }

            if (params.get('view') === 'list') {
                isListView = true;
                listViewBtn.classList.add('active');
                gridViewBtn.classList.remove('active');
            }

            filterAndDisplayItems(true, false);

            const stateParams = new URLSearchParams();
            if (currentFilter !== 'all') stateParams.set('filter', currentFilter);
            if (currentCategory !== 'all') stateParams.set('category', currentCategory);
            if (currentSort !== 'newest') stateParams.set('sort', currentSort);
            if (currentSearch) stateParams.set('search', currentSearch);
            if (isListView) stateParams.set('view', 'list');

            const url = stateParams.toString() ? `?${stateParams.toString()}` : window.location.pathname;
            history.replaceState({ filter: currentFilter, category: currentCategory, sort: currentSort,
                search: currentSearch, view: isListView ? 'list' : 'grid', page: currentPage }, '', url);

            isInitialLoad = false;
        } catch (error) {
            console.error('Error fetching data:', error);
            mainGrid.innerHTML = `<div class="empty-state"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor" class="svg-inline--fa"><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24l0 112c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-112c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/></svg><h3>Error loading data</h3><p>Please try again later</p></div>`;
        }
    }

    window.addEventListener('popstate', function(event) {
        if (event.state) {
            currentFilter = event.state.filter || 'all';
            currentCategory = event.state.category || 'all';
            currentSort = event.state.sort || 'newest';
            currentSearch = event.state.search || '';
            isListView = event.state.view === 'list';
            currentPage = event.state.page || 1;

            filterButtons.forEach(btn => {
                btn.classList.toggle('active', btn.getAttribute('data-filter') === currentFilter);
            });

            categoryFilter.value = currentCategory;
            sortSelect.value = currentSort;
            searchInput.value = currentSearch;

            if (isListView) {
                listViewBtn.classList.add('active');
                gridViewBtn.classList.remove('active');
            } else {
                gridViewBtn.classList.add('active');
                listViewBtn.classList.remove('active');
            }

            filterAndDisplayItems(false, false);
        }
    });

    // Sort items
    function sortItems(items, sortMethod) {
        switch (sortMethod) {
            case 'featured':
                return items.sort((a, b) => (b.featured ? 1 : 0) - (a.featured ? 1 : 0) || new Date(b.date || 0) - new Date(a.date || 0));
            case 'newest':
                return items.sort((a, b) => new Date(b.date || 0) - new Date(a.date || 0));
            case 'oldest':
                return items.sort((a, b) => new Date(a.date || 0) - new Date(b.date || 0));
            case 'az':
                return items.sort((a, b) => a.title.localeCompare(b.title));
            case 'za':
                return items.sort((a, b) => b.title.localeCompare(a.title));
            default:
                return items;
        }
    }

    // Update title based on filters
    function updateTitle(filtered) {
        let title = '';

        if (currentFilter === 'featured') {
            title = 'Featured';
        } else if (currentFilter === 'ai') {
            title = 'AI Powered';
        } else if (currentFilter === 'new') {
            title = 'New';
        } else if (currentFilter === 'game') {
            title = 'Games';
        } else if (currentFilter === 'tool') {
            title = 'Tools';
        } else {
            title = 'All Items';
        }

        if (currentCategory !== 'all') {
            title += ` - ${currentCategory.charAt(0).toUpperCase() + currentCategory.slice(1)}`;
        }

        if (currentSearch) {
            title += ` matching "${currentSearch}"`;
        }

        title += ` (${filtered.length})`;
        mainTitle.textContent = title;
    }

    // Load more items
    function loadMore() {
        if (currentPage * itemsPerPage >= displayedItems.length) return;

        loadingIndicator.style.display = 'block';

        // Simulate loading delay
        setTimeout(() => {
            currentPage++;
            filterAndDisplayItems(false);
            loadingIndicator.style.display = 'none';
        }, 400);
    }

    // Show random item
    function showRandomItem() {
        if (allItems.length === 0) return;

        const randomItem = allItems[Math.floor(Math.random() * allItems.length)];
        window.location.href = randomItem.url;
    }

    // Event listeners
    searchInput.addEventListener('input', function() {
        currentSearch = this.value.trim();
        filterAndDisplayItems();
    });

    clearSearch.addEventListener('click', function() {
        searchInput.value = '';
        currentSearch = '';
        filterAndDisplayItems();
    });

    categoryFilter.addEventListener('change', function() {
        currentCategory = this.value;
        filterAndDisplayItems();
    });

    sortSelect.addEventListener('change', function() {
        currentSort = this.value;
        filterAndDisplayItems();
    });

    filterButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            filterButtons.forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            currentFilter = this.getAttribute('data-filter');
            filterAndDisplayItems();
        });
    });

    randomBtn.addEventListener('click', showRandomItem);

    gridViewBtn.addEventListener('click', function() {
        if (isListView) {
            isListView = false;
            gridViewBtn.classList.add('active');
            listViewBtn.classList.remove('active');
            filterAndDisplayItems(false);
        }
    });

    listViewBtn.addEventListener('click', function() {
        if (!isListView) {
            isListView = true;
            listViewBtn.classList.add('active');
            gridViewBtn.classList.remove('active');
            filterAndDisplayItems(false);
        }
    });

    // Infinite scroll
    window.addEventListener('scroll', function() {
        if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 800) {
            loadMore();
        }

        // Toggle back to top button
        if (window.scrollY > 500) {
            backToTop.classList.add('visible');
        } else {
            backToTop.classList.remove('visible');
        }
    });

    backToTop.addEventListener('click', function(e) {
        e.preventDefault();
        window.scrollTo({top: 0, behavior: 'smooth'});
    });

    fetchData();
</script>
<script src="timeline.js"></script>
<script>
    if (typeof navigator.serviceWorker !== 'undefined') {
        navigator.serviceWorker.register('sw.js')
    }
</script>
<script data-goatcounter="https://gptgames.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</body>
</html>